Post,Title,Comment,Query,Contents
1,About the Copter Simulation category,0,Discussions area for * (SITL) * related to copter,
2,Read first: How to use this forum,0,"Welcome to the APM:Copter forum! Before posting, please check the *, review the firmware release notes in the subforum, and search this subforum for existing answers to your question. Help avoid duplicate threads by finding other operators with the same issue. When formulating your post, use a descriptive title such as “Copter altitude not stable in alt hold mode” (not “HELP!” or “Problem”). Please include the following information to help diagnose your query: [ul][li]Describe the problem you are having. What is the expected verses the observed behavior?[/li] [li]Provide hardware information such as the brand and version of your autopilot, GPS, radio, and compass, as well as any other pertinent details about your setup.[/li] [li]What version of the APM:Copter firmware version are you running?[/li] [li]For flight issues, provide your dataflash log. * for instructions on retrieving a dataflash log.[/li][/ul]",
3,AP: Arm: Roll (RC1) is not neutral,1,If I load joystick module “module load joystick” I can’t arm throttle because of error messages:  * It looks to me that there is some issue with the deadzone of the joypad but I don’t know how to configure it. Can someone help?,have you done the radio calibration yet? that should possibly solve the issue
3,AP: Arm: Roll (RC1) is not neutral,2,If I load joystick module “module load joystick” I can’t arm throttle because of error messages:  * It looks to me that there is some issue with the deadzone of the joypad but I don’t know how to configure it. Can someone help?,I don’t know how to try radio calibration. What I have learned so far is how to run SITL with sim_vehicle.py script and load joystick module. I tried searching for radio calibration but the only link that looks related is radio calibration for Mission Planner (*). As far as I understand sim_vehicle.py is not running mission planner. How can I do radio calibration with my setup (SITL)? This is how I start my simulation:
3,AP: Arm: Roll (RC1) is not neutral,3,If I load joystick module “module load joystick” I can’t arm throttle because of error messages:  * It looks to me that there is some issue with the deadzone of the joypad but I don’t know how to configure it. Can someone help?,shoot sorry I didn’t read where this was posted sorry I am also very new at simulation so I am afraid I cannot be much help. But will also poke around see what I can find
4,GPS is not healthy with Airsim,1,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all","Hello Yes I confirm, I have this APM: PreArm: GPS is not healthy error as well. I reverted to 4.2 and it works ok * are you still active on the dev ?"
4,GPS is not healthy with Airsim,2,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all","I’ve had frequent GPS not healthy errors before, but they generally clear after a few seconds, just initializing I guess. Haven’t kept myself up to date with exactly what changed in between, maybe the GPS checks got a bit more tighter? I’ll try out the latest AP master and test, will post if there are any updates. But might take some time, potentially next week. * Yeah, still active, but less frequent since semester is going on and too much of stuff to do, mostly responding on some issues or small bug-fixes, rebasing old PRs, and some review stuff. One possibility could be that AirSim follows a simpler conversion from NED<->GPS, * has some info and links, might be causing the problem."
4,GPS is not healthy with Airsim,3,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all","OK  I got it , The SITL directory has changed and we need to take the parameter file directly from default : cd ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map --add-param-file=…/Tools/autotest/default_params/airsim-quadX.parm"
4,GPS is not healthy with Airsim,4,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all","well… no  there is something deeper into this issue for the moment , revert back to Copter-4.0 Or DISABLE ARMING CHECK  "
4,GPS is not healthy with Airsim,5,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all",hello，how to DISABLE ARMING CHECK? thanks
4,GPS is not healthy with Airsim,6,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all",* set param ARMING_CHECK to 0 * did you find out what the issue was here?
4,GPS is not healthy with Airsim,7,"Hi everyone, I’m trying to simulate ardupilot with airsim simulation. I’ve installed an ubuntu 18.04 in my machine and I’ve installed all the prerequisites by Tools/environment_install/install-prereqs-ubuntu.sh script. I downloaded the binary “Blocks” from airsim main page. Everything works fine but when I send a command to takeoff (for example), the console shows the next message: APM: PreArm: GPS is not healthy what is my mistake here??? thank you all","for beginners (and I am one) the exact line is: param set ARMING_CHECK 0 PS: Only use this in simulation, there is a reason for ARMING not to work and it needs to be found before a flight."
5,Can I configure simulated quadcopter in SITL?,1,"Hi, Is it possible to configure quadcopter parameters in SITL? I want to configure a drone with specific motors, propellers, weight and set of sensors. I guess that there would have to be some parameters that I can read of these components (or derive by computation) and enter into SITL and simulate the expected drone behavior. Any link to documentation or tutorial would be greatly appreciated!",I found the answer in documentation: *
6,ArduCopter Airsim not runnig with parameters,0,"Hello everyone, my name is Burak. I am trying to simulate with airsim on windows platform. I have installed all the requirements. As seen in the first image, ardupilot sitl works successfully and I can connect with the mission planner. I can do guided control by connecting with the dronekit library. In addition, Airsim application works successfully when the setting.json file is not changed as seen in the image. However When I change the parameters in the setting.json file for the Airsim program as in the documentation, the screen locks up and the program becomes inoperable on the task manager. Also When I run the sim_vehicle.py file by adding the -f airsim-copter parameter, I am not getting any data and I am encountering the errors in the figure. Could you help with this?  * *",
7,AHRS_test build error,0,"hello everyone： when I build the ahrs_test with waf command, there is an error and I don’t know how to fix it ? anybody can help me? thank you .  *",
8,Problems occurred when I used sketches to learn code,1,"Hello, I encountered the following problems when I used sketches to learn code in the ardupilot tutorial and input the code for drawing horizontal lines. How can I solve them? Thank you！ Steps being learned： Running Examples in SITL Certain sketches can also be run in SITL. For example to run the protocol decoder sketch: cd $ARDUPILOT_HOME # the top-level of an ArduPilot repository ./waf configure --board sitl $ ./waf build --target examples/INS_generic To start the sketch, run it directly: ./build/sitl/examples/RCProtocolDecoder -M quad -C My  problem： fgf19@xin /cygdrive/d $ cd ardupilot/ fgf19@xin /cygdrive/d/ardupilot $ ./waf configure --board sitl Setting top to                           : /cygdrive/d/ardupilot Setting out to                           : /cygdrive/d/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 3.6.15 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 3.6.15 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (6.952s) fgf19@xin /cygdrive/d/ardupilot $ fgf19@xin /cygdrive/d/ardupilot $ ./waf build --target examples/INS_generic Waf: Entering directory /cygdrive/d/ardupilot/build/sitl' [4/4] Creating build/sitl/ap_version.h [364/469] Compiling libraries/DataFlash/DFMessageWriter.cpp [469/469] Linking build/sitl/examples/INS_generic.exe /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/../../../../x86_64-pc-cygwin/bin/ld: lib/libap.a(GCS_Common.cpp.0.o):GCS_Common.cpp:(.rdata$.refptr._ZN11GCS_MAVLINK18all_stream_entriesE[.refptr._ZN11GCS_MAVLINK18all_stream_entriesE]+0x0): undefined reference to GCS_MAVLINK::all_stream_entries’ /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/…/…/…/…/x86_64-pc-cygwin/bin/ld: lib/libap.a(GCS_Common.cpp.0.o):GCS_Common.cpp:(.rdata$.refptr._ZN11GCS_MAVLINK8var_infoE[.refptr._ZN11GCS_MAVLINK8var_infoE]+0x0): undefined reference to GCS_MAVLINK::var_info' /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/../../../../x86_64-pc-cygwin/bin/ld: lib/libap.a(AP_FWVersion.cpp.0.o):AP_FWVersion.c:(.rdata$.refptr._ZN12AP_FWVersion5fwverE[.refptr._ZN12AP_FWVersion5fwverE]+0x0): undefined reference to AP_FWVersion::fwver’ collect2: error: ld returned 1 exit status Waf: Leaving directory `/cygdrive/d/ardupilot/build/sitl’ Build failed  → task in ‘examples/INS_generic’ failed (exit status 1): {task 123145293590320: cxxprogram INS_generic.cpp.1.o → INS_generic.exe} /usr/bin/g++ -Wl,–gc-sections -pthread libraries/AP_InertialSensor/examples/INS_generic/INS_generic.cpp.1.o -oexamples/INS_generic.exe -Wl,-Bstatic -Llib -lap -Wl,-Bdynamic -lm -lwinmm",I think these sketches are not supported anymore… maybe * can bring some light on it.
8,Problems occurred when I used sketches to learn code,2,"Hello, I encountered the following problems when I used sketches to learn code in the ardupilot tutorial and input the code for drawing horizontal lines. How can I solve them? Thank you！ Steps being learned： Running Examples in SITL Certain sketches can also be run in SITL. For example to run the protocol decoder sketch: cd $ARDUPILOT_HOME # the top-level of an ArduPilot repository ./waf configure --board sitl $ ./waf build --target examples/INS_generic To start the sketch, run it directly: ./build/sitl/examples/RCProtocolDecoder -M quad -C My  problem： fgf19@xin /cygdrive/d $ cd ardupilot/ fgf19@xin /cygdrive/d/ardupilot $ ./waf configure --board sitl Setting top to                           : /cygdrive/d/ardupilot Setting out to                           : /cygdrive/d/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 3.6.15 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 3.6.15 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (6.952s) fgf19@xin /cygdrive/d/ardupilot $ fgf19@xin /cygdrive/d/ardupilot $ ./waf build --target examples/INS_generic Waf: Entering directory /cygdrive/d/ardupilot/build/sitl' [4/4] Creating build/sitl/ap_version.h [364/469] Compiling libraries/DataFlash/DFMessageWriter.cpp [469/469] Linking build/sitl/examples/INS_generic.exe /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/../../../../x86_64-pc-cygwin/bin/ld: lib/libap.a(GCS_Common.cpp.0.o):GCS_Common.cpp:(.rdata$.refptr._ZN11GCS_MAVLINK18all_stream_entriesE[.refptr._ZN11GCS_MAVLINK18all_stream_entriesE]+0x0): undefined reference to GCS_MAVLINK::all_stream_entries’ /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/…/…/…/…/x86_64-pc-cygwin/bin/ld: lib/libap.a(GCS_Common.cpp.0.o):GCS_Common.cpp:(.rdata$.refptr._ZN11GCS_MAVLINK8var_infoE[.refptr._ZN11GCS_MAVLINK8var_infoE]+0x0): undefined reference to GCS_MAVLINK::var_info' /usr/lib/gcc/x86_64-pc-cygwin/7.4.0/../../../../x86_64-pc-cygwin/bin/ld: lib/libap.a(AP_FWVersion.cpp.0.o):AP_FWVersion.c:(.rdata$.refptr._ZN12AP_FWVersion5fwverE[.refptr._ZN12AP_FWVersion5fwverE]+0x0): undefined reference to AP_FWVersion::fwver’ collect2: error: ld returned 1 exit status Waf: Leaving directory `/cygdrive/d/ardupilot/build/sitl’ Build failed  → task in ‘examples/INS_generic’ failed (exit status 1): {task 123145293590320: cxxprogram INS_generic.cpp.1.o → INS_generic.exe} /usr/bin/g++ -Wl,–gc-sections -pthread libraries/AP_InertialSensor/examples/INS_generic/INS_generic.cpp.1.o -oexamples/INS_generic.exe -Wl,-Bstatic -Llib -lap -Wl,-Bdynamic -lm -lwinmm",Are you using master branch from git? Have you done “git submodule update --init --recursive” ? Have you installed all cygwin dependencies?
9,Gimbal does not move in Gazebo,1,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,please use the latest SITL version. What version are you using?
9,Gimbal does not move in Gazebo,2,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,I am using ArduCopter V3.7.0-dev. I followed * link and built the ardupilot repo following * link.
9,Gimbal does not move in Gazebo,3,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,"Hello, Gazebo gimbal plugin is a gazebo plugin so it is not linked to SITL. I can make it works with sitl but I will need some time…"
9,Gimbal does not move in Gazebo,4,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,I also reached this conclusion that no commands are being sent by SITL to gazebo gimbal plugin because the /gimbal_tilt_command topic was not being published. Just wanted to confirm so I posted this problem here. Can you tell me what needs to be done to send the gimbal commands from SITL? Maybe I could make it work on my own. Or any other workaround I could use till this is implemented in SITL.
9,Gimbal does not move in Gazebo,5,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,Any progress on this? I am also trying to control the gimbal in gazebo with ardupilot/mavlink
9,Gimbal does not move in Gazebo,6,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,I also would like to see this feature added. i.e. control of the gimbal via mavlink
9,Gimbal does not move in Gazebo,7,Hi! I have set-up Gazebo with SITL by following * link and I am using Dronekit-Python to perform missions in Gazebo. The camera gimbal rotation commands through Dronekit or through MAVProxy terminal are reflected in the vehicle’s gimbal attribute (vehicle.gimbal) but the gimbal does not move in Gazebo and the camera view does not change. Gazebo throws no error (when run with the --verbose flag) so I am assuming that the gimbal_small_2d plugin is loading successfully. All the other functionalities are working i.e. the drone is flying in Gazebo as it should. But the gimbal is not moving at all. Can anyone please point me to the problem? Thanks,"hello * Is that, gazebo Gimbal plugin is linked with the SITL so, I can control the gazebo gimbal using mavlink. please let me know and if yes, please a proper instruction to do that."
10,Ardupilot SITL + gazebo on different computers,1,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","Hi, I have been struggling with the same issue over a week by now. According to the source, it seems that in libraries/AP_HAL_SITL/SITL_cmdline.cpp is the place where SITL is started. And at line 91, its clearly stated that simulator address can be specified as a command-line argument. According to my knowledge, this must be the address of Gazebo host. Now the thing is that this SITL is started via sim_vehicle.py somehow I guess, and I haven’t found a way yet how to pass that sim_address to SITIL via sim_vehicle. Pull request for this feature (*) also did not give much light about it. Only changes in sim_vehicle.py are new frame types. Might it be that it comes somehow from model definition? Now at gazebo side. There also should be this functionality implemented by this pull request: * If I’m not mistaken, it should allow specifying fdm_addr via model sdf configuration. I gave it a try, but when gazebo starts up, then UI still displays fdm_address as localhost. So I have to dig little deeper in that. Might be that my model configurations are somehow mixed up. Anyway, it would be nice if someone can share some light in that matter. Note, I’m not much familiar with either c++ nor ardupilot logic, so statements above are just assumptions made by searching through the source code. – Kpihus"
10,Ardupilot SITL + gazebo on different computers,2,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","* Re passing the address of the other computer running gazebo, you’ll have to use the -A arg in sim_vehicle.py to pass the next argument to the SITL instance. The arguments of the SITL instance are here - * The one for address is --sim-address Therefore, something like Change 127.0.0.1 to the correct address of the other machine Not sure about how to change it from the Gazebo side Hope this helps! Rajat"
10,Ardupilot SITL + gazebo on different computers,3,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","Hi, * thankyou for that. I’ll give it a try asap. Allready fixed gazebo side, i was editing wrong model file "
10,Ardupilot SITL + gazebo on different computers,4,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","Still not good enogh. As i understand i have to specify frametype as gazebo-iris with -f flag. But in this case, it cant connect to mavproxy. At least it keeps waiting heartbeat from tcp:127.0.0.1:5760. If i choos frame type as X for example, then it seems to work fine, but of course it does not open gazebo connection. Any ideas?"
10,Ardupilot SITL + gazebo on different computers,5,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","Ok, i get it, it needs gazebo connection i order to start mavproxy, right? Seems that i have still some issues there. EDIT: I have a feeling that something is still wrong. SITL starts with messages: Now that Bind 127.0.0.1:9003 for SITL in Is that correct? I presume it should listen on machines external address, in my case on 172.16.66.100 ?"
10,Ardupilot SITL + gazebo on different computers,6,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","It’s old post but, somebody solve this issue ?"
10,Ardupilot SITL + gazebo on different computers,7,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","Here’s an example of how to configure SITL and Gazebo so they can run on different machines. In this case we’re running:  Gazebo on a macOS machine with address 192.168.1.31  SITL on an Ubuntu VM machine with address 192.168.1.170   We’ll use the iris_with_ardupilot model from the ardupilot_gazebo repo. Configure the Gazebo model Edit the SDF the ardupilot_gazebo plugin in models/iris_with_ardupilot/model.sdf to read: Reinstall the model with: then launch Gazebo (on 192.168.1.31) with: It’s a little confusing as <fdm_addr> is actually the address of the SITL machine and the flight dynamics in this case is being supplied by Gazebo to SITL. The ardupilot_plugin will bind to the socket 192.168.1.31:9002 and listen for messages from SITL. It will attempt to connect to 192.1.168.170:9003 and then send messages to SITL. Run SITL On the machine that you’re running SITL (192.168.1.170) launch a session with: Note that you must place the additional SITL instance arguments in quotes. You don’t need to specify the ports --sim-port-in-9002 and --sim-port-out=9003 as we are using the defaults. In the SITL console you should see something like: Here SITL is binding to a datagram (udp) socket on the local machine. In the ArduPilot SITL code the socket is binding to 0.0.0.0:9003 not 127.0.0.1:9003 as reported. That’s important as the socket bound to 0.0.0.0:9003 will listen to all network interfaces not just the local machine (which is why Gazebo can then connect to it, whereas it could not connect to the loopback address)."
10,Ardupilot SITL + gazebo on different computers,8,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?",Thank you very much for help.
10,Ardupilot SITL + gazebo on different computers,9,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?","For anyone trying to do this with multiple SITL instances, each instance in a different computer you need the --sim-port-in and --sim-port-out but they are inverted with respect to the gazebo model."
10,Ardupilot SITL + gazebo on different computers,10,"I followed the SITL+gazebo tutorial (*) using the plugin (*) and I was able to run SITL + gazebo in the same computer. However, I want to be able to run SITL in one computer and gazebo in another one, is it possible to pass the address of the gazebo computer as a parameter when starting sim_veichle.py?",Hi Loki2020 I’m stuck. Can you help me? I applied instructions above. First of all there is no such a folder as […]/iris_with_ardupilot in swiftgust repo. I see “link 1 down” message on the Mavproxy white-theme console. What I did: Tried to make SITL and gazebo_plugin run in the same computer: 1 - on gazebo computer (192.168.1.36) modify …/iris_with_standoffs_demo/model.sdf as described above 2 - Reinstall and Launch gazebo as described above 3- Run SITL : sim_vehicle.py  -v ArduCopter  -f gazebo-iris  –sitl-instance-args=“–sim-address=192.168.1.36” –console  –map
11,Running Gazebo Ardupilot Plugin and Ardupilot SITL on Different Computers,1,"Hi, I have just begun drone programming and started from using SITL as you guess. All example about gazebo and SITL runs on the same computer using localhost. I want to run them on different computers such that one computer’s IP address is 192.168.1.36 and the other one’s 192.168.1.42. For example let gazebo run on 192.168.1.36 and SITL run on 192.168.1.42. There is already a  * which is old and doesnt have valid answers. Can anyone help me on this issue? Thanks…",Did you solve it? I’m trying to do the same thing.
11,Running Gazebo Ardupilot Plugin and Ardupilot SITL on Different Computers,2,"Hi, I have just begun drone programming and started from using SITL as you guess. All example about gazebo and SITL runs on the same computer using localhost. I want to run them on different computers such that one computer’s IP address is 192.168.1.36 and the other one’s 192.168.1.42. For example let gazebo run on 192.168.1.36 and SITL run on 192.168.1.42. There is already a  * which is old and doesnt have valid answers. Can anyone help me on this issue? Thanks…",No I quit after enough trying. If you solve please illuminate here
11,Running Gazebo Ardupilot Plugin and Ardupilot SITL on Different Computers,3,"Hi, I have just begun drone programming and started from using SITL as you guess. All example about gazebo and SITL runs on the same computer using localhost. I want to run them on different computers such that one computer’s IP address is 192.168.1.36 and the other one’s 192.168.1.42. For example let gazebo run on 192.168.1.36 and SITL run on 192.168.1.42. There is already a  * which is old and doesnt have valid answers. Can anyone help me on this issue? Thanks…",I provided a solution that worked for me in the discussion that you linked.
12,Align T-Rex 450 on simulator with Realflight,0,I am installing a FC on an Align T-Rex 450 helicopter and before trying it in the field I would like to test it on the simulator. I saw that on Github this model of helicopter does not exist and there is not even a helicopter of that class. Is anyone working on the construction of a 450 class helicopter on Realflight and STIL?,
13,Implementing Collision Avoidance with Range Finders in SITL,1,"Hello, I am currently attempting to configure obstacle avoidance for a copter in SITL using MissionPlanner 1.3.68 and ArduCopter 3.7.0.  I have configured the following parameters via MissionPlanner:  RNGFND#_ORIENT = 25 ( down ) RNGFND#_PIN = 0 RNGFND#_TYPE = 1 ( analog ) PRX_TYPE = 4 ( use rangefinders for proximity sensors ) AVOID_ENABLE = 7 ( use sensors for collision detection ) AVOID_BEHAVE = 1 ( stop when encountering an obstacle )  To check if the range finder was enabled and was reporting valid input I graphed RANGEFINDER.distance and was able to see accurate readings on takeoff and landing.  Additionally, when I set the rangefinder to be orientated forward instead of down and enabled the radar view in MissionPlanner via ctrl-f, I was able to see the rangefinder field in front of the drone. It is worth noting that the drone was flown in guided mode.  Upon reading several doc pages on collision detection, I believe collision avoidance is available in guided, loiter, and a few other modes. However, in both cases, the drone crashed when encountering an obstacle ( SITL console reported APM: Crash: Disarming ).  In the case of the downward facing sensor, we told the drone to fly straight into the ground ( using right click - fly to command on the sitl map window ) which it did, instead of stopping before crashing.  With the forward facing sensor, we told the drone to fly horizontally outwards and when it encountered an obstacle in front of it, it crashed again instead of stopping in front of the obstacle. EDIT Upon further investigation, I have found out how to run collision avoidance while using fences ( I believe ). When I enable fences via FENCE_ENABLE = 1 and set AVOID_ENABLE = 1 to use those fences as an obstacle source, the drone does exhibit the behavior of AVOID_BEHAVIOR.  So I suppose the new question should rather be if I am missing a parameter to enable the rangefinders to actually detect the SITL environment or if it simply not possible for them to detect the environment in SITL.  In which case, I wonder if it is possible to add obstacle to the SITL world.  I can add objects through gazebo, but I do not believe they can be sensed by the rangefinders simulated in SITL.  I have yet to finish running tests on this possibility, however. Any help with resolving this issue would be much appreciated. Thanks, Varun","Hi, did you make any progress on this ? I am also looking to test rangefinders (two or more) functionality in SITL."
14,Dronekit send waypoint command not executed,0,"I used DroneKit in Python to connect five UAVs to do the simulation on the ground station. Using ArduPilot firmware V4.2.1, they can move together in GUIDED mode when I send them a navigation point command together. However, in some cases, some or all of them will hover mid-flight, and they won’t move no matter if I send the point command again. They can RETURN NORMALLY WHEN CHANGING THEIR MODE to RTL, BUT THE SEND POINT COMMAND will no longer work. The MAVLINK message used by the waypoint command is SET_POSITION_TARGET_GLOBAL_INT",
15,Trad Heli Gazebo model,1,"Hi everybody, Has anyone simulated a traditional helicopter in Gazebo? I’ve never used Gazebo before, I’m about to start adapting the Iris model, but I thought I’d check if someone can save me a ton of time. Thanks! Patrick","Hi Patrick, could you simulate an helicopter on Gazebo? I’m trying to do it right now, but I have few problems with the swashplates. Thanks in advance! Francesco"
15,Trad Heli Gazebo model,2,"Hi everybody, Has anyone simulated a traditional helicopter in Gazebo? I’ve never used Gazebo before, I’m about to start adapting the Iris model, but I thought I’d check if someone can save me a ton of time. Thanks! Patrick","Hi Francesco, I didn’t move forward with this project - we ended up using RealFlight SITL. Good luck!"
15,Trad Heli Gazebo model,3,"Hi everybody, Has anyone simulated a traditional helicopter in Gazebo? I’ve never used Gazebo before, I’m about to start adapting the Iris model, but I thought I’d check if someone can save me a ton of time. Thanks! Patrick","Ok Phinchey, thank you!"
16,Getting async data with Pymavlink,0,"Hello, I want to access asynchronously the GPS position of my MAV with pymavlink but strangely I stop receiving it after takeoff. Setup:  MACOSX latest SITL latest  To request the GLOBAL_POSITION_INT message I use: * Then: * * But It seems that I receive no EXTENDED_SYS_STATE after the takeoff: * What did I miss ? Thanks a lot, Alex",
17,pymavlink-SITL: vehicle does not respond to mission waypoint command,0,"Hello, I am trying to run a script with pymavlink commands including arm, take-off and send some waypoints to a simulated hexa-copter from the mission planner’s SITL. Arm kai take-off are successful, the simulated copter responds, but it does not respond after waypoint commands are sent. I am attaching the code from the waypoint loader snapshot, can you see a fault in the implementation? Thank you. * *",
18,Multi-Vehicle(zephyr and iris) ardupilot gazebo simulation: Going to different points in Gazebo simulation for the same 'lat lon alt',0,"Hello community members I want to simulate a zephyr fixed-wing and an iris copter in one gazebo simulation using * repository. So What I have done is, I have opened the zephyr demo world in gazebo and inserted an iris model into the environment and finally saved that file as another file. after that I run SITL simulation for both iris and zephyr in the same location through -L option in sim_vehicle.py command. So I can assume when I give a guided lat lon alt command with the same arguments to both drones, the drones move toward a same location in the gazebo simulation, but each of them goes to a different place. I have tried to set the same yaw values for drones in gazebo, but it does not help and simulation result was the same behavior. Also I have read somethings about WGS84 but I don’t think it is important in my problem because it is the location of the world origin and the other things would have relative locations. Sincerely!",
19,SITL GPS Convergence Time,0,"Hi everyone, I’m running an arducopter SITL with Gazebo as described here. * Everything is working fine except for the fact that it can take about 60-90 seconds for the EKF to converge on a position solution to allow arming in GPS dependant modes. Is there a way to speed this up or force the EKF into a solution? I’ve tried increasing SIM_SPEEDUP significantly, but it doesn’t seem to make a lot of difference. Thanks, Luke",
20,Simulation failed,1,"I install the Ardupilot and its tools on windows 10 WSL2  along side the MAVProxy application on windows, however when I ran the following command either simulation or build failed any tips really appreciate *","Did you initialize the submodules after you cloned the repo? git submodule update --init --recursive Check git status and show it to us? If there are submodule changes try running ./Tools/gittools/submodule_sync.sh Once your repository is clean (no changes displayed by git status), ./waf distclean  (removes all previous builds) Try relaunching sim_vehicle.py"
20,Simulation failed,2,"I install the Ardupilot and its tools on windows 10 WSL2  along side the MAVProxy application on windows, however when I ran the following command either simulation or build failed any tips really appreciate *",hi thanks for your comments following are the images of command outputs It seems the connection failed to fetch 
21,"Unable to start SITL using Vagrant, sim_vehicle.py: command not found",1,Hi I am trying to run ArudCopter SITL in Vagrant by following this tutorial: * I am stuck on the step in the instructions where is says to run * I get  bash: sim_vehicle.py: command not found Connection to 127.0.0.1 closed.  I have a Git Bash terminal open in /c/Code/Master/ardupilot/Tools/vagrant on my Windows 10 machine. The previous command  vagrant@ubuntu-bionic:/vagrant$ git submodule update --init --recursive  seemed to run well and I ended by writing “exit” as instructed. Any tips? I saw that you were active in some related threads * so tagging you here,"If it is of any use, this is what I get when running “vagrant up” now"
21,"Unable to start SITL using Vagrant, sim_vehicle.py: command not found",2,Hi I am trying to run ArudCopter SITL in Vagrant by following this tutorial: * I am stuck on the step in the instructions where is says to run * I get  bash: sim_vehicle.py: command not found Connection to 127.0.0.1 closed.  I have a Git Bash terminal open in /c/Code/Master/ardupilot/Tools/vagrant on my Windows 10 machine. The previous command  vagrant@ubuntu-bionic:/vagrant$ git submodule update --init --recursive  seemed to run well and I ended by writing “exit” as instructed. Any tips? I saw that you were active in some related threads * so tagging you here,Did you ever solve this issue? Having the same issue on macOS.
22,Many mavproxy terminals pop up problem,1,"I am doing drone formation in Gazebo. I have 100 drones, which I control from pymavlink liabrary. The problem is that for each drone 3 or 2 terminals are supposed to pop-up. If I have 100 drones then 300 or 200 are going to pop-up. Which takes a lot of resources and hence makes the links between gazebo and mavproxy unstable, and periodically “link downe” message appears. I also tried -n 100 or --count 100 or -i 100, which only opens 100 terminals and hence use little resources. But now I am unable to control drones with pymavlink liabrary… Experts and devs, please do help… Regards","What scripts are you using for launching the drones? If you’re using sim_vehicle.py, there’s a --no-mavproxy option to not launch MAVProxy."
23,Using ArduPilot SITL with Unity,0,"Hey everyone, I am pretty new to developing with Ardupilot, but based on reading on site and in the code overview, I am looking to build something like what AirSim1 SITL has with unreal engine, but using Unity instead. I want to make a custom environment in Unity with a drone which is going to be controlled by Ardupilot togglably, possibly having a Mavlink connection open on a port. I know AirSim has a experimental Unity build, but I am not sure if and how I can use that for my usecase. I am looking for any help/advice/guidance that can help me with building this sort of a system. I know this is a topic that has been brought up before (Notably here: *) but that discussion was more on integrating it on a surface level by linking up mavlink through using sim_vehicle.py. This is a valid method, but I am hoping to integrate Ardupilot through AP_HAL to the physics engine in unity.",
24,How to Print to SITL Console,1,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.",* Did you figure it out ? I am in the situation than you and I don’t get how to debug properly when working with SITL to analyse new code I did.
24,How to Print to SITL Console,2,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.", * Did you figure it out ? I am in the situation than you and I don’t get how to debug properly when working with SITL to analyse new code I did.  Which instructions are you following on how to use SITL?
24,How to Print to SITL Console,3,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.",Unfortunately I haven’t solved this yet. Let me know if you find any more information on this.
24,How to Print to SITL Console,4,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.","You can use hal.console,  e.g. to print to the maxproxy console: hal.console->printf(""What you want to print \n"");"
24,How to Print to SITL Console,5,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.","Yes, thank you! I just read about this on the website with *. I defintely need to try few examples from the “Codebase” description before to start anything. * I’m working on Windows 10. I followed the instructions from *."
24,How to Print to SITL Console,6,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.","Hi * I am trying to use hal.console->printf(""some text\n"") to print some debug messages. But when I run SITL I dont see anything getting printed on the mavproxy console. I am working on linux (Ubuntu 18.04) and I am on Copter 4.1.5. This is the command I am using: sim_vehicle.py -v ArduCopter --console --map -m --streamrate=10 I am not able to figure out why this is not working. Have I misunderstood something?"
24,How to Print to SITL Console,7,"[SOLVED, see edit below.] Hi all, I am very new to SITL and just got the simulator working on a Linux virtual machine. I have made some custom functionality for my UAV where it will perform actions before it reaches a waypoint. I was wondering if there is a way to print to the SITL console for debugging, just to see if my functions are being called properly. If not, what is the best practice for this? I have tried using SITL_debug(""FLAG""); in my function but nothing is printed. Thanks for the help. EDIT: As stated by OlivierB, the command hal.console->printf(""What you want to print \n""); successfully prints to the SITL console.","Never mind. Seems like my sim_vehicle.py was calling the wrong build (from another fork). So hal.console->printf(""some text\n"") is working fine."
25,Command_ack:do_set_mode:unsupported,0,"Hello everyone! I’m having problem to connect mission plane and mavlink. First of all I’ll write about the enviroment: I’m using win10, python 3.7, mavproxy 1.8.50, mission planner, dronekit 2.9.2, dronekit-sitl 3.3.0, pymavlink 2.4.29 and anoter plugins to load the drone simulation. Now I’ll tell the problem: when I started the dronekit-sitl, mavproxy and the mission planner; after run the python code the drone simulation starts to make pre arm procedure, get armed, but, after some seconds - when the takeoff should start, it’s starts to disarm (it doesn’t keep armed more than 3 seconds), and don’t get any height gain. And when I see the console it appears: command_ack:do_set_mode:unsupported and command_ack:do_set_banner:unsupported. What is this and how to solve it? tnx for reading ",
26,Trouble running simulation,1,i am doing a simulation. the quadcopter is staying put and does not move. what should i do?  *,simple question : did you takeoff ? Check again the documentation how to takeoff for automission !
26,Trouble running simulation,2,i am doing a simulation. the quadcopter is staying put and does not move. what should i do?  *,yes i did takeoff. this is a simulation so instead of increasing throttle to start mission. i pressed Mission_start
27,How do we get position of Copter from RealFlight 9.5,0,"We want to get the position of Copter from Real Flight 9.5 instead of SITL. We have found RealFlight Link(formerly FlightAxis), but it doesn’t have document on how to use these SDK. In *, it has to fetch data from Real Flight. How do we do to get data from RealFlight ?",
28,Messages comes in the required frequency but sometimes not,0,"Hi, I’m new to arudpilot and sitl so please bare with me. I have a strange problem that i search over the internet and could not solve the problem. I’m using ArduCopter, sitl and  QGC i’m writing the RAW_IMU message into a csv file and i’m setting the interval between messages 100hz Most of the messages comes in the required frequency, but some messages comes in 4hz or 0hz i tried changing --streamrate = -1 or 100 in the configuration file (which, is in docker). i tried REQUEST_DATA_STREAM I’m attaching zip file containg: python code, RAW_IMU csv file, and docker file that contains the configuration Thank you. * (88.7 KB)",
29,SITL without graphical window,1,"Hello, I’m trying to run an ArduCopter SITL instance on a Linux-based server.  I’ve been able to do this quite reliably and smoothly using X11 forwarding over SSH (the usual mode which I connect to the server), but I would like to be able to run this as a systemd service in the background. However, I can’t figure out how to get the SITL sim to start without the graphical window.  The best lead so far is *, which does this apparently well – but seems rather hackish. Is there a flag I can pass to the sim_vehicle.py to start without any graphical windows?  --no-mavproxy doesn’t seem to do the trick. Thanks!",What do you mean by graphical windows and what line are you running to boot the sim?
29,SITL without graphical window,2,"Hello, I’m trying to run an ArduCopter SITL instance on a Linux-based server.  I’ve been able to do this quite reliably and smoothly using X11 forwarding over SSH (the usual mode which I connect to the server), but I would like to be able to run this as a systemd service in the background. However, I can’t figure out how to get the SITL sim to start without the graphical window.  The best lead so far is *, which does this apparently well – but seems rather hackish. Is there a flag I can pass to the sim_vehicle.py to start without any graphical windows?  --no-mavproxy doesn’t seem to do the trick. Thanks!","Without “–console” and “–map” arguments, it should start in headless mode. You can also directly run the simulation binary. * and * might help you."
29,SITL without graphical window,3,"Hello, I’m trying to run an ArduCopter SITL instance on a Linux-based server.  I’ve been able to do this quite reliably and smoothly using X11 forwarding over SSH (the usual mode which I connect to the server), but I would like to be able to run this as a systemd service in the background. However, I can’t figure out how to get the SITL sim to start without the graphical window.  The best lead so far is *, which does this apparently well – but seems rather hackish. Is there a flag I can pass to the sim_vehicle.py to start without any graphical windows?  --no-mavproxy doesn’t seem to do the trick. Thanks!","The command I’m running is optionally with the --no-mavproxy or --no-rebuilt arguments as well. However, with this (and no X11 forwarding), the sim fails to launch: When X11 forwarding is enabled, instead of the xterm error, I get a window that displays console output presumably from the sim, the mavproxy connection does not time out, and all is well. * , your solution seems to work quite well – thank you!!"
30,Ardupilot's SITL with new GCS,1,"Hello, I want to ask if I can use Ardupilot’s SITL to test a new GCS application. Is it possible to test every feature without going to the field? Thanks","Theoretically, yes. But it will probably not let you test the HW specific calibration stuff."
31,Run SITL physics via JSON interface,0,"Hi everyone I am testing the JSON interface for SITL with Copter. I successfully tested the Matlab physical model, but I noticed that the sensors are pretty noisy from the BIN file (if compared with the physical model that SITL runs by default). I am now wondering if it is possible to port the physical model that SITL is running natively and make it run via the JSON interface. I have identified that the key functionalities for the physical simulation are in SITL/SIM_Multicopter.cpp but also see that there are a lot of dependencies with other libraries that make it hard to recompile and run the physical model outside SITL via JSON. Any suggestion on how to port SIM_Multicopter.cpp outside SITL and run it via the JSON interface, and obtain a precise simulation as in native SITL?",
32,Error trying to start ardupilot,1,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,Try this instead: Your system may have 2 python installs (python/pip and python3/pip3) - so best to check both.
32,Error trying to start ardupilot,2,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,I get the following output:
32,Error trying to start ardupilot,3,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,Also I forgot to mention the operating system that I am running is Ubuntu 18.04
32,Error trying to start ardupilot,4,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,Seems maybe you have the package installed locally for a virtual environment rather than globally.
32,Error trying to start ardupilot,5,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,How do I install globally?
32,Error trying to start ardupilot,6,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,I was able to get past it with the following command: But now I have a problem still with The output says: I have installed pymavlink with pip
32,Error trying to start ardupilot,7,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,You can try using * script.
32,Error trying to start ardupilot,8,I am getting an error when trying to start my ardupilot build. When I run: * I get the error: * Which is strange since pexpect is installed on my system which is proved by the following command and output: * And the output: *,"Yeah, I did that script. I eventually got it working I think * was correct in my system having python 2 also on the system. I just installed the prereqs for each python version"
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,1,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.",If it works with 4.0.7 and it does not work with 4.1.0-dev then it is a regression. Can you please open an issue on * ?
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,2,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.","I will do that, but just note that it is not just a version difference, there is also the fact that one is SITL and the other is on a physical FCU. There might be some components of the SITL causing this to happen."
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,3,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.",That isn’t a bug … that is just MAVProxy that set back the streamrate
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,4,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.",use mavproxy.py --streamrate==-1 to fix that 
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,5,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.","Yes, sim_vehicle.py  -m --streamrate=-1 solves it. The only problem is that then I need to set rates for all messages manually, since it stops sending everything except for heartbeat."
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,6,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.","You can still use the parameters to set the stream rate on your serial port. ArduPilot will always obey the latest message. So if you set the parameters or issue a set_streamrate first, you will be able to set your message interval as intended"
33,SET_MESSAGE_INTERVAL ignored by SITL after a few seconds,7,"Starting simulation with sim_vehicle.py -w, I then send long SET_MESSAGE_INTERVAL 33 10000 1 in the console and receive Got COMMAND_ACK: SET_MESSAGE_INTERVAL: ACCEPTED. It can also be reproduced by selecting Telemetry Stream Rates in QGroundControl. I can see in MAVlink inspector the rate change to 100Hz, but after couple seconds, it falls back to the default 4Hz. This time interval is not constant, sometimes it takes 5 seconds, sometimes 10 seconds… The frequency that is requested also is not a factor, it behaves the same when I request 10Hz. The version of Arducopter is 4.1.0dev. To confirm this is not intended behavior, I checked it on Cube Orange (Arducopter 4.0.7), which held the requested frequency no problem.","can you please elaborate on this? does this mean that, if I set rosrun mavros mavsys message_interval --id 32 --rate 15 and the run mavproxy without --streamrate==-1 option will it work? thanks"
34,Simulating a serial device with SITL,1,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri","I’ve been tackling the same problem again and with some debug results. Setup: In the first terminal I set up a virtual terminal pipe between /dev/pts/3 and /dev/pts/4 at 9600 baud. They are in fact working as I can check that with screen or cat. $: socat -d -d pty,raw,echo=0,b9600 pty,raw,echo=0,b9600 Whether this command is 100% correct is irrelevant because even if baud doesn’t match or something There should be some gibberish displayed. What this command does is the following: if I send data over to /dev/pts/3 it is displayed in /dev/pts/4 and it works both ways. In the second terminal I run mavlink packet processing script I found on the forums. Which is mentioned in the previous post: $:python mavtest.py /dev/pts/4 In the third terminal I just echo some random data in order to show that the pipe actually works: $:echo b""data"" > /dev/pts/3 Now when I start the SITL simulation in the forth terminal I see literally no data coming in, I think it should at least send a heartbeat package but it’s silent. $: sim_vehicle.py -v ArduCopter -A “–uartB=uart:/dev/pts/3,9600” When I echo manually again I see that the pipe actually works. I need all of this to virtually simulate a serial device because it’s mission critical(hydrogen fuel cell tank percentage and error codes) and I’d like to test this in simulation before flashing it blindly into my PX4. I’ll attach a video of described process. Sorry for the flickering, screen recording on wayland is horrible. Thank you for your attention,"
34,Simulating a serial device with SITL,2,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri","So what I’ve noticed in my debug sessions. First of all this --uartF=… flag is not processed at all. When I run sim_vehicle.py: SIM_VEHICLE: “/home/andri/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/home/andri/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–uartF=uart:/dev/pts/6,9600” “–defaults” “/home/andri/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” So I did grep around the whole source directory and found that uartF flag is processed by: ardupilot/libraries/AP_HAL_SITL/SITL_cmdline.cpp However these cases are empty(lines 358-364): … case CMDLINE_UARTA: case CMDLINE_UARTB: case CMDLINE_UARTC: case CMDLINE_UARTD: case CMDLINE_UARTE: case CMDLINE_UARTF: case CMDLINE_UARTG: … Now I know from sim_vehicle.py script output that the binary run by it is: /home/andri/ardupilot/build/sitl/bin/arducopter When I edit SITL_cmdline.cpp and add a simple print to the case when uartF is specified, it does recompile but nothing is printed when run with sim_vehicle.py script. When I run that binary manually, my debug prints appear. So I think the documentation is wrong? I should implement the simulation of uart on my own then as this is a nice feature to have."
34,Simulating a serial device with SITL,3,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri","hello, the CMDLINE_UART* aren’t empty … .they just call the same function :  _uart_path[opt - CMDLINE_UARTA] = gopt.optarg;  Where do you look ? it won’t print into the sim_vehicle window but in the xterm window where SITL is running … there are no difference between manually launch SITL and with sim_vehicle.py … No by default you don’t have anything output on a port … I you want some mavlink message you should ask for some … but no idea yet on how to do it on serial5"
34,Simulating a serial device with SITL,4,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri",Thank you for your reply. What I actually need to achieve is uart5 to grab simple serial input and the autopilot should grab the values and process them. But first I need to figure out how serial is connected to ardupilot. Sorry for my rookie mistake… indeed the ‘break’ statement appears after UARTH… I’ll dig deeper from this line. Thank you again for your attention.
34,Simulating a serial device with SITL,5,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri",I did get uartF working now. I found the necessary clues from libraries/AP_HAL_SITL/UARTDriver.cpp. There is a comment that uart string should be formated as such: uart:/dev/ttyUSB0:57600 I used comma to separate the device and baudrate… When I set the protocol to mavlink1/2 on SERIAL5(in QGroundControl) it starts sending out HEARTBEAT packages which I can successfully see from the mavlink package testing script listening on the other end of the tunnel(/dev/pts/4). Now I’m going to try to send raw values to autopilot and go forward from there.
34,Simulating a serial device with SITL,6,"Hello, I have a device that sends out 4 comma separated values at 9600 baud. I want to grab them with Serial5 on Pix 4(I’m assuming Serial5 is UART & I2C B first 3 pins), and forward them into the ground station as a mavlink package. Before I start flashing the Pix I’m trying to get this working in simulator. I’m using Ubuntu 20.04 virtual machine for SITL. I start the simulator as follows: sim_vehicle.py -v ArduCopter -A “–uartF=/dev/ttyS1” I set Serial5 protocol to “none” and baud to 9600. However when I try to connect to /dev/ttyS1 with ‘screen’ or simple python script I get an I/O error. My user is in the dialout group. This is the python script I’m using: #!/usr/bin/python import serial,time,sys try: ser=serial.Serial(""/dev/ttyS1"",9600) print(ser.name) while True: read_serial=ser.readline() print(read_serial.rstrip(""\n"")) time.sleep(2) except KeyboardInterrupt: ser.close() sys.exit() I’m going to write a simple python program that generates the 4 comma separated values and sends them to SITL. But I simply can’t do that right now because I’m not able to connect to SITL via serial. I also tried the script that decodes mavlink messages with no luck: *  Am I understanding correctly that when I start SITL with a virtual serial port attached to it and connect to it with ‘screen’ I should at least see some gibberish(heartbeat package when i set the serial protocol to mavlink1 or 2) ? Right now screen just terminates. Right now it seems that maybe Ubuntu is blocking it but dmesg output is empty… Thank you for your time, Andri","Hey, I’m trying to do the same. Any updates? Did you get it working?"
35,"SITL Copter Warning, time moved backwards. Restarting timer",1,"Hi, I set up SITL with vagrant on Windows. I got this message Warning, time moved backwards. Restarting timer. then link 1 down. Before link 1 down I could change mode with mavproxy. Any help would be appreciated.",I have had this error when I set the PC time from the SITL drone using TIMESYNC/SYSTEM_TIME. Maybe you did the same thing?
36,Resetting SITL for evolutionary algorithms,1,"Hello guys! I am doing an academic project where I will create a simple controller for 2 drones and evolve it using evolutionary algorithms (I will probably train a simple decision tree). To be more precise, the controllers objective should be the search and rescue (landing close) of a person. To do this, I am using gazebo, ROS (with a catkin_ws) and SITL. In order train the controller I will need to run several generations, and obviously, that should be an automatic process. I have already managed to reset gazebo world and simulation using: ros::service::call(""/gazebo/reset_world"", …); ros::service::call(""/gazebo/reset_simulation"", …); However, after resetting the world and simulation, I will also need to reset SITL and I haven’t figured it out yet. Do you guys have any suggestion on how to do this in an automatic way? Any suggestion would be very appretiated. Thank you very much","I have nothing to say about the actual question, but just tuning in with a dream to use a CMA-ES onboard to fine-tune PIDs in-flight."
36,Resetting SITL for evolutionary algorithms,2,"Hello guys! I am doing an academic project where I will create a simple controller for 2 drones and evolve it using evolutionary algorithms (I will probably train a simple decision tree). To be more precise, the controllers objective should be the search and rescue (landing close) of a person. To do this, I am using gazebo, ROS (with a catkin_ws) and SITL. In order train the controller I will need to run several generations, and obviously, that should be an automatic process. I have already managed to reset gazebo world and simulation using: ros::service::call(""/gazebo/reset_world"", …); ros::service::call(""/gazebo/reset_simulation"", …); However, after resetting the world and simulation, I will also need to reset SITL and I haven’t figured it out yet. Do you guys have any suggestion on how to do this in an automatic way? Any suggestion would be very appretiated. Thank you very much","Our experience and tests indicate that there’s only one proper way to tune the PIDs : Full blown system identification followed by proper requirements-based pid design optimization. But if you guys find something better, I’m all ears."
36,Resetting SITL for evolutionary algorithms,3,"Hello guys! I am doing an academic project where I will create a simple controller for 2 drones and evolve it using evolutionary algorithms (I will probably train a simple decision tree). To be more precise, the controllers objective should be the search and rescue (landing close) of a person. To do this, I am using gazebo, ROS (with a catkin_ws) and SITL. In order train the controller I will need to run several generations, and obviously, that should be an automatic process. I have already managed to reset gazebo world and simulation using: ros::service::call(""/gazebo/reset_world"", …); ros::service::call(""/gazebo/reset_simulation"", …); However, after resetting the world and simulation, I will also need to reset SITL and I haven’t figured it out yet. Do you guys have any suggestion on how to do this in an automatic way? Any suggestion would be very appretiated. Thank you very much",* help … reboot          : reboot autopilot
37,Accessing Camera Images via UDP or similar,1,I am currently using the camera sensor in gazebo to drop images to a directory at a specified frame rate. I would rather access these images over UDP. I’m open to the format. I have noticed that the PX4 sitl has a gstreamer camera plugin libgazebo_gst_camera_plugin.so Does something similar exist in Ardupilot sitl? Note it doesn’t have to be gstreamer - I’m just trying to remove the whole drop to filesystem and read from filesystem inefficiency. I’m asking what would be the best approach:   try and port the PX4_sitl plugin   edit the current camera sensor plugin and augment it to send images over UDP (instead of to the file system)   some other existing plugin that I am not aware of   some other way that I am not yet aware of.   Note: I want to run without ROS in the picture. Hmmm maybe this is more of a question for the Gazebo forum?  Perhaps I’ve confused myself because the gst_streamer plugin comes with PX4_sitl compilation.,"Ok. I have solved my problem. I’m using Ardupilot_sitl and I could not find anything in ardupilot sitl that referenced video streaming. There is a gazebo plugin that I found available in PX4_sitl So this is how I accessed it for use in gazebo/ardupilot_sitl git clone https://github.com/PX4/PX4-Autopilot.git --recursive Edit the build.sh file to get gazebo9 it changes depending on ubuntu version. Later ubuntu versions will automatically want to build for gazebo11 etc But we need a build for gazebo9 (or whatever you are running). So edit to fix, then run bash ./PX4-Autopilot/Tools/setup/ubuntu.sh —no-nuttx Once build we need some plugins compiled  which will only be compiled for certain models - in this case the typhoon_h480 model * This will start gazebo with that model, just exit. After that  cd build/px4_sitl_default/build_gazebo  You’ll find a bunch of plugins.  You can either change your env variable to add this directory or copy the ones you want to use to the place where gazebo looks for its plugins. You’ll be interested in: * In the your model.sdf where you have the vehicle camera you should add"" * In the .world that you are invoking add: * This will make a gui button appear that allows you to stop start the video stream. Default is on. If you are looking to add the camera manager plugin so that you can control the video feed with QGroundControl see the typhoon_h480.sdf for an example.  I didn’t need this feature so I have not tested it. Once you start gazebo with the above changes check that you have no errors and that the plugins have been found. Then you can start a gstreamer pipeline to display the video,e.g. * Where port is the same as what you specified in the plugin .sdf.  Its sending RTP with the video encoded as H264. You can do anything you want with it that a gstreamer pipeline allows. Note: none of this is directly related to Ardupilot sitl since the camera and the plugin that streams are independent of ardupilot_sitl. However it appears to be a common need - based on previous unanswered questions. So I have posted here. I even managed to confuse myself on this topic because the plugin was found in the sitl for PX4 You can find more background details at *"
37,Accessing Camera Images via UDP or similar,2,I am currently using the camera sensor in gazebo to drop images to a directory at a specified frame rate. I would rather access these images over UDP. I’m open to the format. I have noticed that the PX4 sitl has a gstreamer camera plugin libgazebo_gst_camera_plugin.so Does something similar exist in Ardupilot sitl? Note it doesn’t have to be gstreamer - I’m just trying to remove the whole drop to filesystem and read from filesystem inefficiency. I’m asking what would be the best approach:   try and port the PX4_sitl plugin   edit the current camera sensor plugin and augment it to send images over UDP (instead of to the file system)   some other existing plugin that I am not aware of   some other way that I am not yet aware of.   Note: I want to run without ROS in the picture. Hmmm maybe this is more of a question for the Gazebo forum?  Perhaps I’ve confused myself because the gst_streamer plugin comes with PX4_sitl compilation.,* thank you so much for this “article”. I’ve managed to run video via gstreamer. I used ROS prior to this and it’s very slow. GStreamer is more robust and portable. ROS need loads of packages installed on system. This is great. Thank you. Zdanek
38,Is there a way to SITL sim a copter onto a wireless device?,0,"I have a custom application that pairs with ArduCopter on an iPad, and was wondering if there is a way I can (without any hardware), simulate a drone on that device or really any wireless device?",
39,Object avoidance algorithm not working properly in non-gps mode on SITL with Gazebo/ROS or Airsim,0,"Hi, I have build simulation environment as described in *. I  run ardupilot SITL without any problem but object avoidance algorithm not working properly in non-gps mode of copter for example position hold mode. I am using mavros object_avoidance  and distance_sensor  plugins for sending sensor data to FCU. And I see sensor data on GCS(QGC). But object avoidance algorithm works when i try it in an executable mode with gps.How to solve this problem? Please can you help me? Not: I have tested on Airsim without ros but result same.",
40,SITL TCP socket closure when connecting with mavsdk,1,"I am debugging a issue I have when connecting to SITL over TCP port 5763 with a minimal MAVSDK implementation (ie just using mavlink_passthrough plugin). Upon connection, the SITL HAL complains of an EOF and closes the socket. It seems that the  This is a problem that happens only about 30% of the time. It seems that the system sends a Command Long of type 520 CMD request autopilot capabilities, and tries to send a few others but they time out. When running SITL in debug mode, It appears that there is a runtime fault which raises a SIGFPE * and the backtrace is: *","FYI, it is not just CMD_REQUEST_AUTOPILOT_CAPABILITIES, when I remove that request, the next command long message (a MAV_CMD_SET_MESSAGE_INTERVAL) also throws the same error. On one occasion, the value for in.param6 was 2.e+38 or some similar large number. As this conversion from long to int only happens once in handle command long, and only for logging purposes, Commenting out the call to this function on lines 4621 - 4623 in GCS_Common.cpp, has stopped this error from killing the autopilot."
40,SITL TCP socket closure when connecting with mavsdk,2,"I am debugging a issue I have when connecting to SITL over TCP port 5763 with a minimal MAVSDK implementation (ie just using mavlink_passthrough plugin). Upon connection, the SITL HAL complains of an EOF and closes the socket. It seems that the  This is a problem that happens only about 30% of the time. It seems that the system sends a Command Long of type 520 CMD request autopilot capabilities, and tries to send a few others but they time out. When running SITL in debug mode, It appears that there is a runtime fault which raises a SIGFPE * and the backtrace is: *","Hi Peter, From memory, the issue here is that MAVSDK sends NaN for parameters 5 and 6 for the long command, which ardupilot doesn’t handle.  This fixed things for me."
40,SITL TCP socket closure when connecting with mavsdk,3,"I am debugging a issue I have when connecting to SITL over TCP port 5763 with a minimal MAVSDK implementation (ie just using mavlink_passthrough plugin). Upon connection, the SITL HAL complains of an EOF and closes the socket. It seems that the  This is a problem that happens only about 30% of the time. It seems that the system sends a Command Long of type 520 CMD request autopilot capabilities, and tries to send a few others but they time out. When running SITL in debug mode, It appears that there is a runtime fault which raises a SIGFPE * and the backtrace is: *","Thanks Luke, that looks fine. In MAVSDK there is a check for autopilot version between Ardupilot and PX4 based on a field in the heartbeat message. This is on line 437 of the mavlink_commands.cpp in mavsdk.  Based on that determination, It is supposed to set either 0.0f or NAN depending on the autopilot version. I think that code is not working when the float value is valid but unititalised (ie not NAN) and the check on 429 always returns true. std::isnan() may not pick this up either. There is also a problem on the ardupilot side because casting a float to integer results in undefined behaviour when that value causes a integer overflow which is why I think the system is throwing SIGFPE. I think this can happen even if the value is not a NAN. But agree initialising all parameters how you like is the best way to go."
41,About adding new parameters of attitude controller in Ardupilot SITL,0,"I designed a new controller in addition to the copter’s attitude controller. Various parameters have been added to implement the function, but it has been confirmed that the current board is uploaded and operating normally. Before the flight test, SITL was performed to check the regular operation of the code. However, the parameter has not been added to SITL’s parameter editor. (Checked in Apmplanner after uploading to Pixhawk) Are the parameters added from the library folder not loaded from SITL?",
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",1,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",Can you share the link for installing SITL on Raspberry Pi 3 thanks in advance
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",2,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","If you don’t want to compile your own code, you can download prebuilt arm firmware *."
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",3,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",Is this file a Raspbian pi image which I flash directly to Pi using  a flashing image software
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",4,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","Also, download * to the same directory. Then run: After this, you can connect to your simulated vehicle at port 5760 as TCP. If you want a UDP connection, run below on a separate terminal. Now you can connect to your simulated vehicle at port 14550 as a UDP connection. For convenience, you can create a shell script to do this automatically. If you want to stop it: Or just:"
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",5,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","Is the first file that you provided,  a Raspbian pi image which i require to flash using the etcher image software to a new raspi sd card"
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",6,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","No, it is the compiled executable, arducopter sitl binary."
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",7,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",Where do I place this file on the RasPi
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",8,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","It doesn’t matter, place it as you wish "
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",9,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","How can I start  SITL  from Windows …for example ,  if I want to send some Mavlink commands to my RasPi… Can I use Mission Planner on Windows to access my SITL on RasPi"
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",10,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","That’s out of the scope of this topic. Exactly what do you want to accomplish? Of course, you can. Change this line: to: Mission Planner probably automatically connects to the vehicle since the port is the magical 14550 but if it is not select connection as UDP and port 14550 and hit connect."
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",11,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",Is there any Patreon website where I can contribute to your replies here … 
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",12,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",I was able to do exactly as you told. Now I want to try mission planner thro’ windows to connect to SITL in Raspberry Pi …It is not connecting…Any suggestions …
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",13,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",I actually explained in here
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",14,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","Hi, Do you have more information about the following statement ./arducopter -S --model + --speedup 1 --defaults copter.parm -I0 Also where can I find document to understand what is written in Copter.param file .  I wanted to add more parameters if possible. Are these Mavlink messages . Why is the exclaimatory mark ( "" ! "" ) placed inside this file ? thank you in advance"
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",15,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","No, they are parameters. I don’t know but # is for commenting out that line."
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",16,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?","I was able to successfully link my Raspberry Pi 3A+ to my Windows 10 laptop.  It works through WiFi using  UDP port straight out of the box !!  However when I start flying missions, the first error I get is       re-requesting way point [1,2],  I have already  set 5 way points in the flight plan menu ."
42,"Install SITL on Raspberry pi 4 b , os: raspbian buster",17,"Hello, I’m trying to install SITL on  Raspberry pi 4 model b  , os: raspbian buster. I follow the procedure from :  Setting up the Build Environment (Linux/Ubuntu) (It worked fine on raspberry pi 3 and on ubuntu virtual machine…) when I get to run:   Tools/environment_install/install-prereqs-ubuntu.sh -y  the script fails. Any Idea?",I think you can ignore it if everything works fine.
43,Can't fly Chinook SITL Model in RealFlight 9.5,1,"Hello - I’ve been trying to recreate the flight Andrew Tridgell flew here*. I downloaded the .RFX and the .param file, loaded the model into RealFlight 9.5, and loaded and wrote the .param file into Mission Planner. I am using an OpenTX controller (Jumper T16). I seem to be able to fly the Chinook with the controller, but I cannot put it into any guided modes, PosHold, AltHold etc. Also, there doesn’t seem to be any yaw control. I even adjusted the H_YAW_SCALER parameter to -10, +10, and everything in between but this seemed to have no impact on performance. I have reconfiguring my controller about a 1000 times, changed the channels to match the InterLink profile (as detailed in the wiki) and have just been having a ton of issues getting SITL to behave in RealFlight. Any idea what I ammissing? I have been at this for weeks with several different vehicles and am running out of ideas. Thank you! Edit:  Oh and I should also add that I have tried the Chinook with both the Stable and Latest (dev) versions. I am not sure which one I am supposed to use (or if it matters) but I have not had success with either.",* I also had trouble with that in realflight. I played with it some and have it working.  I hope to post the modified realflight model and parameter list soon. If not today then tomorrow. This one was a little harder to tune as it has a good bit of coupling. And the yaw axis control authority is weak.
43,Can't fly Chinook SITL Model in RealFlight 9.5,2,"Hello - I’ve been trying to recreate the flight Andrew Tridgell flew here*. I downloaded the .RFX and the .param file, loaded the model into RealFlight 9.5, and loaded and wrote the .param file into Mission Planner. I am using an OpenTX controller (Jumper T16). I seem to be able to fly the Chinook with the controller, but I cannot put it into any guided modes, PosHold, AltHold etc. Also, there doesn’t seem to be any yaw control. I even adjusted the H_YAW_SCALER parameter to -10, +10, and everything in between but this seemed to have no impact on performance. I have reconfiguring my controller about a 1000 times, changed the channels to match the InterLink profile (as detailed in the wiki) and have just been having a ton of issues getting SITL to behave in RealFlight. Any idea what I ammissing? I have been at this for weeks with several different vehicles and am running out of ideas. Thank you! Edit:  Oh and I should also add that I have tried the Chinook with both the Stable and Latest (dev) versions. I am not sure which one I am supposed to use (or if it matters) but I have not had success with either.","Thanks *. I’m glad it isn’t just me. Looking forward to trying it with your modifications. When you say you’re going to post it, where will that be? On github or elsewhere?"
43,Can't fly Chinook SITL Model in RealFlight 9.5,3,"Hello - I’ve been trying to recreate the flight Andrew Tridgell flew here*. I downloaded the .RFX and the .param file, loaded the model into RealFlight 9.5, and loaded and wrote the .param file into Mission Planner. I am using an OpenTX controller (Jumper T16). I seem to be able to fly the Chinook with the controller, but I cannot put it into any guided modes, PosHold, AltHold etc. Also, there doesn’t seem to be any yaw control. I even adjusted the H_YAW_SCALER parameter to -10, +10, and everything in between but this seemed to have no impact on performance. I have reconfiguring my controller about a 1000 times, changed the channels to match the InterLink profile (as detailed in the wiki) and have just been having a ton of issues getting SITL to behave in RealFlight. Any idea what I ammissing? I have been at this for weeks with several different vehicles and am running out of ideas. Thank you! Edit:  Oh and I should also add that I have tried the Chinook with both the Stable and Latest (dev) versions. I am not sure which one I am supposed to use (or if it matters) but I have not had success with either.",*  So I finished up the tuning.  Pitch and roll axes are pretty good.  The yaw axis is still pretty squishy.  I had to slow it down a lot to tune it.  I also changed the realflight model and added more flapping to the rotors.  If modeled correctly in realflight that will provide more control authority to the yaw axis.  It seems like it worked. You’ll want to load the model in realflight and get a switch set up on your realflight transmitter for channel 8 so you can switch the motor on and off.  Start the SITL through mission planner.  Load the parameter file once.  then close the window that pops up when you start the SITL and then start SITL again.  Load the parameter file again.  This will ensure that all of the parameters were changed. * are the files.   It has the updated realflight model and the parameters.
44,How to simulate bad compass offset/calibration (in order to cause the toilet bowl effect),0,"For training purposes, it would be nice to be able to simulate bad compass and cause toilet bowl. how can I calculate “bad” paramaters? in order to set that. Also:  Many compass params require reboot.  Is there something that can be set via GCS without reboot - that will case the same effect on a UAV (non-sim)?",
45,Increase simulated quadcopter power to increase top speed?,1,"Hi, I am running an arducopter SITL simulation in a vagrant virtual machine and when I set the desired speed in my GCS (QGroundControl) to 20m/s for example it will top out at 15m/s. I was wondering if there’s any way to increase the amount of power the simulated vehicle has to allow it to fly faster? I have looked throughout the GitHub and can’t seem to find where the motor power is set. I found in the SIM_Motor.cpp file there is a function called calculate_forces which has an input parameter of thrust_scale which multiplies the calculated thrust by a fixed value which may help to increase the aircraft power. However I don’t know where this function is called in the simulation. Any help on this topic would be much appreciated. Thanks","hello, As you already found, the main parameters come from here * you can append -fast to the vehicle model to speed it up, otherwise you need to modify his thrust power"
45,Increase simulated quadcopter power to increase top speed?,2,"Hi, I am running an arducopter SITL simulation in a vagrant virtual machine and when I set the desired speed in my GCS (QGroundControl) to 20m/s for example it will top out at 15m/s. I was wondering if there’s any way to increase the amount of power the simulated vehicle has to allow it to fly faster? I have looked throughout the GitHub and can’t seem to find where the motor power is set. I found in the SIM_Motor.cpp file there is a function called calculate_forces which has an input parameter of thrust_scale which multiplies the calculated thrust by a fixed value which may help to increase the aircraft power. However I don’t know where this function is called in the simulation. Any help on this topic would be much appreciated. Thanks","Hi khancyr, I’m having similar trouble.  When I set a point for my simulated copter to fly to, it’s max speed is 10m/s.  I would like to allow it to go faster.  I don’t quite understand your suggestion.  Can you elaborate?  Thank you."
46,Helicopter cannot run in the SITL,1,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.","Hello, What command do you use ? using sim_vehicle.py -v ArduCopter -f heli --console --map -m --mav10 -w  seems to working fine, and loading the heli simulator"
46,Helicopter cannot run in the SITL,2,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.","Many thanks for the suggestion. I tried it and the simulator can be launched correctly. However, the ARM icon is always red on the Console after I use command “arm throttle”. So the helicopter cannot take off. Can you advise how to solve the problem?"
46,Helicopter cannot run in the SITL,3,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.","I never use an Heli, using, for the “APM: PreArm: Motor Interlock Enabled” message, you can use :  param set CH8_OPT 32 rc 8 1000 arm throttle  set CH8_OPT 32 <— assign interlock function to channel 8 rc 8 1000 <— remove the interlock But after I don’t know!"
46,Helicopter cannot run in the SITL,4,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.","Many thanks for the suggestion. I tried the commands and helicopter can be armed. However when I issue takeoff command “e.g., I used takeoff 20”, the helicopter does not take off and it becomes disarmed after a few seconds. Any further suggestions? Many thanks indeed."
46,Helicopter cannot run in the SITL,5,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.",Any solution? I cannot  run sim_vehicle with heli too
46,Helicopter cannot run in the SITL,6,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.",where do we input the above commands?
46,Helicopter cannot run in the SITL,7,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.",*  In MavProxy window.
46,Helicopter cannot run in the SITL,8,"I cloned the latest Ardupilot software and run it on the SITL simulator. Everything works find and I can see that the default setting is a quad-copter because in “config.h” FRAME_CONFIG is defines to be MULTICOPTER_FRAME. However, when I changed FRAME_CONFIG to be HELI_FRAME and rebuilt the software, it cannot run on the simulator any more. The Console displayed UNKNOWN mode. Does that mean the simulator only works for quad-copter? Many thanks.",Check this. *
47,Dronekit-sitl not working,0,"* I am trying to run the dronekit Sitl command but it tells me that the command is not recognize but I have the library for dronekit sitl installed , is there another command that I should use or library I should download ?",
48,Heli_dual flight dynamic model issue,1,"as the follow shows,the lateral_x_force and lateral_y_force is not calculated in heli_dual frame.it will mean that the lateral_x_force and lateral_y_force still be 0.compared with heli_frame_conventional and heli_frame _compound,it does not seem logical.would you like to give some suggestions?thank you.  *",*  the rotor dynamics for the conventional and compound are based on models developed from actual flight test data. I don’t have a way to develop a model of a real dual heli. I suppose the rotor model from the conventional heli could be used to develop a better dual heli.  The dual heli was a very basic model just looking at forces and moments similar to how they are developed for a multicopter.
49,Error with setting up of gazebo in wsl windows 11,1,* this is the error while i start the project to simulate using sim_vehicle.py -v ArduCopter -f gazebo-iris --console,* could you please help me with this
49,Error with setting up of gazebo in wsl windows 11,2,* this is the error while i start the project to simulate using sim_vehicle.py -v ArduCopter -f gazebo-iris --console,"I’m afraid I’m not very familiar with Gazebo simulations.  It’s a Python error, so I suspect that you are running into the same kinds of problems that users experience when running SITL in older Linux distros.  What distribution are you using?"
49,Error with setting up of gazebo in wsl windows 11,3,* this is the error while i start the project to simulate using sim_vehicle.py -v ArduCopter -f gazebo-iris --console,Did you install the prerequisites?
49,Error with setting up of gazebo in wsl windows 11,4,* this is the error while i start the project to simulate using sim_vehicle.py -v ArduCopter -f gazebo-iris --console,Thank you * * For your early reply i am using a wsl in windows 11 it has python3.8.x in it i have followed all the installation steps from the docs only sorry i could not understand what is meant by prerequisites
49,Error with setting up of gazebo in wsl windows 11,5,* this is the error while i start the project to simulate using sim_vehicle.py -v ArduCopter -f gazebo-iris --console,* could you please help me solving this issue
50,Ardupilot Software error: TypeError: 'NoneType' object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks,1,"I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 I have Xlaunch/Xming installed as well The Ardupilot software is supposed to start as shown in the guide but it doesn’t, The world does not open but I was able to use Ardupilot the first time I installed it (picture attached) but after closing it I was not able to get it to start again hence the issue. I had no control of the copter (maybe because I didn’t install ROS Control) Ardupilot initial successful trial:  * The Ardupilot setup manual I am using : * I try running the following in 1 terminal: $ gazebo --verbose ~/ardupilot_gazebo/worlds/iris_arducopter_runway.world System response: Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * [Msg] Waiting for master. [Msg] Waiting for master. [Msg] Connected to gazebo master @ * [Msg] Connected to gazebo master @ * [Msg] Publicized address: 192.168.43.111 [Msg] Publicized address: 192.168.43.111 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 Picture:  * I run the following in Terminal 2: $ cd ~/ardupilot/ArduCopter /ardupilot/ArduCopter$ …/Tools/autotest/sim_vehicle.py -f gazebo-iris --console --map System response: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.736s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Picture:  * * I have Xlaunch/Xming installed as well Please let me know what I’m doing wrong and what I might be able to do to fix this issue permanently? thanks.","This is usually a Python version problem, likely because 18.04 defaults to Python 2. Unless you have a compelling reason to use the older release, install 20.04 and create the build environment there."
50,Ardupilot Software error: TypeError: 'NoneType' object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks,2,"I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 I have Xlaunch/Xming installed as well The Ardupilot software is supposed to start as shown in the guide but it doesn’t, The world does not open but I was able to use Ardupilot the first time I installed it (picture attached) but after closing it I was not able to get it to start again hence the issue. I had no control of the copter (maybe because I didn’t install ROS Control) Ardupilot initial successful trial:  * The Ardupilot setup manual I am using : * I try running the following in 1 terminal: $ gazebo --verbose ~/ardupilot_gazebo/worlds/iris_arducopter_runway.world System response: Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * [Msg] Waiting for master. [Msg] Waiting for master. [Msg] Connected to gazebo master @ * [Msg] Connected to gazebo master @ * [Msg] Publicized address: 192.168.43.111 [Msg] Publicized address: 192.168.43.111 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 Picture:  * I run the following in Terminal 2: $ cd ~/ardupilot/ArduCopter /ardupilot/ArduCopter$ …/Tools/autotest/sim_vehicle.py -f gazebo-iris --console --map System response: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.736s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Picture:  * * I have Xlaunch/Xming installed as well Please let me know what I’m doing wrong and what I might be able to do to fix this issue permanently? thanks.","I have been told this before, I try to make do wtih 18.04 because it just seems like a lot of work wasted if I have to redo the entire process again on 20.04, I’ll continue trying to get it running on 18.04 since it did work which means it isn’t a full letdown. However I will switch if I exhaust all other measures. Thank you for responding! Much Appreciated!"
50,Ardupilot Software error: TypeError: 'NoneType' object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks,3,"I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 I have Xlaunch/Xming installed as well The Ardupilot software is supposed to start as shown in the guide but it doesn’t, The world does not open but I was able to use Ardupilot the first time I installed it (picture attached) but after closing it I was not able to get it to start again hence the issue. I had no control of the copter (maybe because I didn’t install ROS Control) Ardupilot initial successful trial:  * The Ardupilot setup manual I am using : * I try running the following in 1 terminal: $ gazebo --verbose ~/ardupilot_gazebo/worlds/iris_arducopter_runway.world System response: Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * [Msg] Waiting for master. [Msg] Waiting for master. [Msg] Connected to gazebo master @ * [Msg] Connected to gazebo master @ * [Msg] Publicized address: 192.168.43.111 [Msg] Publicized address: 192.168.43.111 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 Picture:  * I run the following in Terminal 2: $ cd ~/ardupilot/ArduCopter /ardupilot/ArduCopter$ …/Tools/autotest/sim_vehicle.py -f gazebo-iris --console --map System response: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.736s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Picture:  * * I have Xlaunch/Xming installed as well Please let me know what I’m doing wrong and what I might be able to do to fix this issue permanently? thanks.","While it might take a few extra minutes, depending on your internet connection, there isn’t much actual work involved in creating a new build environment.  Once you have a terminal open, you only need to do the following on a new distro install: *, is it possible that the * is leading folks astray here?  Should that be updated, or is it still preferable for some reason to use the older distro releases with Gazebo?"
50,Ardupilot Software error: TypeError: 'NoneType' object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks,4,"I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 I have Xlaunch/Xming installed as well The Ardupilot software is supposed to start as shown in the guide but it doesn’t, The world does not open but I was able to use Ardupilot the first time I installed it (picture attached) but after closing it I was not able to get it to start again hence the issue. I had no control of the copter (maybe because I didn’t install ROS Control) Ardupilot initial successful trial:  * The Ardupilot setup manual I am using : * I try running the following in 1 terminal: $ gazebo --verbose ~/ardupilot_gazebo/worlds/iris_arducopter_runway.world System response: Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * Gazebo multi-robot simulator, version 9.19.0 Copyright (C) 2012 Open Source Robotics Foundation. Released under the Apache 2 License. * [Msg] Waiting for master. [Msg] Waiting for master. [Msg] Connected to gazebo master @ * [Msg] Connected to gazebo master @ * [Msg] Publicized address: 192.168.43.111 [Msg] Publicized address: 192.168.43.111 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 X Error of failed request:  BadMatch (invalid parameter attributes) Major opcode of failed request:  143 (GLX) Minor opcode of failed request:  5 (X_GLXMakeCurrent) Serial number of failed request:  20 Current serial number in output stream:  20 Picture:  * I run the following in Terminal 2: $ cd ~/ardupilot/ArduCopter /ardupilot/ArduCopter$ …/Tools/autotest/sim_vehicle.py -f gazebo-iris --console --map System response: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.736s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Picture:  * * I have Xlaunch/Xming installed as well Please let me know what I’m doing wrong and what I might be able to do to fix this issue permanently? thanks.",they are mentioned because they were tested…feel free to add to the list of tested and verified environments…20.04lts comes to mind
51,Sim_vehicle.py -w Error,1,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.",How about:
51,Sim_vehicle.py -w Error,2,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.",This is what i get.
51,Sim_vehicle.py -w Error,3,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.",Did you install the required packages? Run: Tools/environment_install/install-prereqs-ubuntu.sh -y * is the complete steps to get things running.
51,Sim_vehicle.py -w Error,4,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.","if you don’t need specifically this ubuntu version, please use the ubuntu 20.04 . It will solve your issues"
51,Sim_vehicle.py -w Error,5,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.",I have an internship and an individual working there asked me to download 18.04 since it had better support. I was using kali linux on a Oracle VM VirtualBox prior to downloading 18.04 and I had even more issues there. also my C drive has about 6gb left so I’m trying to get it done with storage to spare.  Will it be possible to make this work?
51,Sim_vehicle.py -w Error,6,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.","yes I did, the only issue I had prior to this was ; "
51,Sim_vehicle.py -w Error,7,"Day 01 user here: I am trying to install Ardupilot on my windows 10 using ubuntu through the Microsoft store Ubuntu 18.04 LTS running on windows 10 The Ardupilot setup manual I am using :Manualhttps://github.com/Intelligent-Quads/iq_tutorials/blob/master/docs/Installing_Ardupilot.md Run SITL (Software In The Loop) once to set params: When I run the following: cd ~/ardupilot/ArduCopter sim_vehicle.py -w This is what i get as an response: :~/ardupilot/ArduCopter$ sim_vehicle.py - SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/colinjayasekara/ardupilot Setting out to                           : /home/colinjayasekara/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 7.5.0 Checking for need to link with librt     : not necessary Checking for feenableexcept              : yes Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : yes Configured VSCode Intellisense:                : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.17 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Debug build                                    : disabled Coverage build                                 : disabled SITL 32-bit build                              : disabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (5.538s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/colinjayasekara/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /home/colinjayasekara/ardupilot/build/sitl' Embedding file locations.txt:Tools/autotest/locations.txt Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json Waf: Leaving directory /home/colinjayasekara/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 251, in run_commands ctx = run_command(cmd_name) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “Tools/ardupilotwaf/ardupilotwaf.py”, line 202, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Scripting.py”, line 573, in execute return execute_method(self) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 231, in execute self.execute_build() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 251, in execute_build self.compile() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 345, in compile self.producer.start() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 428, in start self.refill_task_list() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Runner.py”, line 255, in refill_task_list tasks = next(self.biter) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 802, in get_build_iterator self.post_group() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 749, in post_group tgpost(tg) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/Build.py”, line 741, in tgpost f() File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 239, in post v() File “Tools/ardupilotwaf/mavgen.py”, line 80, in process_mavgen inputs = self.to_nodes(self.bld.srcnode.find_node(self.source)) File “/home/colinjayasekara/ardupilot/modules/waf/waflib/TaskGen.py”, line 516, in to_nodes for x in Utils.to_list(lst): TypeError: ‘NoneType’ object is not iterable SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks … Heres a picture for sanity :  * * Please let me know what I’m doing wrong or If you need more pictures. thanks.","As you have likely found, “better support” is a very subjective and vague term.  Better support for what? If the only reason you installed WSL was to build ArduPilot, then “better support” will be found via Ubuntu 20.04.  Remove the 18.04 installation entirely and start over with 20.04 unless you have a very compelling reason not to do so."
52,Gazebo sim error sdf,1,hi all I’m working on a ubuntu 21.10 impish I ve installed gazebo 9 as required in * but when asking for version it says 11 * when trying to launch irisworld I get error about sdf 1.7 not compatible and I dont know how to change this * I didn’t find any one here who get same error,I got the same problem… Did you fix it?
52,Gazebo sim error sdf,2,hi all I’m working on a ubuntu 21.10 impish I ve installed gazebo 9 as required in * but when asking for version it says 11 * when trying to launch irisworld I get error about sdf 1.7 not compatible and I dont know how to change this * I didn’t find any one here who get same error,Getting the same error on Ubuntu 20.04 and Gazebo 11. Gazebo world opens up but the iris model is not loaded.
53,Airsim Copter Oscillations,1,"Hello. I am using sitl drone and airsim as I need to do some image processing project through integrating Airsim, OpenCV and Dronekit. I was trying to first control the drone yaw myself using a joystick, which I managed to make via RC overrides (I totally understand it is not recommended, but it is working well with me. Also I tried without them and problem is the same) I noticed that when I give input to rotate yaw, airsim copter rotates but does larger oscillations after it reaches the target then the case of using sitl alone without airsm using exactly same code and same joystick, just re-running the command of sitl in terminal is the difference Why this can happen? and how to deal with that",Reduce the PID values. I had the same kind of issues and that helped. In my case I had to reduce the yaw P gain 8x. Check the ATC_YAW_* parameters
53,Airsim Copter Oscillations,2,"Hello. I am using sitl drone and airsim as I need to do some image processing project through integrating Airsim, OpenCV and Dronekit. I was trying to first control the drone yaw myself using a joystick, which I managed to make via RC overrides (I totally understand it is not recommended, but it is working well with me. Also I tried without them and problem is the same) I noticed that when I give input to rotate yaw, airsim copter rotates but does larger oscillations after it reaches the target then the case of using sitl alone without airsm using exactly same code and same joystick, just re-running the command of sitl in terminal is the difference Why this can happen? and how to deal with that",May you explain how to do so and where to edit?
53,Airsim Copter Oscillations,3,"Hello. I am using sitl drone and airsim as I need to do some image processing project through integrating Airsim, OpenCV and Dronekit. I was trying to first control the drone yaw myself using a joystick, which I managed to make via RC overrides (I totally understand it is not recommended, but it is working well with me. Also I tried without them and problem is the same) I noticed that when I give input to rotate yaw, airsim copter rotates but does larger oscillations after it reaches the target then the case of using sitl alone without airsm using exactly same code and same joystick, just re-running the command of sitl in terminal is the difference Why this can happen? and how to deal with that","Since I’m using the RC overrides, should I be interested in the yaw rate PID not the yaw angle PID? originally, my problems were: 1- when I release the analog stick (rotating yaw by rc overrides), the vehicle still rotates. I solved this by making the timeout of the rc small enough (so it get my input with more frequent) 2- when I release the stick (after solving no.1), the yaw overs/under-shoots, and this is what I’m trying to do. so it is now the angle PID to tune or the rate (since I’m using overrides which maps to how fast copter rotates)?"
54,How to make a copter simulation script via dronekit-sitl display changes in Mission Planner app?,1,"Hi, I’m new at drone programming using Python, and I’m going to make a big project for me: construct and make an autopilot for my own drone. First of all I decided to write some code, which would simulate real drone, to test dronekit module and Mission Planner. I’ve downloaded all necessary modules (dronekit, dronekit-sitl, mavproxy, pymavlink etc.), wrote a script for reaching desired altitude, but I wanted to see simulated drone “in action” in Mission Planner window. I found out, that it’s possible to do using mavproxy. And here I’ve got some problems… As far as I understood, I have to run command in cmd dronekit-sitl copter=3.3.0. Then in another cmd run mavproxy.py --master.... In all tutorials they got some messages, reaching the point where they can enter commands as MAV> mode GUIDED and so on. Meanwhile I got another messages like: * Script is working (I use PyCharm and VS Code), altitude increases, but at this moment I can’t connect Mission Planner to display the changes. I want to see where it’s flying, telemetry and so on, but I can’t connect. I am not a specialist in connections and ports, but still tried various commands and variants of it (also those commands, that were suggested in local discussions). Can someone explain, what am I doing wrong or what should I do? It’s necessary for my script and for me to understand the behavior of copter in space. I’ve also tried to run my script in Mission planner, but it raises an error “no module name dronekit” PC: Windows 10 Python==3.8.6 Mavproxy==1.8.46 Pymavlink==2.4.8 Dronekit==2.9.2 Dronekit-sitl==3.3.0 wxPython==4.4.1 P.S. Sorry for mistakes in text. It was rather difficult to explain my thoughts understandable enough in English!  *  Screenshot of all working windows","Answer for those, who got the same problem: Start Simulation in Mission Planner app on TCP port 5760, then connect to TCP port 5762 from your code using dronekit-sitl via function connect('tcp:localhost:5762)"
55,Error trying to run SITL in cygwin on windows 10,1,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","probably cygwin that broke something again. try install pexpect as mentionned in the error log. I would advise to use WSL on windows10, it is much better than cygwin and we will stop cygwin support in near future"
55,Error trying to run SITL in cygwin on windows 10,2,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",I uninstalled Mavproxy and cygwin. I’m going to try the other method via WSL and see if it works any better
55,Error trying to run SITL in cygwin on windows 10,3,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",Well that was short lived too. The WSL instructions do not work a the step to download ubuntu from Microsoft store. See picture  *
55,Error trying to run SITL in cygwin on windows 10,4,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",I installed SITIL a couple of years ago and I do not remember it to be so difficult and more than anything not working. Why isn’t there a prebuild windows binary that you can just download and execute to install SITIL with all required dependencies on Windows ?
55,Error trying to run SITL in cygwin on windows 10,5,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","You can use Mission Planner to run a basic instance of SITL with the latest stable or dev versions. If you want to do anything more complex than Mission Planner offers, you must install a build environment. EDIT: I should caveat that the MP instance will allow MAVProxy to connect on port 5761, so you can do quite a bit with it. As for WSL, once you’ve enabled the WSL component per the instructions, reboot and type wsl --install at a command prompt."
55,Error trying to run SITL in cygwin on windows 10,6,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","Thanks for trying to solve my issue here. Ok, I’m trying the Ubuntu installation via command line instead of going though Microsoft store. The correct command is the following apparently : wsl --install -d Ubuntu Can this command be added in the Ardupilot/SITIL/Installation instructions for Windows ? and remove the installation instruction advising to go through the Microsoft store I’ll continue to post here my SITIL/Mavproxy installation progress…to be continued"
55,Error trying to run SITL in cygwin on windows 10,7,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","So before launching the Ubuntu installation in WSL (in a windows cmd window:  wsl --install -d Ubuntu), you need the following pre-requisites (they should be added in the Ardupilot wiki explaining how to install SITIL/MavProxy in Windows 10): 1-In the BIOS of your computer, you must first activate virtualization technology. It is usually found in your BIOS “advanced CPU” menu. 2-Then you reboot the machine and you must now activate the virtualization feature in Windows 10. To do this, the simplest is to right-click on the windows powershell icon/menu to start it with “run as administrator” rights. This will open a powershell with elevated admin rights. Then copy this command to enabel virtualization in windows 10: dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart Then reboot your machine. 3-Open a cmd window 4-Launch the installation of Ubuntu , by choosing one of the two following commands, depending if you want a WSL1 or WSL2 underlaying linux virtualization. WSL2 is faster than WSL1. wsl --set-version Ubuntu 1 wsl --set-version Ubuntu 2 5-Install Ubuntu in WSL:"
55,Error trying to run SITL in cygwin on windows 10,8,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",You also have in windows 10 to install a LInux package upgrade whic is required for virtualization. Download the MSI installer here :
55,Error trying to run SITL in cygwin on windows 10,9,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",Very useful information. You could edit it yourself and send a pull request: *
55,Error trying to run SITL in cygwin on windows 10,10,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help",I have edited the page in github and submitted the change.
55,Error trying to run SITL in cygwin on windows 10,11,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","Now I try to run FlightGear in the Ubuntu WSL (after installing it as described on page *), with the command : /ardupilot/Tools/autotest/ : * (Plane) and * (Copter). FlightGear splash screen is displayed for a while and then I get a segmentation fault. The last lines of the log during FlightGear startup are these lines: 1.43 [INFO]:view       Splash screen progress creating-subsystems 1.44 [INFO]:general    Creating Subsystems 1.44 [INFO]:general    ======== ========== 1.44 [INFO]:input      Reading materials from /usr/share/games/flightgear/Materials/regions/materials.xml 1.83 [WARN]:general    adding subsystem to group with name ‘terrainsampler’, but name() returns ‘TerrainSampler’ 1.83 [WARN]:general    adding subsystem to group with name ‘environment’, but name() returns ‘FGEnvironmentMgr’ 1.83 [INFO]:systems    Reading systems from Path “/usr/share/games/flightgear/Aircraft/Generic/generic-systems.xml” 1.83 [WARN]:general    adding subsystem to group with name ‘systems’, but name() returns ‘FGSystemMgr’ 1.83 [WARN]:general    adding subsystem to group with name ‘instrumentation’, but name() returns ‘FGInstrumentMgr’ 1.83 [INFO]:cockpit    Initializing HUD Instrument 1.83 [WARN]:general    adding subsystem to group with name ‘cockpit-displays’, but name() returns ‘CockpitDisplayManager’ 1.83 [WARN]:general    adding subsystem to group with name ‘xml-autopilot’, but name() returns ‘FGXMLAutopilotGroup’ 1.83 [WARN]:general    adding subsystem to group with name ‘xml-proprules’, but name() returns ‘FGXMLAutopilotGroup’ 1.83 [WARN]:general    adding subsystem to group with name ‘input’, but name() returns ‘FGInput’ 1.83 [WARN]:general    adding subsystem to group with name ‘events’, but name() returns ‘EventMgr’ 1.83 [INFO]:sound      Reading sound sound from Path “/usr/share/games/flightgear/Aircraft/Generic/generic-sound.xml” 1.83 [INFO]:general    Creating subsystems took:404 1.83 [INFO]:view       Splash screen progress binding-subsystems 2.12 [ALRT]:nasal      Volcanic activity off. 4.42 [ALRT]:nasal      setWeight() - not supported for external Segmentation fault Any idea if FlightGear works on Ubuntu in WSL ? Or does it only work on a native Ubuntu machine ?"
55,Error trying to run SITL in cygwin on windows 10,12,"Hi, I followed the documentation directions to install cygwin, mavproxy on a windows 10 desktop. In a Cygwin terminal, when I try to un the instruction to launch SITIL+MavProxy : “…/Tools/autotest/sim_vehicle.py --map --console”,  it returns the following error: Hugues@DESKTOP-E4MV4JE /home/ardupilot $ ./Tools/autotest/sim_vehicle.py --map --console Traceback (most recent call last): File “./Tools/autotest/sim_vehicle.py”, line 31, in  from pysim import util File “/home/ardupilot/Tools/autotest/pysim/util.py”, line 16, in  import pexpect ModuleNotFoundError: No module named ‘pexpect’ It is a fresh new install of SITIL/MavProxy , so I do not know what’s wrong. Are the instructions in the wiki outdated maybe ? thanks for any help","Running MavProxy+SITIL, I get once in a while this error in the command window: HugSITIL:STABILIZE> (mavproxy.py:1678): dbind-WARNING **: 15:51:52.721: Couldn’t connect to accessibility bus: Failed to connect to socket /tmp/dbus-87EUTEIiat: Connection refused Any idea what that this error mean in MAvProxy/Sitil?"
56,Guided Mode With ArduCopter Using Mavros Not Working,0,Hi everyone I am a beginner in ardupilot projects I have a question which is about Guided mode(Offboard mode in px4) this is part of my code that is wroking well with px4 but when I use it with ardupilot it is not working and it remains at its place I tried to change cordinate frame and type_mask but I didn’t get any resualts. mavros node is working well cuz I can get data from mavros topics part of my code: *  and data is published well too: I publish mavrs.msgs.PositionTarget data to mavros/setpoint_raw/local and  this is output of “rostopic echo mavros/setpoint_raw/local” command  header: seq: 92 stamp: secs: 4325 nsecs: 601000000 frame_id: ‘’ coordinate_frame: 1 type_mask: 1016 position: x: 0.0 y: 0.0 z: 3.2 velocity: x: 0.0 y: 0.0 z: 0.0 acceleration_or_force: x: 0.0 y: 0.0 z: 0.0 yaw: 7.470011041732505e-05 yaw_rate: 1.0 keep in your mind same code is working perfectly with px4 in offboard mode but with ardupilot in Guided mode is not working I’m working with a simulator and not a real copter. OS : Ubuntu20.4 Simulator: Gazebo I hope you guys can help me to solve this weird problem ,
57,Swarm communication with multidrone,0,How to do the swarm communication with multi drones. can any one suggest the proper coding’s for the same,
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],1,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Unfortunately, there are very few devs who use MacOS. (I’m not one of them   I use WSL2 on windows.) The floating_point exception is interesting and usually a stack trace will print. Then we could track down what happened. The dumpstack.sh_nknown.5365.out file also gets printed with the same information. Unfortunately, it looks like that failed? I’m not sure how comfortable you are with debugging. But if you can attach a debugger  and reboot in mavproxy you may be able to find the offending line of code. The end EOF on TCP socket bit would likely be caused by the floating_point_exception."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],2,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Not much with gdb. I’ve seen two problems:  On a default installation dumpstack.sh is not in the path.  Code signing gdb.  With both solved, this is the information provided: % sim_vehicle.py -v ArduCopter -f quad … ERROR: Floating point exception - aborting Running: sh dumpstack.sh 1693 >dumpstack.sh_nknown.1693.out 2>&1 dumpstack.sh has been run.  Output was: -------------- begin dumpstack.sh output ---------------- [New Thread 0x1b03 of process 1693] [New Thread 0x2303 of process 1693] [New Thread 0x2403 of process 1693] Error calling thread_get_state for GP registers for thread 0x1b03 *warning: Mach error at “…/…/gdb/i386-darwin-nat.c:132” in function ""virtual void i386_darwin_nat_target::fetch_registers(struct regcache , int)"": (os/kern) invalid argument (0x4) warning: unhandled dyld version (17) 0x00007ff8073fd3da in ?? () #0  0x00007ff8073fd3da in ?? () No symbol table info available. *  0x00007ff8073128a9 in ?? () No symbol table info available. #2  0x0000000000000000 in ?? () No symbol table info available. Thread 3 (Thread 0x2403 of process 1693): #0  0x00007ff807403f12 in ?? () No symbol table info available. *  0x00007ff80737da8e in ?? () No symbol table info available. #2  0x0000000000000001 in ?? () No symbol table info available. #3  0x0000000000000000 in ?? () No symbol table info available. Thread 2 (Thread 0x2303 of process 1693): #0  0x00007ff8073fd3da in ?? () No symbol table info available. *  0x00007ff8073128a9 in ?? () No symbol table info available. #2  0xe5d1eb68c6a3003e in ?? () No symbol table info available. #3  0x00007000089f7c40 in ?? () No symbol table info available. #4  0x000000000000000b in ?? () No symbol table info available. #5  0x000000010ca1e5f0 in ?? () No symbol table info available. #6  0x000000010ca1d490 in ?? () No symbol table info available. #7  0x0000000002b65489 in ?? () No symbol table info available. #8  0x00007000089f7bf0 in ?? () No symbol table info available. #9  0x00007ff8073127df in ?? () No symbol table info available. #10 0x0000000000000000 in ?? () No symbol table info available. Thread 1 (Thread 0x1b03 of process 1693): #0  0x00007ff8073fd3da in ?? () No symbol table info available. *  0x00007ff8073128a9 in ?? () No symbol table info available. #2  0x0000000000000000 in ?? () No symbol table info available. A debugging session is active.  Inferior 1 [process 1693] will be detached.*  Quit anyway? (y or n) [answered Y; input not from terminal] -------------- end dumpstack.sh output ---------------- Running: sh dumpcore.sh 1693 >dumpcore.sh_nknown.1693.out 2>&1 dumpcore.sh has been run.  Output was: -------------- begin dumpcore.sh output ---------------- [New Thread 0x1a03 of process 1693] [New Thread 0x1b03 of process 1693] [New Thread 0x2303 of process 1693] Error calling thread_get_state for GP registers for thread 0x1a03 *warning: Mach error at “…/…/gdb/i386-darwin-nat.c:132” in function ""virtual void i386_darwin_nat_target::fetch_registers(struct regcache , int)"": (os/kern) invalid argument (0x4) warning: unhandled dyld version (17) 0x00007ff8073fd3da in ?? () /tmp/gdb.1720:2: Error in sourced command file: Can’t create a corefile -------------- end dumpcore.sh output ---------------- zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 Please, illuminate me, perhaps with some print’s before the possible calls to dumpstack.sh."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],3,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Maybe some where around here would be a good spot for a debug point, * You should be able to attach the debugger after the floating point exception has occurred. You also need to be sure to build with debug symbols using the -D command ./sim_vehicle.py -v ArduCopter -f quad -D"
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],4,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","I know this isn’t likely to be the popular answer, but it might save you some frustration. Maybe you could run a Linux build environment in a VM, host SITL in that VM, and use network passthrough to connect your MacOS GCS software."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],5,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","This was a good workaround. I did the following:   % sim_vehicle.py -v ArduCopter -f quad -D: 869 compiled. Surpringly: no FPE.  % sim_vehicle.py -v ArduCopter -f quad: 869 compiled. FPE.  % sim_vehicle.py -v ArduCopter -f quad -D: 869 compiled. No FPE.  % sim_vehicle.py -v ArduCopter -f quad -D: no FPE.  % sim_vehicle.py -v ArduCopter -f quad -D -l 33.74111111,-118.374600,44,270 -t 33.74111111,-118.374500,44,270 --use-dir=BigW --console -m “–cmd=“module load misseditor;module load graph;graph RANGEFINDER.distance;param set DISARM_DELAY 0;calpress;batreset”” (more complex): no FPE. I could connect MP on another Windows PC and run an endless mission without problems.  So for locating the failure dumpcore.sh could be modified (with echo’s or whatever) so as to provide a clue of where it happens, without symbols. A scientific explanation of why it works compiling with debugging symbols? (*). After this, I have been using SITL on Ubuntu on another PC, but using -D may be a good workaround for SITL on MacOS’s by now."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],6,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?",Hmm…  debugging symbols fixes the issue… Shouldn’t be the case… but compilers are a magic mystery box to me  One thought I had is that you are using clang to compile sitl? If you want to create an issue on github for it feel free? And I assume in all of your examples they run fine as well without issue?
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],7,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","I’m not familiar with clang. While build/sitl/bin/arducopter is being built, in another window: % ps ax|grep clang 2297 s003  S+     0:00.03 /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ … 2300 s003  R+     0:01.61 /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang … So yes, from Apple’s Xcode, which was upgraded when Mojave->Monterey. What happens is too vague now. But trying to understand better what happens, not running sym_vehicle, but instead running in one window build/sitl/bin/arducopter (having compiled without symbols (no -D)): % build/sitl/bin/arducopter -S --model quad Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209* Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … It waits forever. Running mavproxy in another window: % mavproxy.py --out 127.0.0.1:14550 --out 127.0.0.1:14551 --master tcp:127.0.0.1:5760 --sitl 127.0.0.1:5501 Connect tcp:127.0.0.1:5760 source_system=255 Log Directory: Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 Mode(0)> Mode Mode(0) APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: UNSUPPORTED APM: ArduPilot Ready APM: AHRS: DCM active Received 1254 parameters (ftp) Saved 1254 parameters to mav.parm fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: PreArm: Check firmware or FRAME_CLASS APM: PreArm: 3D Accel calibration needed APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS On the build/sitl/bin/arducopter window: Connection on serial port 5760 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures 30"" later: On the mavproxy window: no link link 1 down no link no link no link On the build/sitl/bin/arducopter window: ERROR: Floating point exception - aborting Running: sh Tools/scripts/dumpstack.sh 3979 >dumpstack.sh_nknown.3979.out 2>&1 It seems so now with -D. I have to do some SITL tests, and I’ll do them with -D, as well as doing git with new versions. But I keep older versions and the problem is the same after Mojave->Monterey (I haven’t tested -D on them)."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],8,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Anyhow, I found that mavproxy could be upgraded. After doing so (1.8.34->1.8.46), as well as other minor checks and upgrades, nothing changed."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],9,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","BTW, about the two windows check without -D (one executing build/sitl/bin/arducopter and the other executing mavproxy.py …) if you don’t execute mavproxy.py (or just don’t open this second window) but instead go to another PC on the network and connect through TCP for example in MP ( mavproxy.py is a GCS as MP), after 30"" the FPE is produced, and MP stops to communicate, so the problem is not in mavproxy.py."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],10,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?",The floating point exception error is happening in the C++ code. Sorry I wasn’t clear on that. But the issue is reproduction and finding the offending line in the CPP This documentation describes how to debug using VSCode. * Of course you will need to modify installation steps (which I think you have done already) for MacOS. And be cognizant that some directions may need to be modified due to your OS (that section was wrote for Linux / WSL)
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],11,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Nice. I’ll try it but requires time for fully understanding. While that, with the two windows check without symbols (no -D): % gdb build/sitl/bin/arducopter GNU gdb (GDB) 11.1 Copyright (C) 2021 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later * This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Type “show copying” and “show warranty” for details. This GDB was configured as “x86_64-apple-darwin21.1.0”. Type “show configuration” for configuration details. For bug reporting instructions, please see: *. Find the GDB manual and other documentation resources online at: *. For help, type “help”. Type “apropos word” to search for commands related to “word”… Reading symbols from build/sitl/bin/arducopter… (No debugging symbols found in build/sitl/bin/arducopter) (gdb) set args -S --model quad (gdb) r Starting program: /Users/xxxxxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model quad [New Thread 0x1803 of process 2288] [New Thread 0x1b03 of process 2288] warning: unhandled dyld version (17) Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209* Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures [New Thread 0x1907 of process 2288] [New Thread 0x2203 of process 2288] Thread 2 received signal SIGFPE, Arithmetic exception. 0x000000010004c794 in AP_Declination::get_mag_field_ef(float, float, float&, float&, float&) () (gdb) Recall all this started to happen after upgrading Mojave to Monterey (directly): difficult to relate with magnetic fields. There are a few divisions * involving SAMPLING_RES. How could I insert there code (similar to printf) so that it appears when running build/sitl/bin/arducopter?"
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],12,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?",If you can get the full output from that stack trace. It should give a line number for the error and the  local values for the function. That gets us one step closer. BTW is this on master ? What is the output of git status?
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],13,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","printf’s * and produce output. So on date 20220103 on master (870 modules compiled, one more) I modified AP_Declination.cpp as follows: … uint32_t tracegg = 0; bool AP_Declination::get_mag_field_ef(float latitude_deg, float longitude_deg, float &intensity_gauss, float &declination_deg, float &inclination_deg) { bool valid_input_data = true; printf(""%d %f %f %f %f %f %d\n"", (int)SAMPLING_RES, latitude_deg, longitude_deg, intensity_gauss, declination_deg, inclination_deg, tracegg++); / round down to nearest sampling resolution / int32_t min_lat = static_cast<int32_t>(static_cast<int32_t>(floorf(latitude_deg / SAMPLING_RES)) * SAMPLING_RES); … No FPE (in fact, with any printf inserted no FPE appears), and even a mission can be started:   But I don’t know if  intensity_gaus 0.00000  may have some effect on the FPE (apparently, no division).         "
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],14,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Hey * I saw similar error when I started contributing to ardupilot. When I went on to find the cause of it, it ended up to be a compiler issue. The gcc/g++ on mac is actually clang in disguise. I installed gcc/g++ using homebrew and fixed some aliases in usr/local/bin to get it working properly. I haven’t seen it since then."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],15,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Thanks a lot; this makes sense. Meanwhile, I have been compiling with -D, and simulations have worked (FPE without -D). With Xcode many years being used, this is very surprising. Do Apple people test and debug?"
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],16,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","I had gcc/g++ from Homebrew installed, but trying to use them I get compiling errors; I’ll try later. Now about what appears above on the build process: … Checking for ‘g++’ (C++ compiler)        : not found Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ Checking for ‘gcc’ (C compiler)          : not found Checking for ‘clang’ (C compiler)        : /usr/bin/clang … it seems clear that it compiles with Apple clang, that for some reason without -D produces the FPE. But both Apple gcc and g++ exist, and for some reason they are not found: % file ‘which gcc’ /usr/bin/gcc: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64] [arm64e:Mach-O 64-bit executable arm64e] /usr/bin/gcc (for architecture x86_64):	Mach-O 64-bit executable x86_64 /usr/bin/gcc (for architecture arm64e):	Mach-O 64-bit executable arm64e % file ‘which g++’ /usr/bin/g++: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64] [arm64e:Mach-O 64-bit executable arm64e] /usr/bin/g++ (for architecture x86_64):	Mach-O 64-bit executable x86_64 /usr/bin/g++ (for architecture arm64e):	Mach-O 64-bit executable arm64e On build/config.log appears: from /Users/xxxxxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot: Could not find gcc/g++ (only Clang), if renamed try eg: CC=gcc48 CXX=g++48 waf configure not found That has not much sense in my configuration, but trying instead from ardupilot directory: CC=gcc CXX=g++ ./waf configure gives: … Checking for ‘g++’ (C++ compiler)        : not found Checking for ‘clang++’ (C++ compiler)    : g++ Checking for ‘gcc’ (C compiler)          : not found Checking for ‘clang’ (C compiler)        : gcc … so this may suggest a workaround so that it compiles with Apple gcc/g++ instead of Apple clang/clang++. How can I somehow incorporate CC=gcc CXX=g++ definitions for the build?"
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],17,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","I am not sure about what errors you are talking about (please share screenshots to be more clear). I have been compiling with homebrew gcc/g++ since I begun building ardupilot binaries and it never gave unexpected errors. Also, AFAIK there is nothing like Apple gcc. The gcc and g++ shipped with our macbooks are actually just a launcher for clang. Its actually clang what works under the hood."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],18,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","I mean modifying path so that compilation proceeds with gcc/g++ from Homebrew, I get compilation errors that I have to look at (too many errors). I mean those on a normal Apple installation, in my case Mac Mini 2014 (Intel). Anyhow, I tried commenting two lines on modules/waf/waflib/Tool/c_config.py, which produced: … Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 13.0.0 … but (without -D) a build with a lot of warnings but successful build, and finally the same FPE, so no change."
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],19,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?",I can tell you how I made it compile using homebrew gcc. There are aliases pointing to preinstalled g++ and gcc in usr/local/bin. I replaced these aliases with those pointing to /usr/local/Cellar/gcc/11.2.0/bin/g++-11 and /usr/local/Cellar/gcc/11.2.0/bin/gcc-11 for g++ and gcc respectively and it started compiling with these since then. You can try it and see if it works. It simple and straight forward. No changing paths and altering files.
58,SITL error on MacOS Monterey 12.1 [almost SOLVED],20,"After upgrading a Mac Mini 2014 (Intel) with Mojave to Monterey 12.1 with XCode 13.2.1 directly (not having upgraded to Catalina or Big Sur), SITL, which had been run during years, fails to execute. After a first run which compiles 869 modules, on a second run: % ./sim_vehicle.py -v ArduCopter -f quad SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” *Setting top to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot * *Setting out to                           : /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build * *Autoconfiguration                        : enabled * *Setting board to                         : sitl * *Using toolchain                          : native * *Checking for ‘g++’ (C++ compiler)        : not found * *Checking for ‘clang++’ (C++ compiler)    : /usr/bin/clang++ * *Checking for ‘gcc’ (C compiler)          : not found * *Checking for ‘clang’ (C compiler)        : /usr/bin/clang * *Checking for c flags ‘-MMD’              : yes * *Checking for cxx flags ‘-MMD’            : yes * *CXX Compiler                             : clang++ 13.0.0 * *Checking for feenableexcept              : no * Disabling SLP for clang++ *Checking for HAVE_CMATH_ISFINITE         : yes * *Checking for HAVE_CMATH_ISINF            : yes * *Checking for HAVE_CMATH_ISNAN            : yes * *Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes * *Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes * *Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes * *Checking for header endian.h                   : not found * *Checking for header byteswap.h                 : not found * *Checking for HAVE_MEMRCHR                      : no * *Configured VSCode Intellisense:                : no * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Checking for program ‘python’                  : /usr/local/opt/python@3.9/bin/python3.9 * *Checking for python version >= 2.7.0           : 3.9.9 * *Source is git repository                       : yes * *Update submodules                              : yes * *Checking for program ‘git’                     : /usr/local/bin/git * *Checking for program ‘size’                    : /usr/bin/size * *Benchmarks                                     : disabled * *Unit tests                                     : enabled * *Scripting                                      : enabled * *Scripting runtime checks                       : enabled * *Debug build                                    : disabled * *Coverage build                                 : disabled * *SITL 32-bit build                              : disabled * *Checking for program ‘rsync’                   : /usr/bin/rsync * ‘configure’ finished successfully (2.852s) SIM_VEHICLE: Building SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl'* *Embedding file locations.txt:Tools/autotest/locations.txt* *Embedding file models/Callisto.json:Tools/autotest/models/Callisto.json* *Waf: Leaving directory /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl Target          Text (B)  Data (B)  BSS (B)  Total Flash Used (B)  Free Flash (B) --------------------------------------------------------------------------------- bin/arducopter   2408448    180224        0               2588672  Not Applicable Build commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (2.897s) SIM_VEHICLE: Using defaults from (/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–slave” “0” “–defaults” “/Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “127.0.0.1:14550” “–out” “127.0.0.1:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” Connect tcp:127.0.0.1:5760 source_system=255 *Log Directory: * Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> online system 1 STABILIZE> Mode STABILIZE APM: Barometer 1 calibration complete APM: Barometer 2 calibration complete Init Gyro**APM: ArduCopter V4.2.0-dev (97fee2d1) APM: Mac-mini.local APM: Frame: QUAD/PLUS Received 1273 parameters (ftp) Saved 1273 parameters to mav.parm APM: ArduPilot Ready APM: AHRS: DCM active APM: SaveWaypoint LOW fence present APM: EKF3 IMU0 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU1 buffs IMU=19 OBS=7 OF=17 EN:17 dt=0.0120 APM: EKF3 IMU0 initialised APM: EKF3 IMU1 initialised APM: AHRS: EKF3 active APM: EKF3 IMU0 tilt alignment complete APM: EKF3 IMU1 tilt alignment complete APM: EKF3 IMU0 MAG0 initial yaw alignment complete APM: EKF3 IMU1 MAG0 initial yaw alignment complete APM: GPS 1: detected as u-blox at 230400 baud APM: EKF3 IMU1 origin set APM: EKF3 IMU0 origin set APM: EKF3 IMU0 is using GPS APM: EKF3 IMU1 is using GPS EOF on TCP socket Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping Attempting reconnect [Errno 61] Connection refused sleeping [Errno 22] Invalid argument sleeping On the emerging window: % /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/build/sitl/bin/arducopter -S --model + --speedup 1 --slave 0 --defaults /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm -I0 * Setting SIM_SPEEDUP=1.000000 Suggested EK3_BCOEF_ = 16.288, EK3_MCOEF = 0.209 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 validate_structures:469: Validating structures Loaded defaults from /Users/xxx/Documents_outofthecloud/Desarrollo/Pythonadas/ardupilot/Tools/autotest/default_params/copter.parm ERROR: Floating point exception - aborting Running: sh dumpstack.sh 5365 >dumpstack.sh_nknown.5365.out 2>&1 Failed Running: sh dumpcore.sh 5365 >dumpcore.sh_nknown.5365.out 2>&1 Failed zsh: abort       -S --model + --speedup 1 --slave 0 --defaults  -I0 xxx@Mac-mini ~ % Terminal output stops around 25"" and then bold lines above appear simultaneously. install-prereqs-mac.sh has been run again, although compilation is successful. This happens whether or not incoming connections are permitted, and also on older versions. ARM compiler: % arm-none-eabi-gcc -v Using built-in specs. COLLECT_GCC=arm-none-eabi-gcc COLLECT_LTO_WRAPPER=/opt/gcc-arm-none-eabi-10-2020-q4-major/bin/…/lib/gcc/arm-none-eabi/10.2.1/lto-wrapper Target: arm-none-eabi Configured with: /tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/src/gcc/configure --target=arm-none-eabi --prefix=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native --libexecdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/lib --infodir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/info --mandir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/man --htmldir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/html --pdfdir=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/share/doc/gcc-arm-none-eabi/pdf --enable-languages=c,c++ --enable-plugins --disable-decimal-float --disable-libffi --disable-libgomp --disable-libmudflap --disable-libquadmath --disable-libssp --disable-libstdcxx-pch --disable-nls --disable-shared --disable-threads --disable-tls --with-gnu-as --with-gnu-ld --with-newlib --with-headers=yes --with-python-dir=share/gcc-arm-none-eabi --with-sysroot=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/install-native/arm-none-eabi --build=x86_64-apple-darwin10 --host=x86_64-apple-darwin10 --with-gmp=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpfr=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-mpc=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-isl=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-libelf=/tmp/jenkins-GCC-10-pipeline-48_20201124_1606180639/build-native/host-libs/usr --with-host-libstdcxx=’-static-libgcc -Wl,-lstdc++ -lm’ --with-pkgversion=‘GNU Arm Embedded Toolchain 10-2020-q4-major’ --with-multilib-list=rmprofile,aprofile Thread model: single Supported LTO compression algorithms: zlib gcc version 10.2.1 20201103 (release) (GNU Arm Embedded Toolchain 10-2020-q4-major) What can I try? Someone successful with SITL on Monterey?","Thanks. In fact, what happened is that I had Homebrew gcc/g++ installed while on Mojave, and later upgraded directly to Monterey. gcc/g++ appeared installed, but a lot of headers were missing when compiling. So I did % brew reinstall gcc, and with a couple of symbolic links on /usr/local/bin: … Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/local/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/local/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes CXX Compiler                             : g++ 11.2.0 … There are much fewer warnings on the build now, and it seems to work very well. Thanks a lot. So for MacOS Monterey (probably also Catalina and Big Sur):  If with Apple provided software (XCode), use -D by now as a workaround. Better install/reinstall Homebrew gcc/g++, as you say. "
59,Warning and Critical Error when Arming and Disarming in QGroundControl using SITL,1,"Hi, I’m using QGroundControl and have my simulated vehicle (Dronekit-SITL) connected via TCP:5760. When arming and disarming, the message displayed with weird characters. Does anyone know this problem? Thanks! *","There are few modes in which you cannot arm your vehicle. Change the mode to Stabilize, arm your vehicle and then change to your desired mode."
59,Warning and Critical Error when Arming and Disarming in QGroundControl using SITL,2,"Hi, I’m using QGroundControl and have my simulated vehicle (Dronekit-SITL) connected via TCP:5760. When arming and disarming, the message displayed with weird characters. Does anyone know this problem? Thanks! *","Thanks. Your answer is quite helpful! However, if I enable the pre-arm check, the vehicle seems cannot arm properly and prompts “Need 3d fix”. The screenshot of this problem is attached below. Do you have any idea why this happened? Thank you very much!"
59,Warning and Critical Error when Arming and Disarming in QGroundControl using SITL,3,"Hi, I’m using QGroundControl and have my simulated vehicle (Dronekit-SITL) connected via TCP:5760. When arming and disarming, the message displayed with weird characters. Does anyone know this problem? Thanks! *",And after reading the documentation I think this is because I disabled GPS and enabled EK3_GPS_TYPE = 3.
59,Warning and Critical Error when Arming and Disarming in QGroundControl using SITL,4,"Hi, I’m using QGroundControl and have my simulated vehicle (Dronekit-SITL) connected via TCP:5760. When arming and disarming, the message displayed with weird characters. Does anyone know this problem? Thanks! *","Also, make sure you outdoors with a clear view of the sky, so that the GPS can get a fix."
59,Warning and Critical Error when Arming and Disarming in QGroundControl using SITL,5,"Hi, I’m using QGroundControl and have my simulated vehicle (Dronekit-SITL) connected via TCP:5760. When arming and disarming, the message displayed with weird characters. Does anyone know this problem? Thanks! *",Hi Eric ! I have the same problem . How did you fix it ? Would you explain please ? I have an assignment which is deadline in two days.
60,RaspBerry Pi bash: sim_vehicle.py: command not found,1,Hi! I’m trying to build in a raspberry pi and I literally copied and pasted the whole * page but I cant make sim_vehicle.py work. When I’m in the ardupilot/ArduCopter directory there is no sim_vehicle.py. I installed the tools like a million times and I can see that there is a sim_vehicle.py file in Tools but it does not work in ardupilot/ArduCopter. Altough I could make it work by copying the path( /home/pi/ardupilot/Tools/autotest/sim_vehicle.py ) and typing the frame type and others. What do you think the problem is ?,You should have the path in your .profile As written in wiki you need to logout/login to make it active
60,RaspBerry Pi bash: sim_vehicle.py: command not found,2,Hi! I’m trying to build in a raspberry pi and I literally copied and pasted the whole * page but I cant make sim_vehicle.py work. When I’m in the ardupilot/ArduCopter directory there is no sim_vehicle.py. I installed the tools like a million times and I can see that there is a sim_vehicle.py file in Tools but it does not work in ardupilot/ArduCopter. Altough I could make it work by copying the path( /home/pi/ardupilot/Tools/autotest/sim_vehicle.py ) and typing the frame type and others. What do you think the problem is ?,How do I save the path in my .profile I do . ~/.profile and it doesn’t show anything. I logout and log in as you said and it still does not work
60,RaspBerry Pi bash: sim_vehicle.py: command not found,3,Hi! I’m trying to build in a raspberry pi and I literally copied and pasted the whole * page but I cant make sim_vehicle.py work. When I’m in the ardupilot/ArduCopter directory there is no sim_vehicle.py. I installed the tools like a million times and I can see that there is a sim_vehicle.py file in Tools but it does not work in ardupilot/ArduCopter. Altough I could make it work by copying the path( /home/pi/ardupilot/Tools/autotest/sim_vehicle.py ) and typing the frame type and others. What do you think the problem is ?,"pi@raspberrypi:~ $ git clone * fatal: destination path ‘ardupilot’ already exists and is not an empty directory. pi@raspberrypi:~ $ cd ardupilot/ pi@raspberrypi:~/ardupilot $ git submodule update --init --recursive pi@raspberrypi:~/ardupilot $ Tools/environment_install/install-prereqs-ubuntu.sh -y ---------- Tools/environment_install/install-prereqs-ubuntu.sh start ----------  ‘[’ 1000 == 0 ‘]’ OPT=/opt ARDUPILOT_TOOLS=Tools/autotest ASSUME_YES=false QUIET=false sep=’##############################################’ OPTIND=1 getopts yq opt case “$opt” in ASSUME_YES=true getopts yq opt APT_GET=‘sudo apt-get’ true APT_GET=‘sudo apt-get --assume-yes’ false sudo apt-get --assume-yes update Hit:1 Index of /debian bullseye InRelease Hit:2 Index of /repo/debian stable-raspbianbuster InRelease Hit:3 Index of /raspbian bullseye InRelease Reading package lists… Done package_is_installed lsb-release dpkg-query -W ‘-f=${Status}’ lsb-release grep -c ‘ok installed’ 1 ++ lsb_release -c -s RELEASE_CODENAME=bullseye PYTHON_V=python PIP=pip2 ‘[’ bullseye == xenial ‘]’ ‘[’ bullseye == disco ‘]’ ‘[’ bullseye == eoan ‘]’ ‘[’ bullseye == focal ‘]’ ‘[’ bullseye == ulyssa ‘]’ ‘[’ bullseye == groovy ‘]’ ‘[’ bullseye == hirsute ‘]’ ‘[’ bullseye == bullseye ‘]’ SITLFML_VERSION=2.5 SITLCFML_VERSION=2.5 PYTHON_V=python3 PIP=pip3 ARM_PKG_CONFIG_NOT_PRESENT=0 ++ apt-cache search -n ‘^pkg-config-arm-linux-gnueabihf’ ‘[’ -z ‘’ ‘]’ ++ dpkg-query --search pkg-config-arm-linux-gnueabihf ++ grep -c dpkg-query: ARM_PKG_CONFIG_NOT_PRESENT=1 ‘[’ 1 -eq 1 ‘]’ INSTALL_PKG_CONFIG= sudo apt-get --assume-yes install pkg-config Reading package lists… Done Building dependency tree… Done Reading state information… Done pkg-config is already the newest version (0.29.2-1). 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded. ‘[’ -f /usr/share/pkg-config-crosswrapper ‘]’ sudo ln -s /usr/share/pkg-config-crosswrapper /usr/bin/arm-linux-gnueabihf-pkg-config ln: failed to create symbolic link ‘/usr/bin/arm-linux-gnueabihf-pkg-config’: File exists pi@raspberrypi:~/ardupilot $ . ~/.profile  After that I log in and log out * still does not work"
60,RaspBerry Pi bash: sim_vehicle.py: command not found,4,Hi! I’m trying to build in a raspberry pi and I literally copied and pasted the whole * page but I cant make sim_vehicle.py work. When I’m in the ardupilot/ArduCopter directory there is no sim_vehicle.py. I installed the tools like a million times and I can see that there is a sim_vehicle.py file in Tools but it does not work in ardupilot/ArduCopter. Altough I could make it work by copying the path( /home/pi/ardupilot/Tools/autotest/sim_vehicle.py ) and typing the frame type and others. What do you think the problem is ?,".profile is updated as part of the install shell script Just look at it , type cat .profile in home directory and you should have a path to Tools"
60,RaspBerry Pi bash: sim_vehicle.py: command not found,5,Hi! I’m trying to build in a raspberry pi and I literally copied and pasted the whole * page but I cant make sim_vehicle.py work. When I’m in the ardupilot/ArduCopter directory there is no sim_vehicle.py. I installed the tools like a million times and I can see that there is a sim_vehicle.py file in Tools but it does not work in ardupilot/ArduCopter. Altough I could make it work by copying the path( /home/pi/ardupilot/Tools/autotest/sim_vehicle.py ) and typing the frame type and others. What do you think the problem is ?,Thanks! I worked it out
61,Determining the front of copter with dronekit,1,How can I tell my vehicle to go 10 meters forward using dronekit?,*
62,Ardupilot sim_vehicle.py doesnt work . Errno 13 Permission denied: 'tasklist.json',1,"hi i want to open ardupilot sim_vehicle.py at ubuntu terminal. But it gives me error below SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/rosevera/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Traceback (most recent call last): File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 248, in run_commands run_command(‘init’) File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “/home/rosevera/ardupilot/modules/waf/waflib/Context.py”, line 204, in execute self.recurse([os.path.dirname(g_module.root_path)]) File “/home/rosevera/ardupilot/modules/waf/waflib/Context.py”, line 286, in recurse user_function(self) File “/home/rosevera/ardupilot/wscript”, line 91, in init generate_tasklist(ctx, False) File “/home/rosevera/ardupilot/wscript”, line 559, in generate_tasklist with open(os.path.join(Context.top_dir, “tasklist.json”), “w”) as tlist: IOError: [Errno 13] Permission denied: ‘tasklist.json’ SIM_VEHICLE: (Configure waf) exited with code 512 SIM_VEHICLE: Killing tasks Please somebody help , how can i solve this",you probably used sudo to make a build in the past. just remove you build directory entirely and retry (sudo rm -rf build/)
62,Ardupilot sim_vehicle.py doesnt work . Errno 13 Permission denied: 'tasklist.json',2,"hi i want to open ardupilot sim_vehicle.py at ubuntu terminal. But it gives me error below SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at SITL location SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/rosevera/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Traceback (most recent call last): File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 158, in waf_entry_point run_commands() File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 248, in run_commands run_command(‘init’) File “/home/rosevera/ardupilot/modules/waf/waflib/Scripting.py”, line 235, in run_command ctx.execute() File “/home/rosevera/ardupilot/modules/waf/waflib/Context.py”, line 204, in execute self.recurse([os.path.dirname(g_module.root_path)]) File “/home/rosevera/ardupilot/modules/waf/waflib/Context.py”, line 286, in recurse user_function(self) File “/home/rosevera/ardupilot/wscript”, line 91, in init generate_tasklist(ctx, False) File “/home/rosevera/ardupilot/wscript”, line 559, in generate_tasklist with open(os.path.join(Context.top_dir, “tasklist.json”), “w”) as tlist: IOError: [Errno 13] Permission denied: ‘tasklist.json’ SIM_VEHICLE: (Configure waf) exited with code 512 SIM_VEHICLE: Killing tasks Please somebody help , how can i solve this",you are a lifesaver thaaank you sooooo much 
63,Why copter max speed is 10m/s?,1,I am using sitl copter for trying auto mode. WPNAV_SPEED is 2000 so it must fly with 20m/s. But it’s can’t fly faster than 10m/s. İs there any speed paramater?,It will fly as fast as ANGLE_MAX and stability will allow. Update to Arducopter V4.2.0-Dev (Latest) as there are some improvements there related to this. It’s the Developer version so at your risk.
63,Why copter max speed is 10m/s?,2,I am using sitl copter for trying auto mode. WPNAV_SPEED is 2000 so it must fly with 20m/s. But it’s can’t fly faster than 10m/s. İs there any speed paramater?,"Submit log to analyze what is limiting your speed. Could be angle, could be motor power, could be something else…"
63,Why copter max speed is 10m/s?,3,I am using sitl copter for trying auto mode. WPNAV_SPEED is 2000 so it must fly with 20m/s. But it’s can’t fly faster than 10m/s. İs there any speed paramater?,Is this issue resolved? I am also facing the same problem. I am using Arducopter V4.2.0-Dev version. Please guide me if you have a solution.
63,Why copter max speed is 10m/s?,4,I am using sitl copter for trying auto mode. WPNAV_SPEED is 2000 so it must fly with 20m/s. But it’s can’t fly faster than 10m/s. İs there any speed paramater?,* There is no issue. Post a link to a flight log.
64,Matlab SITL Simulation Frame Class Error,1,"Hi, I tried running the Ardupilot MATLAB SITL demo code, the video of which is located in this link * I use the same setup that is used in the video. I started the SIM_multicopter.m code without getting any error but when i run SITL code with this command sim_vehicle.py -v ArduCopter -f json:192.168.68.108 --map --console I got an error  AP: PreArm: Check firmware or FRAME_CLASS. And because of this error simulation did not run properly. How can i solve this problem? Thanks for your response",You need to set the frame class parameter.  Connect to sitl using mavproxy and do Param set frame_class x
64,Matlab SITL Simulation Frame Class Error,2,"Hi, I tried running the Ardupilot MATLAB SITL demo code, the video of which is located in this link * I use the same setup that is used in the video. I started the SIM_multicopter.m code without getting any error but when i run SITL code with this command sim_vehicle.py -v ArduCopter -f json:192.168.68.108 --map --console I got an error  AP: PreArm: Check firmware or FRAME_CLASS. And because of this error simulation did not run properly. How can i solve this problem? Thanks for your response","Thanks for your fast response, I want to implement my own VTOL dynamic model into the matlab script. If i use my own VTOL dynamic model in matlab, I think i should run this command: sim_vehicle.py -v ArduPlane -f quadplane json :192.168.68.108 --map --console. Am I right?"
65,Enabling SIM_STATE message in ArduCopter SITL logs?,1,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Hello, We aren’t supporting the SIM_STATE message for now. I am working on a fix so that SIMSTATE will be even to SIM_STATE"
65,Enabling SIM_STATE message in ArduCopter SITL logs?,2,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Hi, While you’re at it, do you think it possible to add a timestamp to the SIMSTATE message?"
65,Enabling SIM_STATE message in ArduCopter SITL logs?,3,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Thanks for the response, if the SIMSTATE message achieves parity with the SIM_STATE message then that’ll work for me. What sort of timeline is there for this change, i.e. weeks, months? I could use this in a paper I’m writing, though I have a backup strategy in mind if it will take more than a few weeks."
65,Enabling SIM_STATE message in ArduCopter SITL logs?,4,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Valtteri, I seem to have a similar use case as you.  I need the true simulated absolute position and rotation.  I’d like precision for position down to 1cm or so. Today I discovered that while the SIM_STATE mavlink metadata was added in 2013, no implementation was done. I managed to get the following patch to compile.  It emits mavlink with msgid=108 to my client, as intended.  I have only taken a quick glance at the altitude field, and so far it looks good.  I will proceed with checking the other fields that I need.  YMMV. * Cheers, Jeff PS: Here is the mavlink commit that added the SIM_STATE message: *"
65,Enabling SIM_STATE message in ArduCopter SITL logs?,5,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Hi Jeff, Thanks for this, I’ve checked your code out and understand a bit better how to get access to the simulation state. Unfortunately for me the messages aren’t being saved into the .tlog files produced after running a SITL simulation which is what I use, so I’ll need to keep investigating why that is."
65,Enabling SIM_STATE message in ArduCopter SITL logs?,6,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!",Is there a reason that SIMSTATE doesn’t contain the altitude? Do I need to integrate AccZ from takeoff? or is there a better way? Thanks!
65,Enabling SIM_STATE message in ArduCopter SITL logs?,7,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!", Is there a reason that SIMSTATE doesn¢t contain the altitude?  Somebody managed to overlook it when the message was created… Probably a mavlink2 extension to the message… Peter
65,Enabling SIM_STATE message in ArduCopter SITL logs?,8,"Hi all, I’m running some tests using the SITL framework in ArduCopter, and injecting in faults to the GPS, barometer etc. For analysis, I need to get the simulation ground truth data about the position, altitude, vx, vy, vz etc. as the GLOBAL_POSITION message data and any sensor messages will necessarily be affected by the faults I inject and not representative of the actual behaviour of the copter. The log files contain the SIMSTATE message, which contains the latitude, longitude and some other useful information about the copter in the simulation, but doesn’t have all of the data I need like the altitude or velocities. The MAVLink protocol specifies a SIM_STATE message in the common message set which includes all the variables I am interested in, but this message doesn’t seem to be saved into the log files if indeed it is sent at all. Is there any way to enable the SIM_STATE message so that it is included in the .tlog files? Or any other workaround that could get me access to the variables contained in the SIM_STATE message? Thanks!","Try ahrs2 message, which contains relative altitude"
66,SITL not starting at -L location,1,"When running SITL …  sim_vehicle.py --map --console -L SANLUC  …it says it is starting up at SANLUC but in fact the map still shows Australia. SANLUC is correctly listed in …/autotest/locations.txt. SANLUC=32.461311,-111.208811,607,0 It was working as expected once before, now something’s changed, but what?  How to fix?",Check that the L parameter is indeed parsed… *
66,SITL not starting at -L location,2,"When running SITL …  sim_vehicle.py --map --console -L SANLUC  …it says it is starting up at SANLUC but in fact the map still shows Australia. SANLUC is correctly listed in …/autotest/locations.txt. SANLUC=32.461311,-111.208811,607,0 It was working as expected once before, now something’s changed, but what?  How to fix?",Here’s mine…
67,Cygwin64 no module named Pymavlink,1,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,At which stage you get that error message? Send us the complete command window output (as text or screenshot). Did you get any error when installing pymavlink?
67,Cygwin64 no module named Pymavlink,2,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,Okay. Here is the cygwin terminal: I get the error when:  …/Tools/autotest/sim_vehicle.py --map --console CygwinTerminal: 
67,Cygwin64 no module named Pymavlink,3,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Do you get the same error message when you do the below commands, try them.  python -m pip install pymavlink cd Tools/autotest python sim_vehicle.py --map --console "
67,Cygwin64 no module named Pymavlink,4,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,cd Tools/autotest: No Such File or directory
67,Cygwin64 no module named Pymavlink,5,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,I assumed you are at the ardupilot directory. cd ardupilot/Tools/autotest Since you are out of the arducopter directory you might need to do python sim_vehicle.py -v ArduCopter --map --console
67,Cygwin64 no module named Pymavlink,6,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,Hello I am getting the same error. I am not since why since I can see the module named pymavlink. It is located under /modules/mavlink/. Any help would be appreciated!
67,Cygwin64 no module named Pymavlink,7,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Had exactly the same issue, decided to run SITL on a VM running Ubuntu instead, works perfectly."
67,Cygwin64 no module named Pymavlink,8,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,on running this command i am gettting python: can’t open file ‘sim_vehicle.py’: [Errno 2] No such file or directory this error help me out
67,Cygwin64 no module named Pymavlink,9,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Hi, I am still getting the same error as: Traceback (most recent call last): File “…/Tools/autotest/sim_vehicle.py”, line 30, in  from pymavlink import mavextra ModuleNotFoundError: No module named ‘pymavlink’ I tried to install pymavlink separately and I got this error: ERROR: Command errored out with exit status 1: command: /usr/bin/python -u -c ‘import sys, setuptools, tokenize; sys.argv[0] = ‘""’""’/tmp/pip-install-v1wnz5ax/lxml_5990454f613d4e968eeaed9d73812175/setup.py’""’""’; file=’""’""’/tmp/pip-install-v1wnz5ax/lxml_5990454f613d4e968eeaed9d73812175/setup.py’""’""’;f=getattr(tokenize, ‘""’""‘open’""’""’, open)(file);code=f.read().replace(’""’""’\r\n’""’""’, ‘""’""’\n’""’""’);f.close();exec(compile(code, file, ‘""’""‘exec’""’""’))’ install --record /tmp/pip-record-gqvggv1h/install-record.txt --single-version-externally-managed --compile --install-headers /usr/include/python3.7m/lxml cwd: /tmp/pip-install-v1wnz5ax/lxml_5990454f613d4e968eeaed9d73812175/ Complete output (86 lines): thanks"
67,Cygwin64 no module named Pymavlink,10,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,These pymavlink issues are coming up with many people on the native windows build. Check * Always worth a shot installing pymavlink seperately. Link: *
67,Cygwin64 no module named Pymavlink,11,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Hello, have you solved this problem? I have exact the same issue"
67,Cygwin64 no module named Pymavlink,12,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,No I couldnt sorry 
67,Cygwin64 no module named Pymavlink,13,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"First, uninstall pymavlink.  python -m pip install --upgrade pymavlink Please do a version-specific dependency check. I had the same problem, but I solved it. The final version was 2.2.8.  … return installer(requirement) File “/usr/lib/python3.8/site-packages/setuptools/dist.py”, line 732, in fetch_build_egg return fetch_build_egg(self, req) File “/usr/lib/python3.8/site-packages/setuptools/installer.py”, line 128, in fetch_build_egg raise DistutilsError(str(e)) from e WARNING: Discarding * (from *). Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output. Using cached pymavlink-2.2.8.tar.gz (3.0 MB) Collecting future Using cached future-0.18.2.tar.gz (829 kB) Requirement already satisfied: lxml in /usr/local/lib/python3.8/site-packages (from pymavlink) (4.6.3) Using legacy ‘setup.py install’ for pymavlink, since package ‘wheel’ is not installed. Using legacy ‘setup.py install’ for future, since package ‘wheel’ is not installed. Installing collected packages: future, pymavlink Running setup.py install for future … done Running setup.py install for pymavlink … done Successfully installed future-0.18.2 pymavlink-2.2.8"
67,Cygwin64 no module named Pymavlink,14,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,I encountered the same error message when running “…/Tools/autotest/sim_vehicle.py --map --console”. I tried to “pip install pymavlink” and it showed me I already had it. I searched within the “ardupilot” directory and found it at “C:\cygwin64\home\[user]\ardupilot\modules\mavlink”. Then I copied the “pymavlink” folder to “C:\cygwin64\home\[user]\ardupilot\Tools\autotest” and it worked.
67,Cygwin64 no module named Pymavlink,15,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Heitor your solution was the only one that worked for me, thanks you so much! In case anyone missed, while doing that you must have cygwin closed. Then open MavProxy (No GUI) and then execute cygwin again, finally you write this: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console."
67,Cygwin64 no module named Pymavlink,16,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,I tried to install/update pymavlink and it was throwing error that “python.h” not found. For me the below solution worked: rm /usr/bin/python ln -s /usr/bin/python3.6 /usr/bin/python
67,Cygwin64 no module named Pymavlink,17,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,* 's solution worked for me.
67,Cygwin64 no module named Pymavlink,18,Hey guys! I exactly went through the * and * but I get the error no module named Pymavlink. I did Pip install pymavlink/ python3 -m pip install pymavlink/pipwin install pymavlink( I was desperate lol). Any advices,"Hello experts, Has anyone has tried to work Dronekit-SITL in ubuntu 21.1? I just couldn’t get it to work bec of the problem “ImportError: No module named pymavlink”.  I have tried everything suggestions from this thread-topic but failed. I appreciate your help. Thank you. "
68,"Able to set GUIDED mode, unable to ARM despite arming checks apparently done (log supplied)",1,"I am trying to control the SITL drone using my C Mavlink program. I have a serial passthrough setup with socat: * I have SITL running as follows: * My program sees the initial flight mode of STABILIZE and then sets the mode to GUIDED and observes the successful change to GUIDED received back from the virtual drone. The problem is, when I then try to arm the drone, I get back MAV_RESULT_FAILED. * (570.5 KB) Please can anyone more experienced than I see why this is not working? As a side note, I have no problems doing this on a real drone. Thanks.","I now have this working over a local UDP connection, however I would have preferred to test with a serial link. My current theory is that socat is buffering data so as soon as my C program connects to the pseudo ts, it gets spammed with the buffered data."
69,Sim_vehicle.py No Command Found,1,"Hi there, I have followed all the instructions to install SITL, however when executing the command sim_vehicle.py i get the error saying no command found. I can find the file however in the directory when it was installed. However even in that directory i can’t run the file. Any idea? *",Which instructions where you following?  This seems to be a PATH issue. Try running this from ~/ardupilot: ./Tools/autotest/sim_vehicle.py -v ArduCopter
69,Sim_vehicle.py No Command Found,2,"Hi there, I have followed all the instructions to install SITL, however when executing the command sim_vehicle.py i get the error saying no command found. I can find the file however in the directory when it was installed. However even in that directory i can’t run the file. Any idea? *",As Peter said you miss to configure your PATH : see *
69,Sim_vehicle.py No Command Found,3,"Hi there, I have followed all the instructions to install SITL, however when executing the command sim_vehicle.py i get the error saying no command found. I can find the file however in the directory when it was installed. However even in that directory i can’t run the file. Any idea? *","Awesome that worked, thanks for that guys"
69,Sim_vehicle.py No Command Found,4,"Hi there, I have followed all the instructions to install SITL, however when executing the command sim_vehicle.py i get the error saying no command found. I can find the file however in the directory when it was installed. However even in that directory i can’t run the file. Any idea? *",You saved my day! thanks.
70,"SITL how to ""recharge"" the battery?",1,"Hello, in using SITL, I can’t find a way to “recharge” the virtual battery. MP shows it in red, and MAVProxy shows: Flight battery -50 percent Flight battery warning Is there a way to recharge other than to restart the simulator?",Here are my changes to Ardupilot to “recharge” the virtual battery: * Hope it helps!
70,"SITL how to ""recharge"" the battery?",2,"Hello, in using SITL, I can’t find a way to “recharge” the virtual battery. MP shows it in red, and MAVProxy shows: Flight battery -50 percent Flight battery warning Is there a way to recharge other than to restart the simulator?","Thanks for addressing this, Brandon. Could you turn this into a PR to the main code branch so that this can be made available even to the non-programmers "
70,"SITL how to ""recharge"" the battery?",3,"Hello, in using SITL, I can’t find a way to “recharge” the virtual battery. MP shows it in red, and MAVProxy shows: Flight battery -50 percent Flight battery warning Is there a way to recharge other than to restart the simulator?",Is there any impeding reason for this to not be included upstream? It seems useful.
70,"SITL how to ""recharge"" the battery?",4,"Hello, in using SITL, I can’t find a way to “recharge” the virtual battery. MP shows it in red, and MAVProxy shows: Flight battery -50 percent Flight battery warning Is there a way to recharge other than to restart the simulator?",I will take a look if it is already implemented or not
71,Adding a new flight mode but failed the compilation for SITL,1,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!",You cant change the argument types. it must still be So I guess you want to only arm from the GCS so you would do this:
71,Adding a new flight mode but failed the compilation for SITL,2,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!","Thank you, Peter! It’s weird to me: I copied the line of code that you modified from the *. But it didn’t work. Anyway, I tried the two modifications you suggested. The updated repository is here: * But I got the following errors when compiling: [818/884] Compiling ArduCopter/baro_ground_effect.cpp In file included from …/…/ArduCopter/mode_stabilize_heli.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/AP_Rally.cpp:18:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/mode_stabilize.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/avoidance_adsb.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/motors.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/tuning.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/mode_smart_rtl.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/baro_ground_effect.cpp:1:0: …/…/ArduCopter/Copter.h:990:18: error: cannot declare field ‘Copter::mode_adaptive’ to be of abstract type ‘ModeAdaptive’ ModeAdaptive mode_adaptive; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645910824528: cxx mode_stabilize_heli.cpp → mode_stabilize_heli.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645912366288: cxx AP_Rally.cpp → AP_Rally.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645910824400: cxx mode_stabilize.cpp → mode_stabilize.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645911458512: cxx avoidance_adsb.cpp → avoidance_adsb.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645910825296: cxx motors.cpp → motors.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645910826704: cxx tuning.cpp → tuning.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645910824144: cxx mode_smart_rtl.cpp → mode_smart_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 139645911458256: cxx baro_ground_effect.cpp → baro_ground_effect.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Something seems wrong with the declaration. Any suggestion would be appreciated!"
71,Adding a new flight mode but failed the compilation for SITL,3,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!",The instructions are abit out of date. You need to implement the functions in the .h currently there is no init or allows_arming You can just to that in the .h. My suggested line implements allows_arming and you can change init to:
71,Adding a new flight mode but failed the compilation for SITL,4,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!","I tried the line you suggested. But the compilation errors remain. Instead of following the out-of-date instructions, I simply copied the class definition from mode stabilize. Below is the current version: class ModeAdaptive : public Mode { public: // inherit constructor using Mode::Mode; protected: private: Now there’s only one error (i believe I’m close) [828/884] Compiling ArduCopter/fence.cpp …/…/ArduCopter/mode_adaptive.cpp: In member function ‘virtual void ModeAdaptive::run()’: …/…/ArduCopter/mode_adaptive.cpp:18:69: error: ‘AP_Vehicle::MultiCopter Copter::aparm’ is private within this context get_pilot_desired_lean_angles(target_roll, target_pitch, copter.aparm.angle_max, copter.aparm.angle_max); ^~~~~ compilation terminated due to -Wfatal-errors. Thanks!"
71,Adding a new flight mode but failed the compilation for SITL,5,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!",add you new class as a friend here:
71,Adding a new flight mode but failed the compilation for SITL,6,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!",Works! Thanks a lot!
71,Adding a new flight mode but failed the compilation for SITL,7,"Hi, This is my first post here, and I genuinely want to seek some help on adding a new flight mode for SITL. I followed the instructions here to add a new flight mode called “ADAPTIVE”: * My current repository is here: * I tried to test the newly added mode in SITL and I ran the following code under ArduCopter/ $ …/Tools/autotest/sim_vehicle.py -v ArduCopter --console --map I got errors below: [819/884] Compiling ArduCopter/mode_acro.cpp In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/GCS_Mavlink.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/esc_calibration.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/surface_tracking.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/land_detector.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_rtl.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/RC_Channel.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/toy_mode.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. In file included from …/…/ArduCopter/RC_Channel.h:5:0, from …/…/ArduCopter/Copter.h:92, from …/…/ArduCopter/mode_acro.cpp:1: …/…/ArduCopter/mode.h:1761:10: error: ‘bool ModeAdaptive::allows_arming(bool) const’ marked ‘override’, but does not override bool allows_arming(bool from_gcs) const override { return true; }; ^~~~~~~~~~~~~ compilation terminated due to -Wfatal-errors. Waf: Leaving directory `/home/sheng/ardupilot/build/sitl’ Build failed  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012432: cxx GCS_Mavlink.cpp → GCS_Mavlink.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551104592: cxx esc_calibration.cpp → esc_calibration.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147344: cxx surface_tracking.cpp → surface_tracking.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105360: cxx land_detector.cpp → land_detector.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551145296: cxx mode_rtl.cpp → mode_rtl.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551012816: cxx RC_Channel.cpp → RC_Channel.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551147856: cxx toy_mode.cpp → toy_mode.cpp.40.o} (run with -v to display more information)  → task in ‘bin/arducopter’ failed (exit status 1): {task 140410551105872: cxx mode_acro.cpp → mode_acro.cpp.40.o} (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks Any suggestions on how to proceed with my new flight mode in SITL would be helpful! Thank you!","* , can you explain what you have made exactly and in with file because I got the same error"
72,How to make SITL simulator anew?,0,I input alot of weird error and failsafe. Some I not even sure if its what I wanted. Now when I boot it always comes with error compass health. How do I make it like new again?,
73,Cube Orange FlightGear,1,Is it possible to perform HITL and/or SITL simulation using FlightGear and the Cube Orange,* No longer supported.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),1,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",* what is your goal. What are you planning to do with it. I suspect most X plane models are of full scale helicopter. I know that the full scale helicopters will be a little more challenging to tune.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),2,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* it’s for a research project, where Ardupilot is to do aviation in an urban environment. The ultimate airframe to visualize would be one of the people-carrying multicaopters, but real heli is the closest, except I am not so familiar with tradheli tuning."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),3,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* are you able to build the code and run SITL?   If so, I suggest you use my most recent alpha release of autotune. * is my branch based on 4.1 that my users are currently flying. * is the link to the release page that contains the instructions on using it. Since it’s a simulation, I would expect to get much cleaner results. One thing to remember with the full scale versus rc model heli’s is that the full scale hover left skid low while the rc heli’s hover right skid low. That just means that the ATC_HOVR_RLL_TRM param has to be negative for your sim model."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),4,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",*  Fantastic ! - I just built pr-autotune-2 and will follow the release page instructions tomorrow. - must set up my X-Plane (usually used for flight simulation without Atdupilot) Autotune for traditional heli must be a very welcome feature. Thank you. I’ll let you know how it goes.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),5,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",* let me know what aircraft you plan to use.  I suspect we will have to reduce the min and max sweep frequencies.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),6,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",EDIT sorry I was thinking your building VTOL.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),7,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*  I am trying to use Bell Jetranger 206 -right now I run into some problems with the instructions on: * I am not sure whatever the instructios saying “$ modules/waf/waf-light plane” should really say “copter” instead of plane,  - in any case, the command works as expected, but the  mavproxy.py --master=tcp:0.0.0.0:5760 --console just waits for heartbeat… This part we had running at work, so I should be able to get it working again …"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),8,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",* Read down below in the instructions that describe starting the sim for the heli. The way you are building and running it is a little different to how I typically do it. This is what I think you need to do You should put heli like below to build the heli code modules/waf/waf-light heli Then you would run it with this command build/sitl/bin/arduheli --model xplane-heli It explains some other special things you will need to do to be able to enable/disable motor interlock.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),9,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* Thank you. Yes, I am I am usually starting thing using sim_vehicle… The second line needed a small change, but your suggestion works Anyway- I got It running now as sim_vehicle - troubleshooting now why LOITER always fly forward and loses altitude (using Tridge’s old param file)"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),10,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*   I did change ATC_HOVR_ROL_TRM from 300 to -300 The copter has a bias to do forward flight at >25m/s  - beacuse when the airframe is level (pitch=0) then the rotor is tilted forward. A 2.5° pitch up make it hover in stabilize.  (is that critical for tuning?) The worst part is that the autothrottle is all over the place, between 0 and 100% - makes it loose altitude slowly while tuning. Please see attached log:"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),11,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","Yes.  You will need to adjust the AHRS trim to make the flight controller attitude read 0 deg pitch attitude for a no drift hover. I think you will have to set AHRS_TRIM_Y to 0.0436 which is 2.5 deg in radians So I am guessing that the PSC_ACCZ_P gain is too high. You may need some D gain as well but I would try lowering P gain first. We never talked about min and max sweep frequencies. For that aircraft, I am guessing that that you will want to start at 3 rad/s for min and 20 rad/s for max I am on the road today so I won’t have access to a computer to view the log until later."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),12,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* Thank you, I appreciate your insight and help very much.  I suspected the AHRS_TRIM was a solution, but I were not sure it was “as simple as that” with tradheli too. I also omitted the notch filter, as I were not sure that would help the SIM."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),13,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",I believe that it is that simple. Re-Referencing the pitch attitude is really the only thing you can do. Your stick has to be at the trim position (RC2_TRIM) in order for the autotune to start. That trim position is associated with zero pitch attitude. Copter doesn’t have a way to specify a trim value other than zero. So we must re-reference the ahrs.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),14,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* I’ve found a AHRS_TRIM_Y that makes it stand still,  - which is pretty level for the rotor, interfere with the autotune which complains about getting the copter level. I needed to reduce PSC_ACCZ_P all the way down to 0.12 or so , because 0.5 produced wild collective jerking. I could not use the recommended settings from “Attitude Controller Setup” - because then the copter becomes so unstable, that it crashes within short time. Files are here: * The big tuning session 00000016*.bin  may be of some interest… maybe. The resulting PID’s are in the bell206_results.param 00000018*.bin is a test flight, it shows far from good results. the copter is not even able to get to GUIDED position. (at this point I also suspect compass issue) Any attempt on tuning Max Gain, Rate D and Rate P  ends up with extreme manouvers, and the main rotor gets ripped off."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),15,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* I was looking over your data.  I saw that you left the AUTOTUNE_FRQ_MAX and AUTOTUNE_FRQ_MIN at the default values.  You will need to set them to the following for this aircraft AUTOTUNE_FRQ_MIN = 3 AUTOTUNE_FRQ_MAX =20 If you can get the frequency sweeps completed for each axis for the ANGLE_P tuning and post them, I probably can figure out the Rate P and Rate D gains.  The angle_P tuning that you conducted did not work because the min frequency was too high.  Please conduct the ANGLE_P tuning for each axis in separate flights so the log file sizes are manageable. thanks Bill"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),16,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",* Also I wanted to have  you disable the ATC_RAT_XXX_FLTE and ATC_RAT_XXX_FLTD.  You can leave the ATC_RAT_XXX_FLTT filter at 20.  There is enough time delay due to the nature of this aircraft.  Don’t need to add to it in the control signals. And reset the ATC_ANG_XXX_P gains to 4.5 for all axes before running the ANGLE_P tuning
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),17,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*  Please see the files named autotune-Y.*  in * I followed your advice regarding FLTE and FLTD, and was trying to tune yaw this time, first with ATC_ANG_XXX_P at 4.5  (but as before, that led to loss of control rather early) so I set them to 3  (I think I often flew with “2” ) - but failed in the usual way. Status is: it flies “acceptable” in STABILIZE, LOITER/POSHOLD but is not good enough for AUTOTUNE Is there a particular order you recommend for AXES and AUTOTUNE_SEQ items ?"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),18,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","At this point, I just want a sweep in each axis using the angle_p tuning.  You can stop the tuning after the sweep.  One thing that I forgot to mention with angle_p tuning is that you can fly the aircraft while it is doing the sweep. That way the user can help keep it the aircraft from drifting too far. In your case, you can help keep it in a stable hover. It will kick you out of the autotune if you put more than 5 deg of correction. You can probably also raise the Rate p gains in pitch and roll to help stabilize the aircraft."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),19,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*  from looking at a SITL model I tried tuning of a bell 206, I had Rate P and D gains pretty high. Rate P gains were over 1 and rate D gains around 0.1. So I think there is room for you to increase the gains. The issue becomes that the lag in the response is pretty high. You might do better tuning the S-76 helicopter.  I saw that that helicopter is one of the xplane selections."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),20,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",*  Try these gains. Let me know if you know from experience that what I have proposed won’t work.   Use only tune seq of 4 (angle_P).  I added in ILMI which will allow the integrator to grow in a hover * (1.0 KB) By the way I saw that you had ATC_PIRO_COMP enabled.  That feature does not work.  So I set it to zero for the params I sent  you
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),21,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* Using your suggested parameters, I successfully passed pitch tuning seq 4 for pitch: 23-successfull pitch-tune.BIN  then, following flight appended to that log(sorry) - and shows a roll tuning that did not go anywhere, it seems like the heli was just oscillating. Then, “successfull yaw.BIN”   - filename says it all. So I re-tried for roll, and uploaded “successfull roll.BIN” Success. Finally, I flew a “Testflight.BIN”  - which produced usable Stabilize performance, a very bumpy GUIDED and POSHOLD mission. (crashed due to mechanical overload when switching to stabilize, as POSHOLD went wild) What should be the next tunings steps, now that all axes of Seq4 are completed ? What "
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),22,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*   The Yaw is probably the most responsive with the least amount of lag.  I would suggest increasing the ATC_ACCEL_Y_MAX to 20000.  Re-run the AUTOTUNE_SEQ 4 for the yaw again.   we may need to lower it again but this allows me to see what the yaw axis is capable of. Looking at the test flight, you will have to stop testing this in modes other than stabilize and acro until we have figured out the tuning for the stabilize.  At this point, Loiter, poshold, guided and auto modes are off limits.  The position controller will have to be tuned separately after you have tuned the attitude controller.  It is pretty evident at this point from your attempted flights in these modes that use the position controller that you will have to cut the position controller gains back.  They are way too high for this aircraft. Ok back to the attitude controller.  ATC_INPUT_TC needs to be at least 0.5.  The aircraft can’t physically be pushed lower than a 0.5 sec time constant in attitude.  Not going to be possible. Set ATC_ACCEL_R_MAX and ATC_ACCEL_P_MAX  to  3000.  I would recommend setting the ATC_RAT_R_MAX and ATC_RAT_P_MAX to 50 deg/s.  There is an oscillation in the pitch and roll axes.  I think these are due to the ATC_ANG_PIT_P.  set ATC_ANG_PIT_P to 4.5 and set ATC_ANG_RLL_P to 7. I don’t think you will find the attitude controller performance to be very good.  You certainly won’t be able to get it to hold the attitude within 1-2 deg.  Slowing down the response shaping using the ATC_INPUT_TC, ATC_ACCEL_X_MAX and ATC_RAT_X_MAX params will help in pitch and roll axes.  It will allow the aircraft time to catch up. Except for the data I asked for with the yaw axis, I would abandon using the autotune any further.  I think I have learned enough to help tune the best I can.  After you make the changes I asked for above for pitch and roll axes.  please fly in stabilize and provide quick inputs and hold them.  you only need to make inputs that result in 10 deg attitude changes.  hold the input in until you see it achieve a steady state attitude change.  do this in both pitch and roll axes."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),23,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","Thank you * Based on your advise, 've done this: ATC_INPUT_TC was 0.2, now 0.5 ATC_ACCEL_R_MAX, ATC_ACCEL_P_MAX was 8000,  now3000 ATC_ACCEL_Y_MAX  2000 , now 20000 ATC_RATE_R_MAX and ATC_RATE_P_MAX to 50 deg/s. ATC_ANG_PIT_P was 6.9 , is 4.5 ATC_ANG_RLL_P was 10 , is 7 The results are uploaded as “Testflight2.BIN” I am impressed about your prediction/precision of the values.    it flies quite well, and the Yaw is greatly improved. Edit: first now I see your suggestion about using the Sikorsky  S-76 - I can switch to it if you like, the only reason for using the Bell206 is that old example config Tridge made."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),24,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","Thanks. I have been doing this for a while so it seems that I have been getting a better sense of the gain settings. One thing I just realized is that we are needlessly limiting our pitch and roll cyclic control.  Set the H_CYC_MAX to 4500.  Then you will have to reduce the pitch and roll VFF, rate P and rate D gains by half. If you are looking to mimic a multicopter flying qualities of a vehicle of the same size as the bell 206, then the S-76 would probably be a better choice even though it is larger than the bell 206."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),25,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* Thanks. I changed: H_CYC_MAX 2500 to 4500 ATC_RAT_PIT_VFF ATC_RAT_RLL_VFF  0.5 to 0.25 ATC_RAT_PIT_P ATC_RAT_RLL_P 0.3 to 0.15 ATC_RAT_PIT_D ATC_RAT_RLL_D 0.1 to 0.05 uploaded  test flight “H_CYCMAX plus more changed.BIN” Basically: the cyclic controls are quite sluggish. I also tried to move to S-76 - just for the simplicity of not using a addon-heli - and as you say, maybe more familiar performance. uploaded “S76-C test with current PIDs.BIN” main issue with it is that it oscillates in pitch axis, I am trying to tweak it not to crash and perform an autotune for pitch right now."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),26,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",Then put the gains back to where they were. Maybe I am mistaken that making the cyc_max change would have doubled the sensitivity.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),27,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* The log “restored PIDs, Bell and Sikorsky.BIN” shows the results. First part is with the Bell, second part the S76 Let’s follow your advise and focus on the S76. Right now, it’s oscillating in the pitch axis."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),28,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","Ok.  Sounds good. The pitch oscillations are pretty low frequency so I think they are mainly being caused by the attitude feedback loops.  You can try reducing the Pitch VFF to 0.3 and reduce the ANG_P to 3.  If that doesn’t’ remove the oscillations or change the frequency then return those back to their previous settings and set the Rate P and Rate D values to half their current value.  Hopefully we can get the oscillations to stop with one of those two ways. Once you get the pitch axis not to oscillate, I would recommend that we go back to try and use the autotune.  I want you to try SEQ = 1 for the pitch axis and see if that works for setting the VFF.  Then I want you to try using SEQ =2 for the pitch axis.  I would like to see if it can determine the max gains.  If you can’t get it to complete the sweep, then go to SEQ=4 for the pitch axis and set ATC_ACCEL_P_MAX to 50000, ATC_RAT_P_MAX to 100 and ATC_INPUT_TC to 0.2.  I am purposely setting these high so I can get a better frequency sweep result.  We will return them to lower values once I am able to see what is happening with the pitch axis."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),29,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*  Hi, I am reading you post now, because I’ve been working hard on kind-of what you describe. I did upload “S76 manual tune.BIN”  which is a result of me manually tuning the S76 to fly well enough for autotune. The resulting params are uploaded as “SIKok.param” Then, I did SEQ=4  for all three axes. and ended up with “SIKok_plus_autotune.param” One significant difference is that I did not increase ATC_ACCEL_P_MAX  - rather decreased some - as I had some issues where the heli got destroyed by excessive forces during the tuning. I will continue this work tomorrow,  doing what you described above. In any case, the heli is now behaving ok, kind of slow and smooth as expected.  - except navigation flight - which is still a jerky experience, and passengers would be sick and scared  Let’s assume the steps above produce even better results. What would be the next steps to make PSC_ play along ?"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),30,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)",* I loaded Xplane and played with the S-76.  First I think your H_RSC_MODE setting is wrong.  It should be SETPOINT which is 2.  Then H_RSC_SETPOINT should be 100.  That will make the rotor speed read 100 percent on the gauges in the cockpit.  I then had to set my AHRS_TRIM_Y to 0.082 and the ATC_HVR_RLL_TRM to -380.  That gave me a pretty good no drift hover.  I found the ATC_RAT_YAW_P causing a significant roll oscillation but never saw the pitch oscillation.  So I set Yaw  P to 0.2.  I think both pitch and roll rate P gains were 0.2 and the Rate D gains were 0.01.  Its late and I have an early and busy day at work tomorrow.  I plan to work on tuning the attitude controller tomorrow during our Dev meeting.  So I should have more to report tomorrow night U.S. Eastern Time.
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),31,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* The proper governor setup was a good catch, I did notice that it lost too much headspeed when descending/levelling off after a long descend, but did not give it any attention. I applied your other suggestions too, but can’t perform the AUTOTUNE_SEQ 1 from the previous post as it never completes. My main issue now (with the latest changes) is that there is some extreme twitching on the pitch axis, please see video “S-76C - 2021-09-27 09.46.31.avi”"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),32,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* after briefly looking over your tuning gains, I would say that the issue in your pitch axis comes from the rate D gain being too high. I think that gain needs to be lower than .05."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),33,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","*  Please restart at  these params (or yours)   27sept.param * those are based on the manual tune from the post “SIKok.param” After that, I posted  “SIKok_plus_autotune.param” - but those are much worse (only completed SEQ4) So- If we assume you are commenting on something like those 27sept.param - then we are on the same page. You wrote you think the "" the Rate D gains were 0.01""   - mine are 0.4 now, the problem is that if I reduce Pitch Rate D to as much as 0.4 , then any 20°upset will oscillate for >15 seconds Please share your settings. maybe our params diverged greatly at some point?"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),34,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* I got it figured out.  The biggest problem we faced was slow data rates from xplane to SITL.  Set the data output in the Xplane menu to 100 hz  That made a huge difference in the gains I could set.  This model is certainly not so realistic from true helicopter dynamics.  It models a lot of the coupling that I’d expect but not the instabilities of the rotor.  But that is good for  you.  Here is the param file I built.  It flies really well in stabilize.  I ran out of time and couldn’t get to loiter or althold.  Do a param compare in mission planner to see what i changed.  I guess as far as the rotor speed, I was wrong.  I thought that RSC Mode 2 was what was needed.  You really want RSC Mode 3 (can’t use mode 4 as there is no RPM).  Use my throttle curve settings.  It holds rotor speed at 100% fairly well. Here is the param file * (22.7 KB)"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),35,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* great catch! yes, 100hz helps - it’s almost embarassing, but I thought of that eary on, but then I thought that it flew nothing like the stock 15Hz, and I (incorrectly) assumed the SITL requested a higher data rate where needed (as if it was possible like over MAVlink) Anyway- It’s good progess to have discovered that. Most of the rate PIDs are about 10x the size I use on some 25kg multirotors, (MTOW 50kg) I obviously do not fully understand why the position controller needs higher gains as well - I would believe that if desired attitude was set by properly tuned STAB/RATE PID’s - then the PSC would work the same…   obviously it’s not like that.  and more PSC_  params needs to be increased/changed. Also - you are flying EK3, I flew EK2  (till now - because I based on Tridge’s old example.)"
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),36,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","I don’t think that these PID gains are valid. We would need to get an actual validated model to lay any confidence in these gains.  I think these would also have a significant impact on the actuators because of the high frequency/rate requests. The PSC gains will probably need to be reduced even though the attitude controller PIDs were increased. The PSC gains rely more on the shaping of the attitude controller which is really slow in this case. Thus the requested corrections from the position controller for velocity and position must be slower than what would be used for a 10 lb multicopter. This is due to the position controller, like the pilot, is working thru the attitude controller. I was using the default EKF for 4.1 which I believe is EK3.  I started a fresh sim with no EEPROM and thus got all default Params before making changes for the model. Much of my tuning work for the rate controller was done in acro with the attitude feedback turned off. This assured that I wasn’t driving an instability. Once I was happy with the flying qualities in acro then I moved into stabilize and adjusted the shaping parameters to stay within the capabilities of the aircraft."
74,Looking for good X-Plane Helicopter (please suggest a model you have parameters for),37,"I am aware about Tridge’s * but those parameters does not fly well with recent ArduCopter, or XP11 (whichever is the reason)","* As you say… “I don’t think that these PID gains are valid.” Unfortunatly its PID’s like that that make this thing move “realistically” As a point, during this weekend, I too did start “from scratch” with defaults for this AC build. (but with liberal use of diff/meld to quickly merge in non-tuning-related setting) I did the usual stuff covered in “copter manual tuning” and “copter advanced tuning” And also ended up with a tune that flew fine in STABILIZE (except for the jerking due to too low UDP frame rate) And also … the PSC_* were nowhere near good (this was basically what I wanted to verify) I did increase some PSC_*P pretty much and that did not help a lot, and even worse, I had absolutely no success in making it properly control the yaw in GUIDED, and there is not even a PSC_ param for that. (later I deleted that config - as it did not work that much better, and I did not want to bring more confusion with yet another configuration) Right now, I speculate whatever the problem really is in the sim_vehicle layer between ardupilot and x-plane  - and a change there could magically make everything behave “normally” … but then I know that planes in X-Plane work fine - and the interface between X-Plane and ArduCopter is probably the same… I hope you have some ideas."
75,Is there a way to take off using a Guided mode WP?,1,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?",Any ideas? Is it not possible to programmatically takeoff in Guided mode?
75,Is there a way to take off using a Guided mode WP?,2,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?",You need to give a takeoff command with altitude as an argument
75,Is there a way to take off using a Guided mode WP?,3,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?","Thanks *, that makes sense conceptually but is there support for it in Python scripts? I am not seeing a corresponding API for it, like there is for example for setting a guided waypoint, or changing the flight mode, etc. I would love to have something like: Perhaps a question for *?"
75,Is there a way to take off using a Guided mode WP?,4,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?",*
75,Is there a way to take off using a Guided mode WP?,5,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?","That’s DroneKit… I am running python scripts in MissionPlanner. I believe the available APIs are quite different, but perhaps I am wrong?.. Anyway, looks like this might work: Wading through the examples in the MP repo, it looks like there may be a way to do this using Locationwp() with a custom id for takeoff, but it’s not working for me. Those examples use APIs that are no longer available or take different parameters, such as MAV.setWPCurrent, and MAV.setWPACK."
75,Is there a way to take off using a Guided mode WP?,6,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?","using locationwp is for in mission commands for a just takeoff, doCommand is the correct method"
75,Is there a way to take off using a Guided mode WP?,7,"Simply put, after arming, I would like to be able to take off by switching to Guided mode and setting a new WP that sets the desired altitude. However this doesn’t seem to work: (the code below is a Python script running in MP) * The above doesn’t work. The craft doesn’t lift off the ground. Or perhaps, is there some way to accomplish this in Guided mode without using waypoints?",Thanks * for confirming. How about a MAV.Takeoff(altitude) function in the next version… could be a nice intuitive addition to the Python APIs available from MP scripts. wink wink
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,1,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Any ideas anyone? Why do I see a “potential thrust loss” error, followed by a crash? This is all with SITL, not using a real quad just yet until I figure out the scripting part 100%. Weird clue, arming works fine and the quad stays in armed mode indefinitely. After arming, as soon as MP executes any python statement that references “Script.” or “cs.”, it immediately reports “Mode change to AUTO failed: initialisation failed”, and the subsequent climb starts but immediately fails – and the quad hits the ground. I am stumped. Please help "
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,2,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *",Stetting all rc inputs to the center is changing the flight mode via the flight mode channel and also setting the save waypoint switch. I suspect it is then crashing because the joystick override of RC is timing out. You just need to re-send RC every second or two.
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,3,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","That’s interesting, thanks. That would be doable in Java or C#… it would require a background thread, no? I am not sure if that’s even a thing in a python script  Perhaps I can change the joystick override behavior somehow for the SITL craft? Disable changing of flights mode via the sticks?"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,4,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Set this lot to 0: RC_OVERRIDE_TIME, FLTMODE_CH and all RCx_OPTION"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,5,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Thanks! Now those errors went away, but the quad doesn’t climb. It just stays on the ground, armed, and the altitude in the HUD remains at 0 indefinitely."
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,6,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Oops, RC_OVERRIDE_TIME 0 is disable, you want -1 for never time out."
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,7,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","* I can’t thank you enough. It all worked flawlessly end to end once I made that last change you suggested, and also changed the descent logic to Script.ChangeMode(“LAND”) instead of the one I was using before that relied on just a fixed throttle value. Thank you thank you thank you !"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,8,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","*, another quick question for you: since RC_OVERIDE_TIME is now set to -1, once I start a script like this for a real quad instead of just SITL, is there any way for me to regain RC control in an emergency? Say, if the script makes the quad behave unexpectedly, I would want to immediately resume manual control and fly the craft back or land. Is there any prescribed way to do that? Would I need to build that affordance/logic into the script itself, for example by detecting RC input from Python and aborting the rest of the script? Or is that something that’s supported by MP or AP already?"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,9,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *",RCx_OPTION 46 “RC Override Enable” Recommend doing some props off testing of that tho before going for it IRL.
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,10,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Interesting, thank you. Let me see if I understand the flow then.  RC7_OPTION=46 Set up a corresponding TX switch for RC7 When the switch is LOW (closer to 1000), normal RC override is disabled When the switch is HIGH (closer to 2000), RC override is re-enabled After flipping the switch, I regain RC control, so I can RTL or LAND  Is that what you meant? If so, then what happens to the python script after the switch is flipped? Presumably it’s still running and fighting for control at the same time, no?"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,11,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Yep, lots of bad and exciting things can happen. Really you should be using guided mode."
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,12,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Yup, that’s exactly what I am trying to do. The Python script switches the copter to Guided mode and controls it programmatically. However, I still need to be able to abort and take control with a flip of a switch if the Guided mode flight goes haywire.  I am thinking that in addition to RC7_OPTION=46, I could perhaps use a background thread in the Python script to detect when the corresponding switch is being flipped, and automatically abort in that case (terminate the script via an exception, for example). I don’t know if the real (TX) RC input is detectable from Python though… For example, via CurrentState.chx7in, or CurrentState.rcoveridech7, or CurrentState.hilch7… or some other piece of state. Do you know?"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,13,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *",You should not be sending rc overrides if your using guided. You should send target attitude + throttle. Or target climb rate. Or target position.
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,14,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Sorry *, I am slow today, bear with me for a second.  The script puts the craft in Guided mode. The script sends WPs to the craft and monitors progress (e.g. that the next WP was reached). The WPs are not pre-determined. They are dynamically generated based on environmental data determined by reading onboard telemetry. The operator starts the auto-flight and primarily observes progress. The operator needs to take control in case of emergency. The question is how    In order for the operator to take full control, the craft has to resume responding to TX input, and the Python script needs to abort. So:  RCx_OPTION=46 provides the former… I think. XYZ provides the latter. The question is what is that XYZ.  Perhaps something like this?"
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,15,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *",If your sending guided commands then you just need to switch out of guided. You should not also be sending RC overrides.
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,16,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","I can switch out of Guided via the TX, but… the script is still running. I am not understanding how that’s sufficient to prevent undefined behavior "
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,17,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *",If your not in guided mode AP will not accept guided commands.
76,SIM Hit ground at 12 m/s: the initial climb inexplicably stops,18,"I am using a very simple python script from within MP to arm, takeoff and climb to 50m, then descend, land, and disarm. The script arms the virtual quad (sitl) successfully, then begins a climb by setting RC3 to 2000 and watching the altitude. The problem is, once the vquad climbs to about 10m, the HUD shows “potential thrust loss”, and the virtual quad presumably “falls from the sky”. I am seeing the following messages: * Questions:  Why is the quad attempting to enter AUTO mode by itself, if the mode is set to Stabilize? I have no such logic in my python script. What’s with the SaveWaypoint LOW/MIDDLE messages? I am not manipulating any waypoints from my script. Why is the climb to 50m being aborted automatically after the initial first few meters (anywhere from 5 - 11m)?  Here’s my simple script for reference, if it helps… *","Oh I see. So the script will continue to execute, but the setGuidedWP executions will do nothing… OK, that might work."
77,MAV.setGuidedModeWP doesn't seem to be telling the copter to fly to the waypoint,1,"After constructing a waypoint, I am using MAV.setGuidedModeWP to tell a virtual quad (SITL) to fly to the waypoint. I saw a bunch of examples both in the MissionPlanner repo and online on the forums that showed this to be the way forward to fly to WPs programmatically from Python. But alas… it’s not working.  Can one of the talented devs elucidate this mystery for me? Am I doing something wrong? * The quad just hovers at the current location and never flies a single inch in any given direction. Any clues as to why setGuidedModeWP isn’t working?","I think I solved the enigma. I updated to the latest MP, and things started working. Looks like I am good for now."
78,Mavlink 3D Map Monitor & Simulator,0,"* Mavlink 3D-Map This tool receives navigation information via MAVLINK, and display vehicles in 3D environment using *. The tool can display multiple view ports, each one has a world camera besides all cameras attached to vehicles. so you can monitor from multiple views at the same time. Feature  Reads vehicle location and orientation via mavlink. Display vehicles in 3D Map. Add cameras to vehicles and allows fpv: P & O buttons used to switch between cameras. If there is SITL connected to the map then it will have its own camera and you can switch to it using P & W. then you can control it using W, S , A , D. You can press R to reset camera orientation. Real Maps can be displayed as well instead of artificial environments.  App Structure The application has two parts:   Website that runs and uses websockets.  UDP2WebSocket this is a nodejs app that receives udp packets from SITL and send equivelant data via websocket to Website.  Example Running two vehicles “Quad & Plane” Plane  python3  ~/TDisk/out_gits/ardupilot/Tools/autotest/sim_vehicle.py  -j4 -v ArduPlane  -M --map --console --instance 80 --out=udpout:127.0.0.1:14550 --out=udpout:127.0.0.1:16450  Quad  python3  ~/TDisk/out_gits/ardupilot/Tools/autotest/sim_vehicle.py -j4 -v ArduCopter    -M --map --console --instance 70 --out=udpout:127.0.0.1:16450  --out=udpout:127.0.0.1:14450  --add-param-file=./quadPlus_2.parm  quadPlaus_2.param is a parameter file that specifies ID of the vehicle so that the system knows it is another vehicle. QuadPlus_2.param  SYSID_THISMAV    2 FRAME_CLASS      1.000000 FRAME_TYPE       0.000000  instance specified to run SITL on different ports. Drone: Now run websocket:  node udp2websocket.js  Run Website  cd static http-server -c0  * or * for VTOL you can add * * That is all … you should be able to see vehicles. You can define your own extra environment robots and objects. You can also fly in different places by adding location for example: * Have fun !",
79,Hello everyone !..im trying to import px2.8.4 model in gazebo for simulation and i'm unable to import it. it would be great if anyone help me in setup of the same with ROS setting,0,or is there any module available of Jetson Xavier nx for gazebo simulation,
80,Simulating auxiliary functions,1,"Hi, I want to run simulations for switching auxiliary functions (specifically the seventh one: Save waypoint). Is there a way we could do that? I am running simulation on Gazebo, whilst using QGroundControl as my GCS. Something that we thought of was to map the transmitter controls on keyboard, but we are not sure of that. Do let me know if you think there’s another way to go about it.","You can trigger them via via RC, explicit mavlink command, script or button… explicit mavlink command would be good in your situation but would require GCS changes to expose it nicely."
80,Simulating auxiliary functions,2,"Hi, I want to run simulations for switching auxiliary functions (specifically the seventh one: Save waypoint). Is there a way we could do that? I am running simulation on Gazebo, whilst using QGroundControl as my GCS. Something that we thought of was to map the transmitter controls on keyboard, but we are not sure of that. Do let me know if you think there’s another way to go about it.",Ok I’ll try that and let you know how that goes. Thanks 
80,Simulating auxiliary functions,3,"Hi, I want to run simulations for switching auxiliary functions (specifically the seventh one: Save waypoint). Is there a way we could do that? I am running simulation on Gazebo, whilst using QGroundControl as my GCS. Something that we thought of was to map the transmitter controls on keyboard, but we are not sure of that. Do let me know if you think there’s another way to go about it.","It worked, not completely! I tried this via mavproxy. Assigned the auxiliary function to RC7 option parameter in GCS. I am not sure where to access the saved waypoints. They showed on the cmd."
80,Simulating auxiliary functions,4,"Hi, I want to run simulations for switching auxiliary functions (specifically the seventh one: Save waypoint). Is there a way we could do that? I am running simulation on Gazebo, whilst using QGroundControl as my GCS. Something that we thought of was to map the transmitter controls on keyboard, but we are not sure of that. Do let me know if you think there’s another way to go about it.",In MAVProxy you can use “wp list” and “wp save” - or “module load map” followed by “wp list”
81,Set-Up: SITL with MATLAB Physics Backend,1,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.",What version of WSL (1 or 2)? What version of ArduCopter? I had better luck when starting the physics first and then SITL.
81,Set-Up: SITL with MATLAB Physics Backend,2,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.",I always start the physics backend first and then launch the ArduPilot SITL. I’m using WSL 1. I’ll try upgrading to Version 2 and see if that works.
81,Set-Up: SITL with MATLAB Physics Backend,3,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.","WSL1 should work fine, I suspect your problem is  ArduCopter 4.0.7 try on latest."
81,Set-Up: SITL with MATLAB Physics Backend,4,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.",That solved it. Thank you very much * !
81,Set-Up: SITL with MATLAB Physics Backend,5,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.","I have a little follow up question for all the STIL experts here. Let me give you a little context first: I built an Eletric Ducted Fan UAV (“SingleCoper” Frame), got it flying pretty well and built a model in MATLAB, which I am now trying to validate against real flight data.  Method: feed Servo (RCOut) data to the MATLAB model and compare simulated IMU and attitude data against the actual one. Method: feed recorded desired Angles/Rates/Throttle (RCIn) data to the SITL (Ardupilot Controller + MATLAB model) and, again, compare the simulated against the real data.  I already tried the first method and it yielded good results, however doing trying to validate a model like that is probelmatic on many levels, which is why I’m currently working on making the second method work.  How would one preferably set this up (high level)? At the moment I’m running the ardupilot SITL and the physics backend in MATLAB/Simulink. However to my knownledge there’s no way to automatically feed the RCIn/Desired Attitude/Throttle values to the SITL. Can this be done? Preferably also via MATLAB using the JSON Interface. "
81,Set-Up: SITL with MATLAB Physics Backend,6,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.","No way to do this currently, you would have to add something."
81,Set-Up: SITL with MATLAB Physics Backend,7,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.","Yeah i’d love  to contribute something. As far as I can tell you did a lot of work in that department. Would you be interested in collaborating? If so, is there any way to get in touch?"
81,Set-Up: SITL with MATLAB Physics Backend,8,"Hello, I’m trying get the SITL environment working, but ran into some issues when trying to use my own model, which is implmented in MATLAB/Simulink. For now I’m trying to get the * from the official doc to work, but no luck so far. If I start the provided MATLAB script and run sudo ./Tools/autotest/sim_vehicle.py -v ArduCopter -f json:<IP_ADRESS> --console inside the WSL a VsXsrc X Server window opens and displays * VSCode Terminal Output: * Set-Up: Win10, MATLAB R2021a, VisualStudio Code + WSL, ArduCopter 4.0.7. Running the SITL with MavProxy and connecting to Mission Planner works fine. Any ideas? Thanks.","Hi Oskar, Best place is the simulation channel over on the developer discord, * We would love some more vehicle examples."
82,Positioning the iris drone at startup inside gazebo,1,"I am a newbie so apologies if this is a stupid question, which may be more of a gazebo question than SITL, but the model is coming from the gazebo_ardupilot repository so maybe this is an ok question for here. I have gazebo_ardupilot working fine. I want to position the drone at a position on a platform above the ground. I have added the platform as a model to the gazebo world – all good. Then I want to position the drone on the platform so in the world file I have added a pose * but it doesn’t work. The drone stays positioned on the ground at startup. If I modify the x or y these work fine. i.e. I can move the drone to any x,y starting position. Just not the z position Note that this is just gazebo before I fire up sitl. I guess I could use the -L option on SITL to adjust the starting altitude - but not sure if that’s really a good way.  I just don’t understand why my pose can adjust x,y but not z. Any suggestions gratefully received.","Ah, found the problem. Newbie mistake - with an incorrect collision setting for the platform I created. so the drone does start at the correct height it just falls through the platform immediately after the sim starts."
83,OpenCV Color Detection with Gazebo Simulation and Dronekit Library ,1,"We performed a red detection with OpenCV. Before we do it, we gave it a location where it can go with “vehicle.simple_goto()”. The drone will take the current location when we show something red on the webcam while it is going to that location. After it arrives, it will return to its own location when it sees red. In short, when you see red, it will take the current location and then go to that location. How can we do this?",Hello Take a look at this * 
83,OpenCV Color Detection with Gazebo Simulation and Dronekit Library ,2,"We performed a red detection with OpenCV. Before we do it, we gave it a location where it can go with “vehicle.simple_goto()”. The drone will take the current location when we show something red on the webcam while it is going to that location. After it arrives, it will return to its own location when it sees red. In short, when you see red, it will take the current location and then go to that location. How can we do this?",Please keep opencv question in actual thread Do not open new threads
84,Simulate component failures and crashes in Gazebo?,0,"Hi everyone, I am a student who is trying to simulate the behavior of a quadcopter if a certain component fails. I recently began looking into Gazebo and some related videos, but I have yet to see any that simulate a crash, collision, or component failure. For instance, is it possible to stop one motor in midair and observe how the quadcopter crashes? If the drone collides against an object, does it recoil like in real life or just drop vertically? I am new to the forums, Gazebo, and ArduPilot, so sorry if this post is in the wrong category!",
85,Drone dynamics or Mathematical model in SITL,1,"Hi everyone! I am running a simulation of a drone on gazebo using mavros and I would like to know if I can access the equations of motion of the drone (dynamics) in one way or another, so I can do some modifications. I would like also to know where can I find the motors simulation model for example: the mechanical and electrical equations and their coupling. I have been searching for a very very long time and I didn’t find any answers. Thank you very much for your help in advance.",You can take a look here at some diagrams: *  The code you are looking for is librarires/SITL
86,Using Messages in Simulations,1,"Hello everybody. I am trying to control a drone using simulation. I wrote a Python code to go to the desired location using the ‘MAV_CMD_NAV_WAYPOINT’ message, but it doesn’t seem to be executed properly. There are no errors, but the copter does not move. Could you please tell me which part is wrong? *","hello, That is expected you aren’t using the right message. use * or * You can see an example here : * or in ArduPilot autotest suite"
86,Using Messages in Simulations,2,"Hello everybody. I am trying to control a drone using simulation. I wrote a Python code to go to the desired location using the ‘MAV_CMD_NAV_WAYPOINT’ message, but it doesn’t seem to be executed properly. There are no errors, but the copter does not move. Could you please tell me which part is wrong? *",Thank you very much. I’ll take note! 
87,Copter SITL binary crashing unexplicably,1,"Hello, I am trying to use the ArduCopter SITL binary in standalone mode for my development. I have my own glue code on top of pymavlink connecting to the binary on tcp 5760 for command and data. Inexplicably,  all the time, the binary crashes with the message as below: …/resources/arducopter_amd64_master20210527 --model quad --defaults …/resources/copter.parm --home 19.1341996,72.9121133,45,20.0 --sysid 1 Setting SYSID_THISMAV=1 Suggested EK3_BCOEF_* = 16.288, EK3_MCOEF = 0.209 Home: 19.134200 72.912113 alt=45.000000m hdg=20.000000 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from …/resources/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 MKFIFO failed with File exists MKFIFO failed with File exists Smoothing reset at 0.001 bus.bus=0 address=0x55 bus.bus=1 address=0x55 bus.bus=0 address=0x38 bus.bus=0 address=0x39 bus.bus=1 address=0x38 bus.bus=1 address=0x39 bus.bus=2 address=0x38 bus.bus=2 address=0x39 bus.bus=3 address=0x38 bus.bus=3 address=0x39 bus.bus=0 address=0x38 bus.bus=0 address=0x39 validate_structures:489: Validating structures Loaded defaults from …/resources/copter.parm PANIC: Should not be called on invalid location Running: sh dumpstack.sh 26162 >dumpstack_arducopter_amd64_ma 2>&1 Stack dumped Could not attach to process. If your uid matches the uid of the target process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try again as the root user. For more details, see /etc/sysctl.d/10-ptrace.conf ptrace: Operation not permitted. /tmp/gdb.26354:2: Error in sourced command file: No stack. I don’t understand what’s happening. The happens everytime as soon as I set the mode to ‘GUIDED’ using pymavlink set_mode, set_mode_send(as shared *) or command_long_send(MAV_CMD_DO_SET_MODE). Of course i am waiting for the EKF to set its home location before sending the set_mode command. Just to clarify, i get all vehicle data and parameters in my code and i am using master branch to compile my sitl binary. Attaching * (313 Bytes)  for reference. I copied dumpstack.sh in the directory containing sitl binary. Can somebody help me out??? Tagging * for help. Swaroop","You cannot send location that is (0, 0, 0)"
87,Copter SITL binary crashing unexplicably,2,"Hello, I am trying to use the ArduCopter SITL binary in standalone mode for my development. I have my own glue code on top of pymavlink connecting to the binary on tcp 5760 for command and data. Inexplicably,  all the time, the binary crashes with the message as below: …/resources/arducopter_amd64_master20210527 --model quad --defaults …/resources/copter.parm --home 19.1341996,72.9121133,45,20.0 --sysid 1 Setting SYSID_THISMAV=1 Suggested EK3_BCOEF_* = 16.288, EK3_MCOEF = 0.209 Home: 19.134200 72.912113 alt=45.000000m hdg=20.000000 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from …/resources/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 MKFIFO failed with File exists MKFIFO failed with File exists Smoothing reset at 0.001 bus.bus=0 address=0x55 bus.bus=1 address=0x55 bus.bus=0 address=0x38 bus.bus=0 address=0x39 bus.bus=1 address=0x38 bus.bus=1 address=0x39 bus.bus=2 address=0x38 bus.bus=2 address=0x39 bus.bus=3 address=0x38 bus.bus=3 address=0x39 bus.bus=0 address=0x38 bus.bus=0 address=0x39 validate_structures:489: Validating structures Loaded defaults from …/resources/copter.parm PANIC: Should not be called on invalid location Running: sh dumpstack.sh 26162 >dumpstack_arducopter_amd64_ma 2>&1 Stack dumped Could not attach to process. If your uid matches the uid of the target process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try again as the root user. For more details, see /etc/sysctl.d/10-ptrace.conf ptrace: Operation not permitted. /tmp/gdb.26354:2: Error in sourced command file: No stack. I don’t understand what’s happening. The happens everytime as soon as I set the mode to ‘GUIDED’ using pymavlink set_mode, set_mode_send(as shared *) or command_long_send(MAV_CMD_DO_SET_MODE). Of course i am waiting for the EKF to set its home location before sending the set_mode command. Just to clarify, i get all vehicle data and parameters in my code and i am using master branch to compile my sitl binary. Attaching * (313 Bytes)  for reference. I copied dumpstack.sh in the directory containing sitl binary. Can somebody help me out??? Tagging * for help. Swaroop","* Thanks a Ton! Can I create a PR for the master which rejects the command with (0,0,0) global location requests ? I guess this should be included in the code."
87,Copter SITL binary crashing unexplicably,3,"Hello, I am trying to use the ArduCopter SITL binary in standalone mode for my development. I have my own glue code on top of pymavlink connecting to the binary on tcp 5760 for command and data. Inexplicably,  all the time, the binary crashes with the message as below: …/resources/arducopter_amd64_master20210527 --model quad --defaults …/resources/copter.parm --home 19.1341996,72.9121133,45,20.0 --sysid 1 Setting SYSID_THISMAV=1 Suggested EK3_BCOEF_* = 16.288, EK3_MCOEF = 0.209 Home: 19.134200 72.912113 alt=45.000000m hdg=20.000000 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 Loaded defaults from …/resources/copter.parm bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 MKFIFO failed with File exists MKFIFO failed with File exists Smoothing reset at 0.001 bus.bus=0 address=0x55 bus.bus=1 address=0x55 bus.bus=0 address=0x38 bus.bus=0 address=0x39 bus.bus=1 address=0x38 bus.bus=1 address=0x39 bus.bus=2 address=0x38 bus.bus=2 address=0x39 bus.bus=3 address=0x38 bus.bus=3 address=0x39 bus.bus=0 address=0x38 bus.bus=0 address=0x39 validate_structures:489: Validating structures Loaded defaults from …/resources/copter.parm PANIC: Should not be called on invalid location Running: sh dumpstack.sh 26162 >dumpstack_arducopter_amd64_ma 2>&1 Stack dumped Could not attach to process. If your uid matches the uid of the target process, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try again as the root user. For more details, see /etc/sysctl.d/10-ptrace.conf ptrace: Operation not permitted. /tmp/gdb.26354:2: Error in sourced command file: No stack. I don’t understand what’s happening. The happens everytime as soon as I set the mode to ‘GUIDED’ using pymavlink set_mode, set_mode_send(as shared *) or command_long_send(MAV_CMD_DO_SET_MODE). Of course i am waiting for the EKF to set its home location before sending the set_mode command. Just to clarify, i get all vehicle data and parameters in my code and i am using master branch to compile my sitl binary. Attaching * (313 Bytes)  for reference. I copied dumpstack.sh in the directory containing sitl binary. Can somebody help me out??? Tagging * for help. Swaroop",We could reject or we could consider it to be “here” - we do both in the code.
88,Battery consumption for arming,1,"Hello, When I tested battery consumption, I noticed that battery is always 100% when the vehicle is arming stage. However, arming means turning on motors and consume the battery… I found * that suggested better estimate of battery capacity when arming in 2014. Is there any progress related to the battery capacity? Thanks!",Using battery voltage as a measure of used/remaining capacity is unreliable.
89,Dronekit using while running the python script disarming the motors,0,"@ hi  actually am running this code am getting error automatically disarming the motors .please help me from dronekit import connect, VehicleMode, LocationGlobalRelative from pymavlink import mavutil import time import argparse parser = argparse.ArgumentParser() parser.add_argument(’–connect’, default=‘127.0.0.1:14550’) args = parser.parse_args() Connect to the Vehicle #print(‘Connecting to vehicle on: %s’ % connection_string) print (‘Connecting to vehicle on: %s’ % args.connect) vehicle = connect(args.connect, baud=57600, wait_ready=True) #921600 is the baudrate that you have set in the mission plannar or qgc Function to arm and then takeoff to a user specified altitude def arm_and_takeoff(aTargetAltitude): print (“Basic pre-arm checks”) Don’t let the user try to arm until autopilot is ready while not vehicle.is_armable: print ("" Waiting for vehicle to initialise…"") time.sleep(1) print (“Arming motors”) Copter should arm in GUIDED mode vehicle.mode    = VehicleMode(“GUIDED”) vehicle.armed   = True while not vehicle.armed: print ("" Waiting for arming…"") time.sleep(1) print (“Taking off!”) vehicle.simple_takeoff(aTargetAltitude) # Take off to target altitude Check that vehicle has reached takeoff altitude while True: print( "" Altitude: "", vehicle.location.global_relative_frame.alt ) #Break and return from function just below target altitude. if vehicle.location.global_relative_frame.alt>=aTargetAltitude*0.95: print( “Reached target altitude”) break time.sleep(1) Initialize the takeoff sequence to 15m arm_and_takeoff(15) print(“Take off complete”) Hover for 10 seconds time.sleep(15) print(“Now let’s land”) vehicle.mode = VehicleMode(“LAND”) Close vehicle object vehicle.close() *",
90,Real data into SITL,1,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?",did you take a look at replay? It probably gets you the features you want and need.
90,Real data into SITL,2,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?","Thanks for answer, but it seems to be not that case. What I want to do is to record real flight (not sitl) and then check how sitl behaves with the same rc input. The whole project is about to use also simulink plug-in with sitl and have physical model of copter there. The ultimate goal is to compare dynamics in simulink model with real copter."
90,Real data into SITL,3,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?","Well… Replay replays data recorded in a real flight into a SITL so that you can step by step analyze what happened in that real flight EKF wise. You want to do that, but not just with the EKF but also with the controllers. I stand by my opinion. Use Replay."
90,Real data into SITL,4,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?","We don’t have easy way to do that for now. You will need to extract the rc input from a dataflash log with mavextract.py and then create a script to inject them into SITL. Be aware that SITL dynamic isn’t the same a real vehicle, it is simulation."
90,Real data into SITL,5,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?",Do you have any example of such script for injecting data into sitl?
90,Real data into SITL,6,"Hi, I would like to provide sitl with real input data logged during flight in ACRO mode. Is that possible? how to do that?","just use RC_Override MAVLink message. You could use Pymavlink to send it for example, or to be closer to reality, use SITL simulated RC input. In that case, you should look on MAVProxy implementation (*) or our autotest one’s"
91,[Need Confirmation]Gazebo Orientation bug with a link on iris_with_ardupilot,0,"I try to run Arducopter SITL simulation with Gazebo with  *. When adding a link  with 1.57 radian pitch to models/iris_with_ardupilot/model.sdf using this diff: * The gazebo orientation internal reading of that imu link become random eventhough the copter is perfectly still while hovering in mid air( mode guided, arm throttle, and takeoff 5). Below is the gazebo internal plot of yaw and roll of that imu link. As you can see, yaw and roll assume identical random value. * This problem is gone when using zero orientation for imu link such as  <pose> 0 0 0.1 0 0 0</pose>. Can anybody confirm this? Background story: I need to attach a Ouster LiDAR  model link that  equipped with IMU to my copter.  That LiDAR must facing downward hence 1.57 radian pitch. But the IMU plugin is using Gazebo’s internal orientation and showing weird random value. At first I thought this is the plugin problem, but when plotting the orientation with Gazebo own plot, I realized this is Gazebo problem.",
92,Setting up SITL on Windows Error Meaasge,1,"I have trying to set-up SITL on Windows and been going through the WIKI page but when i run the command cd ~/ardupilot/ArduCopter sim_vehicle.py --map --console Waf: Entering directory `/home/ardisd/ardupilot/build/sitl’ [4/4] Processing modules/mavlink/message_definitions/v1.0/ardupilotmega.xml Traceback (most recent call last): File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/tools/mavgen.py”, line 16, in  from pymavlink.generator import mavgen File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/generator/mavgen.py”, line 12, in  from future import standard_library ImportError: No module named future mavgen returned 1 error code Waf: Leaving directory `/home/ardisd/ardupilot/build/sitl’ Build failed -> task in ‘mavlink’ failed (exit status 1): {task 7696539850824: mavgen ardupilotmega.xml -> } (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks I am new to SiTL and dont understand the error David Ardis",* GIYF * 
92,Setting up SITL on Windows Error Meaasge,2,"I have trying to set-up SITL on Windows and been going through the WIKI page but when i run the command cd ~/ardupilot/ArduCopter sim_vehicle.py --map --console Waf: Entering directory `/home/ardisd/ardupilot/build/sitl’ [4/4] Processing modules/mavlink/message_definitions/v1.0/ardupilotmega.xml Traceback (most recent call last): File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/tools/mavgen.py”, line 16, in  from pymavlink.generator import mavgen File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/generator/mavgen.py”, line 12, in  from future import standard_library ImportError: No module named future mavgen returned 1 error code Waf: Leaving directory `/home/ardisd/ardupilot/build/sitl’ Build failed -> task in ‘mavlink’ failed (exit status 1): {task 7696539850824: mavgen ardupilotmega.xml -> } (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks I am new to SiTL and dont understand the error David Ardis",Thanks That sorted the problem
92,Setting up SITL on Windows Error Meaasge,3,"I have trying to set-up SITL on Windows and been going through the WIKI page but when i run the command cd ~/ardupilot/ArduCopter sim_vehicle.py --map --console Waf: Entering directory `/home/ardisd/ardupilot/build/sitl’ [4/4] Processing modules/mavlink/message_definitions/v1.0/ardupilotmega.xml Traceback (most recent call last): File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/tools/mavgen.py”, line 16, in  from pymavlink.generator import mavgen File “/home/ardisd/ardupilot/modules/mavlink/pymavlink/generator/mavgen.py”, line 12, in  from future import standard_library ImportError: No module named future mavgen returned 1 error code Waf: Leaving directory `/home/ardisd/ardupilot/build/sitl’ Build failed -> task in ‘mavlink’ failed (exit status 1): {task 7696539850824: mavgen ardupilotmega.xml -> } (run with -v to display more information) SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks I am new to SiTL and dont understand the error David Ardis","sampath@sampath-HP-Laptop-15g-dr0xxx:~/ardupilot/ArduCopter$ sim_vehicle.py SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/sampath/ardupilot/modules/waf/waf-light” “configure” “–board” “sitl” Setting top to                           : /home/sampath/ardupilot Setting out to                           : /home/sampath/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.18 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.18 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (0.517s) SIM_VEHICLE: Building SIM_VEHICLE: “/home/sampath/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” Waf: Entering directory `/home/sampath/ardupilot/build/sitl’ [4/4] Processing modules/mavlink/message_definitions/v1.0/ardupilotmega.xml Traceback (most recent call last): File “/home/sampath/ardupilot/modules/mavlink/pymavlink/tools/mavgen.py”, line 16, in  from pymavlink.generator import mavgen File “/home/sampath/ardupilot/modules/mavlink/pymavlink/generator/mavgen.py”, line 12, in  from future import standard_library ImportError: No module named future mavgen returned 1 error code Waf: Leaving directory `/home/sampath/ardupilot/build/sitl’ Traceback (most recent call last): File “/home/sampath/ardupilot/modules/waf/waflib/Scripting.py”, line 165, in waf_entry_point run_commands() File “/home/sampath/ardupilot/modules/waf/waflib/Scripting.py”, line 266, in run_commands ctx = run_command(cmd_name) File “/home/sampath/ardupilot/modules/waf/waflib/Scripting.py”, line 250, in run_command ctx.execute() File “/home/sampath/ardupilot/modules/waf/waflib/Scripting.py”, line 616, in execute return execute_method(self) File “/home/sampath/ardupilot/modules/waf/waflib/Build.py”, line 255, in execute self.execute_build() File “/home/sampath/ardupilot/modules/waf/waflib/Build.py”, line 275, in execute_build self.compile() File “/home/sampath/ardupilot/modules/waf/waflib/Build.py”, line 377, in compile raise Errors.BuildError(self.producer.error) File “/home/sampath/ardupilot/modules/waf/waflib/Errors.py”, line 45, in init WafError.init(self, self.format_error()) File “/home/sampath/ardupilot/modules/waf/waflib/Errors.py”, line 51, in format_error txt = tsk.format_error() File “/home/sampath/ardupilot/modules/waf/waflib/Task.py”, line 415, in format_error txt = cmd NameError: global name ‘cmd’ is not defined SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks"
93,Convergence software,1,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,*
93,Convergence software,2,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,As was stated before and links provided this type of craft is in Arduplane. There isn’t “Convergence firmware” there is firmware for a particular flight controller with many frame types to choose from depending on the type of craft it is That table of parts doesn’t show anything useful.
93,Convergence software,3,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,I’m laying things out before I glue up the frame with a jig
93,Convergence software,4,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,Maybe I’m just a confused little shit lol so I get the pixhawk4 then find in arduplane the software it comes with and find the right frame for it
93,Convergence software,5,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,"Start by loading current Stable Arduplane, enable Quad plane (Q_ENABLE 1) set the Frame class to Tricopter (Q_FRAME_CALSS 7) Then start learning a lot about Arduplane VTOL. You have spread posts all over the place. This is a Plane so it belongs in Arduplane. It’s a VTOL so it belongs in Arduplane>Vtol. Not Copter and not Copter simulation or anywhere else."
93,Convergence software,6,Where can someone link me to the correct convergence firmware? I am needin g b the exact update to the pixhawk 4 autopilot once I build me a upscale version of the convergence as you can see in this picture it’s a rough fit of things the connectors are 3d printed I had to order more and I’ll neneed to get more carbon fiber rods cheers *,Well shyt lol sorry…
94,SITL: DO_JUMP's,0,"DO_JUMP’s are explained *. Git cloning on date 20210406, trying a mission with chained do_jump’s as this: QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.374600	178	1 1	0	3	22	0	0	0	0	33.74116111	-118.374600	1.00	1 2	0	3	201	0	0	0	0	33.74111111	-118.375	1.00	1 3	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 4	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 5	0	10	16	0	0	0	0	33.74124111	-118.37472222	4.00	1 6	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 7	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 8	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 9	0	10	16	0	0	0	0	33.74099111	-118.37472222	4.00	1 10	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 11	0	0	177	3	3	0	0	0	0	0	1 12	0	3	16	0	0	0	0	33.74111111	-118.37472222	20.00	1 13	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 14	0	3	16	0	0	0	0	33.74124111	-118.37472222	20.00	1 15	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 16	0	3	16	0	0	0	0	33.74111111	-118.37472222	20.00	1 17	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 18	0	3	16	0	0	0	0	33.74099111	-118.37472222	20.00	1 19	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 20	0	0	177	12	3	0	0	0	0	0	1 21	0	0	177	3	1	0	0	0	0	0	1 22	0	10	21	0	0	0	0	33.74119111	-118.374600	0.00	1 where  block 1 (3-10): waypoints up to 4m; block 2 (12-19): waypoints up to 20m;  the sequence should be:   block 1 repeated four times (loop counter 3 at waypoint 11);   block 2 repeated four times (loop counter 3 at waypoint 20);   above (4x block 1, 4x block 2) repeated two times (loop counter 1 at waypoint 21).   However, plotting any height it is clear that loop counter 3 is obeyed only on the first pass:  *  as if  only one loop counter  could be active at the same time. I can’t find where this is said.  Am I missing something? *.",
95,Starting SITL with non-zero velocity,0,"Hi, I am working on a project that involves starting the software midflight. I am wondering if there is a way to tweak the code such that on SITL startup, the simulated drone starts with a non-zero velocity. I realize that this will likely cause other problems as some of the sensor initializations rely on the drone being stationary, but this is just a starting place.",
96,SITL: spurious waypoints in mission,1,"All that follows on SITL on macOS. I am observing spurious waypoints in SITL missions, that are not followed but appear on console. Consider a simple mission such as: QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.3746000	178 	1 1	0	3	22	0	0	0	0	33.74116111	-118.3746000	1.00	1 2	0	3	201	0	0	0	0	33.74111111	-118.3750000	1.00	1 3	0	3	16	0	0	0	0	33.74111111	-118.3747222	4.00	1 4	0	3	21	0	0	0	0	33.74119111	-118.3746000	0.00	1 If executed with ./sim_vehicle.py -v ArduCopter -f quad -l 33.74111111,-118.374600,178,270 --use-dir=BigW --console and observed in QGC, after landing this appears on console: APM: Mission: 3 Land waypoint 3 APM: SIM Hit ground at 0.556849 m/s APM: Disarming motors APM: Mission: 1 SetROI APM: Mission: 2 WP DISARMED waypoint 2 Bold lines seem spurious and not followed on QGC. Changing waypoints 1 and 3 (Relative) to Terrain (3->10): QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.37460000	178 	1 1	0	10	22	0	0	0	0	33.74116111	-118.37460000	1.00	1 2	0	3	201	0	0	0	0	33.74111111	-118.37500000	1.00	1 3	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 4	0	3	21	0	0	0	0	33.74119111	-118.37460000	0.00	1 the console shows: APM: Mission: 3 Land waypoint 3 APM: SIM Hit ground at 0.550490 m/s APM: Disarming motors APM: Mission: 1 SetROI APM: Mission: 2 WP APM: Failsafe: Terrain data missing APM: Reached command #2 APM: Mission: 3 Land DISARMED and in adition, since mixing Relative (third parameter 3) and Terrain (third parameter 10) seems a *, “Failsafe: terrain data missing” is heard and appears on QGC. See this * (4K) with captures:  Should this happen so?",Anybody there??? Same on SITL Ubuntu 20.04. *: 
96,SITL: spurious waypoints in mission,2,"All that follows on SITL on macOS. I am observing spurious waypoints in SITL missions, that are not followed but appear on console. Consider a simple mission such as: QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.3746000	178 	1 1	0	3	22	0	0	0	0	33.74116111	-118.3746000	1.00	1 2	0	3	201	0	0	0	0	33.74111111	-118.3750000	1.00	1 3	0	3	16	0	0	0	0	33.74111111	-118.3747222	4.00	1 4	0	3	21	0	0	0	0	33.74119111	-118.3746000	0.00	1 If executed with ./sim_vehicle.py -v ArduCopter -f quad -l 33.74111111,-118.374600,178,270 --use-dir=BigW --console and observed in QGC, after landing this appears on console: APM: Mission: 3 Land waypoint 3 APM: SIM Hit ground at 0.556849 m/s APM: Disarming motors APM: Mission: 1 SetROI APM: Mission: 2 WP DISARMED waypoint 2 Bold lines seem spurious and not followed on QGC. Changing waypoints 1 and 3 (Relative) to Terrain (3->10): QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.37460000	178 	1 1	0	10	22	0	0	0	0	33.74116111	-118.37460000	1.00	1 2	0	3	201	0	0	0	0	33.74111111	-118.37500000	1.00	1 3	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 4	0	3	21	0	0	0	0	33.74119111	-118.37460000	0.00	1 the console shows: APM: Mission: 3 Land waypoint 3 APM: SIM Hit ground at 0.550490 m/s APM: Disarming motors APM: Mission: 1 SetROI APM: Mission: 2 WP APM: Failsafe: Terrain data missing APM: Reached command #2 APM: Mission: 3 Land DISARMED and in adition, since mixing Relative (third parameter 3) and Terrain (third parameter 10) seems a *, “Failsafe: terrain data missing” is heard and appears on QGC. See this * (4K) with captures:  Should this happen so?",Same on Fedora 33. *: 
97,Help with Realflight SITL,0,"Trying to get Realflight 9.5 to do SITL, Not using the Aruducopter sim code. Realflight (yes flightaxis is turned on) is listening to the port 18083… Alas whenever I try to send the SOAP transaction it reads the whole thing, then resets the connection. Was wondering if someone who has this running could do a wireshark capture of a the startup and first exchange. Thanks!",
98,Changing Home Location on SITL?,1,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.",Usually I just set home location in the plan screen and then boot up the SITL through Mission Planner. It then uses the set home location as the SITL Home Location. Another option is loading up your mission (with correct home location) - and then starting the SITL through MP.
98,Changing Home Location on SITL?,2,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.","Ah, I am using MAVProxy as a GCS, plus I am not using a map as the simulation is not meant to be anywhere specific in the world. Thank you for the suggestion though."
98,Changing Home Location on SITL?,3,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.","In case you don’t know you can get a full list of commands by adding --help ./Tools/autotest/sim_vehicle.py -j 16 -v ArduCopter -D --help Here is the dirty way I was it doing until your post. ./Tools/autotest/sim_vehicle.py -j 16 -v ArduCopter -D -l 42.73380516730135,-86.20706791790283,188,5 From now on though I’m going to be using it like Peter suggested. If you create a file the following file, in the given location, and fill it with your location you can use it using the -L command! /home/USERNAME/.config/ardupilot/locations.txt DUNE=42.73380516730135,-86.20706791790283,188,5 If I call SITL now my command is much less prone to user error. ./Tools/autotest/sim_vehicle.py -j 16 -v ArduCopter -D -L DUNE"
98,Changing Home Location on SITL?,4,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.","be aware that location 0,0,0 is a bad idea as we filter it on some case as a bad location to prevent issue with 0 division."
98,Changing Home Location on SITL?,5,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.","Yes this do it, thank you so much! It changed the location. And as Khancyr warned about using 0,0,0, I used 1,1,1 instead. The waypoint list does print to something more manageable. However, the iris drone does fly to a random location. I let it go for 15mins and ended up at x=-1055, y=1054, z=8.9 according to gazebo pose (it was still flying, I just told to to RTL). Anyone know why this happens and actually make it go to 1,1,1 as its first waypoint?"
98,Changing Home Location on SITL?,6,"So this is a continumation from this discussion here: *  Except I have found away to remove the AUTO setting error, now I do not know how to change the SITL home location of SITL_START_LOCATION from * . As I do not use a map and do not want to start the drone in Australia. I want the home drone to be 0,0,0. I tried to change it in my local source code, but that did nothing, the next was change CMAC2 and CMAC of locations.txt, but that also did nothing. Then I came across this * , however I do not understand how “No rebuild is required. Try using a file in your home directory instead of modifying locations.txt:” would be done. Anyone have any suggestions? I am very new to ArduPilot so any suggestions would be very helpful!. Thank you.","I never had this problem. I set to -L to my location. I used mavlink and mavproxy to set it. For each mission which I set. the first waypoint is always 0,0. This drone usually do ignore any home position. There is not home position also doesn’t have much of an issue. Maybe if you are using mavlink you can use the MAV_CMD_DO_SET_HOME (* ) if you are using mission planner, its even easily to do it."
99,SITL with custom physics using JSON,0,"I am trying to run SITL with a custom physics model and with JSON interface. I have followed the example given here. My physics model runs separately and using a python application I access the state values and send it as a JSON string to the UDP port 9002. I referred to the SITL - JSON example in the ardupilot repo. *  I launch the sitl instance with the -f JSON:127.0.0.1 flag and my python application runs without any crash. I am also able to read and print the pwm servo output from AP. But I think the data transfer is still not successful and I am unable to use mavproxy to execute any commands. Note: I am running this on windows - cygwin. I don’t face any issues while running the native sitl. Also I am a beginner so I might have missed some small detail. Any help is greatly appreciated. Thank you. I see the following message in the file \tmp\ArduCopter.log Setting SIM_SPEEDUP=1.000000 Starting SITL: JSON Home: 12.915781 77.644586 alt=920.000000m hdg=0.000000 JSON control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 5760 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 MKFIFO failed with File exists MKFIFO failed with File exists No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos JSON received: timestamp imu: gyro imu: accel_body position attitude velocity No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos bus.bus=0 address=0x55 bus.bus=1 address=0x55 bus.bus=0 address=0x38 bus.bus=0 address=0x39 bus.bus=1 address=0x38 bus.bus=1 address=0x39 bus.bus=2 address=0x38 bus.bus=2 address=0x39 bus.bus=3 address=0x38 bus.bus=3 address=0x39 bus.bus=0 address=0x38 bus.bus=0 address=0x39 No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos validate_structures:489: Validating structures No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos No JSON sensor message received, resending servos",
100,Setting Battery Monitoring in AruduCopter SITL,1,"My understanding is that Arducopter SITL supports voltage and current battery monitoring. What are the correct settings to use with Mission Planner? I have been able to get current monitoring and % battery energy to work, by the voltage never decreases.",I think that is only available in github master and you do need to activate it using a SIM_* parameter
101,"SITL copter mission mixing ""Relative"" and ""Terrain"" waypoints: should it work (4.1dev)?",0,"All below in SITL 4.1dev. Consider this mission: QGC WPL 110 0	1	0	16	0	0	0	0	33.74113111	-118.374600	178	1 1	0	10	22	0	0	0	0	33.74116111	-118.374600	1.00	1 2	0	10	201	0	0	0	0	33.74111111	-118.375	1.00	1 3	0	0	93	0.001	0	0	0	0	0	0	1 4	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 5	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 6	0	10	16	0	0	0	0	33.74124111	-118.37472222	4.00	1 7	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 8	0	10	16	0	0	0	0	33.74111111	-118.37472222	4.00	1 9	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 10	0	10	16	0	0	0	0	33.74099111	-118.37472222	4.00	1 11	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 12	0	10	177	3	3	0	0	0	0	0	1 13	0	0	93	0.001	0	0	0	0	0	0	1 14	0	3	16	0	0	0	0	33.74111111	-118.37472222	20.00	1 15	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 16	0	3	16	0	0	0	0	33.74124111	-118.37472222	20.00	1 17	0	10	16	0	0	0	0	33.74117111	-118.37472222	1.00	1 18	0	3	16	0	0	0	0	33.74111111	-118.37472222	20.00	1 19	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 20	0	3	16	0	0	0	0	33.74099111	-118.37472222	20.00	1 21	0	10	16	0	0	0	0	33.74105111	-118.37472222	1.00	1 22	0	3	177	13	3	0	0	0	0	0	1 23	0	10	21	0	0	0	0	33.74119111	-118.374600	0.00	1 consisting in four Big W’s (as *, simulation done at Big W documented original location) repeated two times: -first four Big W’s five vertexes height 1m (two low ones) and 4m (three high ones); -second four Big W’s five vertexes height 1m (two low ones) and 20m (three high ones). ./sim_vehicle.py -v ArduCopter -f quad -l 33.74111111,-118.374600,178,270 --use-dir=BigW Simulation done with simulated rangefinder up to 15m: RNGFND1_MAX_CM 1500 distance chosen since in SITL when taking off it stays at 10m (I don’t know how to change this). Waypoints heights in first four Big W’s height (from 1m to 4m) are within rangefinder range (RNGFND1_MAX_CM 1500), and the waypoints have 10 (“Terrain”) as third parameter, as explained *. Since on the second four Big W’s (from 1m to 20m) high Big W vertexes height (20m) is higher than 15 m (RNGFND1_MAX_CM 1500) the third parameter of the corresponding waypoints is 3 (“Relative”) as explained *. When simulated, the first Big W’s (1m to 4m) are followed, but on the second four Big W’s (1m to 20m) when going towards waypoint 15 (4m high (10 “Terrain”)) after waypoint 14 (20m high (3 “Relative”)), the copter climbs to 20m with correct inclination (waypoint 14) and then somehow it does not ‘know’ how to go to waypoint 15 (10 (“Terrain”) as third parameter), “Failsafe: terrain data missing” is heard, and RTL follows, as seen with the 3D capture (from *) *:  * *  Note that waypoint 15 (as also 17, 19 and 21) has to have 10 (“Terrain”) as third parameter, since being close to ground if relying on barometer it could touch ground ( real thing ).  This is the * log and this is the * file. Is this expected behavior? If so, what else is needed to mix “Terrain” (third parameter 10) and “Relative” (third parameter 3) waypoints in a Copter mission? This was discussed * without solution, but it was seen that SITL shows the same problems as the real thing. Incidentally, note that waypoint 2 (201: DO_SET_ROI) is not obeyed, possibly because of low height after takeoff. BTW, congratulations to all developers: here it is seen how faithfully the real thing is emulated in SITL.",
102,SITL and X-Plane,1,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","Yes, You understand everything right, You dont need any hardware, just computer. Every step to run SITL is well showed in the wiki: * Just follow every step. Or You can run scripts from /Tools/autotest/win_sitl/ folder. Take a look at readme.txt Since You will download latest copy of ardupilot code, You can use either Xplane 10 or 11. Nikita."
102,SITL and X-Plane,2,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","Hi, I tried to follow every step to install SITL and mission planner *, I don’t know why but I don’t see any simulation and terminal icon when I run the Mission planner program. any ideas? is there something I missed?"
102,SITL and X-Plane,3,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","Hello, Chris, it is hard to diagnise what is wrong, since You didnt post any screens or text of cygwin output, or maybe You didnt installed something, we need more info."
102,SITL and X-Plane,4,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","Hi, actually I found out why I could not get those icons, it was just about an option I did not check in the parameters. However, I still cannot connect my mission planner to X-plane. I followed those 2 tutorials as you suggested * * I think everything went pretty fine. but when I get to mission planner I do not see any X-plane connection option. see the first file attached is what I see and the second what I am supposed to see according to the tutorial. here is how it is on my cygwin when I run the sim vehicule  I also get a map as it is showed on the tutorial Also when I try to run the plane or quadcopter from the simulation option on mission planner I get this thanks for your help chris"
102,SITL and X-Plane,5,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","I try to assume that You installed and set everything rigth. Open Cygwin. (We will build copter) You will build firmware for first time In order to start SITL with Xplane, move to desired platform (we build copter) Now if everything is right, You will see also MAVProxy window Now start Xplane, once he will be ready, You will see data in MAVProxy. Now open MP, choose UDP connection and press CONNECT. You will see window promt with 14550 port. Press ok, after that MP will connect to MAVProxy, which is connected to xplane. Now You can control your copter with MP. Take a look at the bottom of the wiki, since You need to setup helicopter with two additional requirements."
102,SITL and X-Plane,6,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris",so hmm does now X-Plane work with ArduCopter? Andy
102,SITL and X-Plane,7,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris",I am also interested in using SITL copter with X-Plane.  Have not been able to do it.  Have plane working fine.  Can X-plane work with ArduCopter?
102,SITL and X-Plane,8,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","Does Ardupilot SITL also work with X-Plane 11? Thank you in advance. Best Regards, ryma"
102,SITL and X-Plane,9,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","I installed APM for Mac OSX, then the FTDIUSB SerialDriver. Then I entered the UDP port in APM Setup. However, I am not connected to X-Plane. I always get the following message: “Please connect first.” Can someone help me how to connect to X-Plane 11?"
102,SITL and X-Plane,10,"Hi guys, I am new in this community, I am pretty much interested in the SITL and X-Plane. I wanted to ask a few questions about that. If I understand well I can use the SITL and mission planner in order to create a flight plan on X-plane and make my helicopter follow it? I would only need X-plane, AMP and the STIL, no hardware would be needed? thanks Chris","You might be able to use the * interface to hook up each throttle output from the MAVLink protocol…? But it requires original work as far as I can tell… in the language of your choice, C, Matlab, Python, etc."
103,"In the simulation flight, the SITL original gyroscope data is unstable",0,"I was running SITL simulation and connected to the mission planner GCS. In the guided mode, after flying a certain distance, I found that the attitude of the vehicle was jittering and the ground speed was also unstable. The raw sensor data and the SITL gyroscope data are not stable?  *",
104,Precision Landing in SITL is not working,1,"Hi. I’m trying to test precision landing in SITL. I am using Copter master branch (commit 10e8e8e9cc05c93cc6eb6a10be70d89e5d18b369) SITL on Ubuntu 16.04 x86_64 machine. I followed * then PL params are appear in dataflash logs, however every data including PL.Heal stays at 0, so it looks something must be wrong. * * * Could anyone spot a problem or give me some hints what else I can try? Thanks.","Hello, did you manage to overcome this? what happened?"
105,Starting SITL in Quadcopter Frame X configuration,0,"Best I can tell the default frame type in SITL is Quadcopter in + configuration, and I would like to start in X configuration. What is the recommend way to specify frame type as quadcopter with X configuration?",
106,MavProxy communications with dronekit-SITL,1,"With MavProxy running on a Pi and dronekit-SITL running on a UBUNTU (intel) computer I am able to connect but not change mode or set parameters. Sometime back there was a problem associated with the version of pymavlink. Is there a particular version of pymavlink that I should be running on the Pi? When I connect with the PX4 flight controller, MavProxy can change mode and set parameters.",You should be using ArduCopter 4.0.7-rc1 and the latest available MavProxy. They work great together!
106,MavProxy communications with dronekit-SITL,2,"With MavProxy running on a Pi and dronekit-SITL running on a UBUNTU (intel) computer I am able to connect but not change mode or set parameters. Sometime back there was a problem associated with the version of pymavlink. Is there a particular version of pymavlink that I should be running on the Pi? When I connect with the PX4 flight controller, MavProxy can change mode and set parameters.","I do not know about you, but I compile my SITL. And it`s version is 4.0.7-rc1 so my SITL behaves like my vehicle. Where are you getting your outdated SITL from?"
107,Copter SITL uploading something to the internet,1,"I installed SITL based on the newest ArduCopter code on my Raspberry Pi 3. It seems to work pretty well, but I’ve noticed as soon as I connect to the simulator with Mavlink Router, GCS, or anything else (locally), ~20kBps worth of data starts to be uploaded via my wlan0 interface. I`d like to know what exactly gets uploaded, and is there any way to stop it.","Hello, That is probably the terrain database or the GCS imaging system that request some data"
107,Copter SITL uploading something to the internet,2,"I installed SITL based on the newest ArduCopter code on my Raspberry Pi 3. It seems to work pretty well, but I’ve noticed as soon as I connect to the simulator with Mavlink Router, GCS, or anything else (locally), ~20kBps worth of data starts to be uploaded via my wlan0 interface. I`d like to know what exactly gets uploaded, and is there any way to stop it.",My guess is the same as khancyr’s. tcpdump FTW.
107,Copter SITL uploading something to the internet,3,"I installed SITL based on the newest ArduCopter code on my Raspberry Pi 3. It seems to work pretty well, but I’ve noticed as soon as I connect to the simulator with Mavlink Router, GCS, or anything else (locally), ~20kBps worth of data starts to be uploaded via my wlan0 interface. I`d like to know what exactly gets uploaded, and is there any way to stop it.","Thank you for your input. “GCS imaging system that request some data” looks out of question, as the exact same thing happens just by connecting to Mavlink Router, but the terrain thing seems possible. I checked the parameters with Mission Planner, and it seems that both SIM_TERRAIN and TERRAIN_ENABLE are set to 0. Are there any parameters or any other way to disable that functionality?"
108,Copter kept running in circles during simulation,1,"When running SITL simulation, When my Hexacopter Move from 1 waypoint to another, it doesn’t move in a straight line but it keep turning in circles while moving towards the waypoint, is something that I had set wrong?",I realised the problem lies with I setting the frame type to hexacopter. If i put it back to Quadcopter it move normal.
109,Simulating Gyro Noise/Sound,1,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)","You would probably need Hardware in the loop, which I think existed some time ago, but is now discontinued… * Which kinda sucks because your project sounds very interesting;)"
109,Simulating Gyro Noise/Sound,2,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",I can do Qground hilt but problem is in order to run it on HITL qground shuts the sensors down. So no go on hardware. Software wise I just need to figure out how I can inject my noise  sadly coding isn’t my strongest suit.
109,Simulating Gyro Noise/Sound,3,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)","I just realized that I made a mistake, with HITL the computer replaces the sensors, so that wouldn’t work anyways…"
109,Simulating Gyro Noise/Sound,4,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",Yeah thats why I was looking to see if it would be possible in SITL. Thank you for the suggestions tho. everybit of info and discussion helps.
109,Simulating Gyro Noise/Sound,5,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",We already do muck the sensor data up in SITL - looking for things like SIM_GYR_RND We can also inject more complex data for our FFT peak-detection code to be tested against; every commit to master has to pass *  tridge did some experiments a long time ago gluing autopilots to speakers to test their responses - that might be a good way forward for you (crappy speakers from a second-hand store will cost you virtually nothing).
109,Simulating Gyro Noise/Sound,6,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",* HITL is working in master again 
109,Simulating Gyro Noise/Sound,7,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",* We might have to edit the wiki for newbies like me. Would love to use it in ardupilot rather than px
109,Simulating Gyro Noise/Sound,8,"For a school project, I am trying to simulate what would happen if I bombarded my Pixhawk 4 mini with soundwaves. Rather than crashing a perfectly good drone, I was wondering if I could simulate this on APM in SITL? Is there a way I can fudge up the gyro/accel info while its in SITL flying a mission? Thank you so much for all the help (I am using Pixhawk 4mini with the latest 4.0.6 build)",I already have data for the sensors like BMI055 ICM20948. I am just cluesly looking for a way to add my  noise data to SITL or HITL. I was thinking about doing HITL tests using Gazebo’s force menu but Gazebo wont work correctly on HITL. I would love for some expert to show me how I might be able to insert my test data so simulate my results. Thank you for the wonderful help and replies regardless. you guys are such a lovely and helping bunch.
110,Current Waypoint and Next waypoint,1,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",* What is this command?
110,Current Waypoint and Next waypoint,2,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",Hi * its not a command… But I have a practice of placing a return way point at home location and also a land waypoint at home location to ensure that the copter returns back and lands autonomous safely
110,Current Waypoint and Next waypoint,3,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",I typically use a Waypoint and Land rather than RTL also but why are you not using RTL? And with this the LAND position will be Waypoint C. I don’t really understand what you are trying to accomplish.
110,Current Waypoint and Next waypoint,4,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",RTL will choose a shortest path to reach home. But that will not be a good idea if we want to fly in a particular altitude and we should have good elevation and terrain data. SMART RTL will store only few points to trace back to home and this also be not useful… Only way is to place a waypoint by ourself
110,Current Waypoint and Next waypoint,5,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",* i will try to post a screen record of mission planner simulation tomorrow for our better understanding. Thank you
110,Current Waypoint and Next waypoint,6,"In Arducopter simulation, Whenever i fly waypoint mission i have noticed that the Landing point number is reported as next waypoint whereas a waypoint in mid way yet to be completed. Eg: A----> TAKEOFF B----> Destination Waypoint C----> Safety return Waypoint at Home D----> LAND The copter reports the waypoint correctly until it reaches B. But once it completes B it says its heading to D but not C. Can anyone help?",You can use Rally points as an option.
111,Crop Sprayer Simulation in Gazebo,0,"Hello, so recently I managed to setup an simulation enviroment using sim_vehicle.py and dronekit. Now I want to add peripherals, like a crop sprayer. So how I add them on gazebo in way that it responds to my code?",
112,Regarding the swarming Simulation with Morse,0,"General I’m trying to simulate the swarming flight using 5 SITL with Morse following *. It has been successful to launch 5 SITL instances and connect to the MavProxy instance on a one-to-one basis. If I use MavProxy / SITL without using Morse as a simulator and issue Arm / Takeoff command for each of the 5 SITL instances, all drones will take off. What I’m not clear is that when I use MavProxy / SITL / Morse, the Arm command succeeds only on the last connected SITL instance, but other drones violate the Prearm check and cannot Arm. Steps to reproduce   Launch the Morse / Generate 5 SITL instances morse run copter_swarm/copters.py sh copter_swarm/start_copters_tcp.sh copter_swarm/copters.py is based on * and *, with the Rover description replaced by the QuadCopter one copter_swarm/start_copters_tcp.sh is based on start_fllow.sh. It replaces the parm file and configuration with Copter’s and executes all sitl in a for block. Sitl execute command: build/sitl/bin/arducopter -S --model ""morse-quad:127.0.0.1:$port1:$port2"" --speedup 1 --instance $(expr $i - 1) --defaults Tools/autotest/default_params/copter.parm & The morse-quad’s port is shifted by 2 for each instance like 60000:60001, 60002:60003…   5 drones are generated in Morse  *   Open 5 consoles and run mavproxy instance on each consoles. mavproxonsole --out=127.0.0.1:14550 --out=127.0.0.1:14551 --master=tcp:127.0.0.1:5760 --sitl=127.0.0.1:5501 The master’s port is shifted by 10 for each instance like 5760, 5770…   Issue throttle arm on each consoles. The Arm command succeeds only on the last connected SITL instance. Other SITL instances dump the EKF error. *   * Environment Ubuntu 18.04",
113,Arduino MAVlink SITL,1,"My Arduino can control real Pixhawk with MAVlink. However, if I try to control a simulated device, it doesn’t work. I was unable to simulate through other means, so I use the simulation in Mission Planner. If I am correct this parameter should link my serial port (Arduino connected to COM6) with SERIAL1 of the Ardupilot. --uartC=uart:/dev/ttyS5 The console window of ArduPlane.exe (the simulation instance) indicates the serial was successfully connected. Opened /dev/ttyS5 Baudrate of SERIAL1 is set to 57600 (which is the rate set in Arduino) and protocol is set to MAVlink2. However, the Arduino doesn’t receive heartbeats (or any other messages). * This link indicates something about setting half-duplex and WSL, however I am not sure how this applies to my problem or how to solve this. So maybe this is the problem? I don’t know, how to troubleshoot this issue.","OK, I found out the communication starts working when I first open the Arduino serial monitor or Putty (and then close it) and only after that I start the simulation in Mission planner. From this, I conclude that either there is a bug in the Arduino code or the serial port in Windows is somehow initialized differently based on the method. To be continued…"
114,Real simulation using real rc transmitter,1,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.",Sure you can. If your transmitter supports a Joystick mode then you can use it. I use my Radiomaster Transmitter in this way with Mission Planners Simulator. Or you can just use a game Controller. There is also a way to use any Transmitter for control using a Flight Controller running Betaflight. The FC emulates a Joystick.
114,Real simulation using real rc transmitter,2,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.",Thanks Dave I’ll certainly give it a try !! 
114,Real simulation using real rc transmitter,3,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.","Yes, exactly. When I saw that video I bought the cheapest FC I could find which is a $11 no brand mini and it works beautifully. I still use it in the family room on the big screen TV as the PC in the entertainment center is too far away for a USB cable  Here is my “Joystick Controller”! *"
114,Real simulation using real rc transmitter,4,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.","Yes it (Taranis QX7) supports joystick, but mission planner simulator could not detect it, do we need some extra steps to use it in mission planner simulator?"
114,Real simulation using real rc transmitter,5,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.","No. Windows 1st has to recognize the Radio as a game controller then from the Actions Menu in MP select the Joystick button and it should show up in the pull down menu. It will probbaly show the same device name as I have, Enable and configure. If it doesn’t show up figure out why Windows is not recognizing it."
114,Real simulation using real rc transmitter,6,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.",* Tons of thanks.
114,Real simulation using real rc transmitter,7,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.","Could I also use my futaba 14 sg ??? If so, where do you buy the controller ???"
114,Real simulation using real rc transmitter,8,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.","* Hi Dave, one more question. Can we use our vehicle parameters, i tried to load parameters from file into simulated vehicle, but it could write them. If we write our vehicle parameters, then we will have real feel of simulation and will help for setting accurate parameters. Or is there any free simulator?"
114,Real simulation using real rc transmitter,9,"Is there any way in mission planner / any other simulator on WINDOWS Platform? where  We can set actual parameters and fly We can connect actual RC Transmitter through USB and use it to control drone.  I tried SITL, but could not use connected RC Transmitter or parameters.",You can use any RC System. Any Flight Controller that will run Betaflight will work. Find a cheap one.
115,Subsystem Error decisions question,0,"Hello everyone, Me and my partner are doing an engineering project of trying to predict errors and failures of the copter. We have a great amount of logs and we now want to implement a Neural Network to identify what features cause errors. We have tried searching the git on how each sensor decides if there is an error, but it is overwhelmingly massive code and we thought maybe someone here would know. So for example, Subsystem 11 (GPS) has some error code, and we ant to know, based on which features does the subsystem decides that it has an error. If anyone has a link/knowledge about this it would be very helpful. Michael",
116,SITL with Gazebo: Drone crashes,1,"Hello! I’ve setup all required software described in * and also installed the patches from * to be able to run Gazebo 8 (Actually I took this one step forward, and ported that to Gazebo 9 thanks to *). I checked out the latest ArduPilot version available on Github. I’m on the master branch. I start the simulation as described with: python2 sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console -I0 and in another terminal: gazebo --verbose worlds/iris_irlock_demo.world In MAVProxy I input these commands, after the drone is fully initialized and ready to go: mode GUIDED arm throttle takeoff 30 Now the drone starts and takes off in Gazebo, but it quickly starts to drift off. When it reaches the desired height, the drone drifts more off and starts to go towards the ground. Shouldn’t the drone just stay in the starting x,y coordinates and the specified height? I also tested this under Ubuntu with Gazebo 8, without touching the source codes and I still get the same results, the drone crashes after it takes off.","Hello, thanks for report, I will look at it"
116,SITL with Gazebo: Drone crashes,2,"Hello! I’ve setup all required software described in * and also installed the patches from * to be able to run Gazebo 8 (Actually I took this one step forward, and ported that to Gazebo 9 thanks to *). I checked out the latest ArduPilot version available on Github. I’m on the master branch. I start the simulation as described with: python2 sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console -I0 and in another terminal: gazebo --verbose worlds/iris_irlock_demo.world In MAVProxy I input these commands, after the drone is fully initialized and ready to go: mode GUIDED arm throttle takeoff 30 Now the drone starts and takes off in Gazebo, but it quickly starts to drift off. When it reaches the desired height, the drone drifts more off and starts to go towards the ground. Shouldn’t the drone just stay in the starting x,y coordinates and the specified height? I also tested this under Ubuntu with Gazebo 8, without touching the source codes and I still get the same results, the drone crashes after it takes off.","just some minor information: I checked out a commit from 28.11.2017 (*) and there everything works as expected. Currently I’m setting up my main PC (Notebook is a bit to slow for this) and than I will checkout out different commits, to see where things start to break."
116,SITL with Gazebo: Drone crashes,3,"Hello! I’ve setup all required software described in * and also installed the patches from * to be able to run Gazebo 8 (Actually I took this one step forward, and ported that to Gazebo 9 thanks to *). I checked out the latest ArduPilot version available on Github. I’m on the master branch. I start the simulation as described with: python2 sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console -I0 and in another terminal: gazebo --verbose worlds/iris_irlock_demo.world In MAVProxy I input these commands, after the drone is fully initialized and ready to go: mode GUIDED arm throttle takeoff 30 Now the drone starts and takes off in Gazebo, but it quickly starts to drift off. When it reaches the desired height, the drone drifts more off and starts to go towards the ground. Shouldn’t the drone just stay in the starting x,y coordinates and the specified height? I also tested this under Ubuntu with Gazebo 8, without touching the source codes and I still get the same results, the drone crashes after it takes off.","Hey, was there any solution for this? Thanks"
116,SITL with Gazebo: Drone crashes,4,"Hello! I’ve setup all required software described in * and also installed the patches from * to be able to run Gazebo 8 (Actually I took this one step forward, and ported that to Gazebo 9 thanks to *). I checked out the latest ArduPilot version available on Github. I’m on the master branch. I start the simulation as described with: python2 sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console -I0 and in another terminal: gazebo --verbose worlds/iris_irlock_demo.world In MAVProxy I input these commands, after the drone is fully initialized and ready to go: mode GUIDED arm throttle takeoff 30 Now the drone starts and takes off in Gazebo, but it quickly starts to drift off. When it reaches the desired height, the drone drifts more off and starts to go towards the ground. Shouldn’t the drone just stay in the starting x,y coordinates and the specified height? I also tested this under Ubuntu with Gazebo 8, without touching the source codes and I still get the same results, the drone crashes after it takes off.","Hi there, was any solution found? Even for me, the drone is crashing after setting up the sitl and gazebo in ardupilot and it is crashing every time. Going out of bounds. Most of the times, it crashes while landing in mode rtl. Do you know why this might be happening? Thanks."
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",1,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?",Is this a question? Yes - it will hover at that waypoint for however long the delay is.
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",2,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?","The explanation was insufficient. For example, even if you set a 1 second delay, it will continue to hover forever. How can I get to the next waypoint with the set delay?"
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",3,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?",Can you send your waypoint file?
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",4,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?","The UAV reaches the first waypoint. If you set a delay there, you will not go to the next waypoint."
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",5,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?",Probably you are setting the wrong value as delay seconds parameter. Please send your way points file as suggested above or more details about your work.
117,"If you set a delay in the waypoint with the autopilot in SITL, it will continue to hover there",6,"If you set a delay for a waypoint with SITL’s autopilot, it will continue to hover there and get stuck. How can I get to the next waypoint with the set delay?","It will. Whether you use a delay parameter in a Waypoint command or use a separate Delay command, both work fine in SITL. This works:  * And this works and does the same thing:  *"
118,New MAVLINK Message,0,"Hello, i added two new mavlink messages but i have problems sending an response back. coraldrone get status gets printed to the console, but i get no output back on my c test program so the message does not get send back to my program. any ideas on this? thanks greetings andre case MAVLINK_MSG_ID_GET_CORALDRONE_STATUS: { hal.console->printf(“coraldrone get status\n”); *",
119,Current master oscillate badly (YAW),0,"I tried to ask days ago, *  - but it does not seem anyone noticed.",
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),1,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen"," https://ardupilot.org/dev/docs/ros-slam.html hector slam is 2D only you’ll need gazebo_ros, mavros "
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),2,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen","Hi, Can we do using SITL, with these steps? *"
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),3,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen",Just use gazebo lidar
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),4,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen","Hi, I followed the steps with the following link * And then Tried, Terminal 1: roscore Terminal 2: roslaunch iq_sim lidar.launch   ( This is the model with quadcopter lidar in gazebo simulation) Terminal 3: sim_vehicle.py -v ArduCopter -f gazebo-iris --console Terminal 4:  roslaunch hector_slam_launch tutorial.launch Here, I get this warning [ WARN] [1602822361.947480687]: No transform between frames /map and scanmatcher_frame available after 20.002481 seconds of waiting. This warning only prints once. Terminal 5: roslaunch mavros apm.launch fcu_url:=udp://:14855@ I have tried in this way, but nothing is poping up related to SLAM, can you help me, with rviz or please try to resolve my issue."
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),5,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen"," It’s just a warning. Sometimes just due to delay. Hector doesn’t require this tf, see https://wiki.ros.org/hector_mapping#Required_tf_Transforms  Without your launch files, tf tree it’s hard to say anything ROS related questions better ask on ROS answers "
120,ArduCopter SITL + Gazebo + ROS + SLAM( Simultaneous localisation and mapping),6,"My dear friends, I am Praveen, Currently doing my Internship research work. Can anyone have an idea of how can SLAM in a simulation environment with a Quadcopter Drone can be set up? I would like to do it in Hector SLAM in ROS Rviz visualization with SITL Simulation. Since I am at the beginner level I could not able to find the working method of SLAM in Simulation Environment using Drones in the Github or in the Internet. Can anyone please help me or guide me to simulate SLAM technique in the SITL environment for drones? Thank you in advance. Regards, Praveen",I cant able to do SLAM in SITL simulation with Ardupilot. Kindly anyone help me. Thank you
121,Sim_vehicle.sh: command not found,1,"Hello, I need help on the following error. Even though I followed the instructions properly, *, I get the following error: sim_vehicle.sh: command not found I added on my bashrc file the following: export PATH=/usr/lib/ccache:$PATH export PATH=$PATH:$HOME/ardupilot/Tools/autotest Can anyone please tell me where could be the error? Thanks",Thanks for the report. I will put a warning for the video. Please read the instructions instead of following the video.
121,Sim_vehicle.sh: command not found,2,"Hello, I need help on the following error. Even though I followed the instructions properly, *, I get the following error: sim_vehicle.sh: command not found I added on my bashrc file the following: export PATH=/usr/lib/ccache:$PATH export PATH=$PATH:$HOME/ardupilot/Tools/autotest Can anyone please tell me where could be the error? Thanks","Hello, I did follow the written instructions, not the video. Thank you for your response"
121,Sim_vehicle.sh: command not found,3,"Hello, I need help on the following error. Even though I followed the instructions properly, *, I get the following error: sim_vehicle.sh: command not found I added on my bashrc file the following: export PATH=/usr/lib/ccache:$PATH export PATH=$PATH:$HOME/ardupilot/Tools/autotest Can anyone please tell me where could be the error? Thanks",Try this: sim_vehicle.py
121,Sim_vehicle.sh: command not found,4,"Hello, I need help on the following error. Even though I followed the instructions properly, *, I get the following error: sim_vehicle.sh: command not found I added on my bashrc file the following: export PATH=/usr/lib/ccache:$PATH export PATH=$PATH:$HOME/ardupilot/Tools/autotest Can anyone please tell me where could be the error? Thanks",What’s the output of ls $HOME/ardupilot/Tools/autotest
121,Sim_vehicle.sh: command not found,5,"Hello, I need help on the following error. Even though I followed the instructions properly, *, I get the following error: sim_vehicle.sh: command not found I added on my bashrc file the following: export PATH=/usr/lib/ccache:$PATH export PATH=$PATH:$HOME/ardupilot/Tools/autotest Can anyone please tell me where could be the error? Thanks",Has something happened to the setup page?  If I go to * I can see a link to the video but no written instructions.
122,SITL or HITL for running and testing arducopter+real-hardware,1,"As a newbie on SITL/HITL, I just want to ask if the following scenary is possible … Environment simulator (wind conditions, etc) ==> (Arducopter firmware running on the real hardware) <==> GCS as GUI receiving MAVLink data and sending commands as in a real flight May be a stupid question, but haven’t got a clear idea about reading on wiki and docs TIA",HITL is not currently supported. But you can do exactly as you describe with ArduCopter running in software.
122,SITL or HITL for running and testing arducopter+real-hardware,2,"As a newbie on SITL/HITL, I just want to ask if the following scenary is possible … Environment simulator (wind conditions, etc) ==> (Arducopter firmware running on the real hardware) <==> GCS as GUI receiving MAVLink data and sending commands as in a real flight May be a stupid question, but haven’t got a clear idea about reading on wiki and docs TIA",Liking the look of the SITL testing. I will take a closer look very soon. Looks like it could be an invaluable aid for learning the ropes. *
123,Different orientation virtual rangefinders not receiving data,1,"Hi all, I added 5 virtual rangefinders with different orientation (left, right, down, forward and back) and it was updated in the parameter list using the steps here * with an additional RNGFNDx_ORIENT for each orientation. However, all the rangefinders are reading the same distance which corresponded to the down(default) rangefinder. How can I get the correct data for all the orientations? Also, there is only one function in dronekit-python (vehicle.rangefinder.distance) that reads the rangefinder distance which corresponds to the down rangefinder. Are there other functions to read this distance for all the different orientation? Kindly assist.","What STIL backed are you using? Built in SITL is just a flat earth so rangefinders other than down never see anything. Airsim supports lidar that you can is for proximity avoidance, there are a couple of others too."
123,Different orientation virtual rangefinders not receiving data,2,"Hi all, I added 5 virtual rangefinders with different orientation (left, right, down, forward and back) and it was updated in the parameter list using the steps here * with an additional RNGFNDx_ORIENT for each orientation. However, all the rangefinders are reading the same distance which corresponded to the down(default) rangefinder. How can I get the correct data for all the orientations? Also, there is only one function in dronekit-python (vehicle.rangefinder.distance) that reads the rangefinder distance which corresponds to the down rangefinder. Are there other functions to read this distance for all the different orientation? Kindly assist.",Thanks for your response. I am using APM SITL in Gazebo. I placed 4 walls around the copter(square fashion). I was  thinking the RNGFNDx_ORIENT determines the direction of the range.  Is there a way to add proximity sensors to detect forward range in other directions?
124,ArduPilot in WSL2 and Flight Gear issue,0,"Hi everybody, I’m new in this community and I’m so happy to being a part of this great community. I’m trying to use ArduPilot in my Windows machine with WSL2, I’ve done installation according to wiki and as far as I know it’s working fine in WSL2 environment, I can use “sim_vehicle.py --map --console” without any problems but I want to use the sitl with Flight Gear to see what’s happening in 3D env. By Mission Planner I can connect to sitl working in WSL2 and it works fine too, when it comes to Flight Gear it doesn’t connect to my sitl I think this is causing by the line in ‘fg_plane/quad_view.bat’     “–native-fdm=socket,in,10,5503,udp ^” How can I make FlightGear to listen WSL2 env IP over TCP, Mission Planner can connect to WSL2 IP created by VM itself “172.30.49.64:5760” vice versa. And there is another problem I thinh that’s causing by changes in WSL2 that’s I can’t connect to WSL2 through local network from my Jetson Nano. Interestingly I can’t even SSH to WSL2. I appriciate your help, thank you all ",
125,Throw Mode/Taking off from a moving base,0,If I wanted to have the aircraft stabilize mid air after being tossed. How should I approach this with ArduCopter? Sometimes the arming may happen on a boat (moving base and metallic) and the aircraft is bound to get compass variance and pre-flight check issues. All I want to do initially is have it stabilize some time after it is launched (e.g. remote switch). Any thoughts? Thanks!,
126,MAVProxy link 1 down on Erle-Robotics qlearn example,1,"Hey! I’m working on Ubuntu 18.04 ROS Melodic / Gazebo 9 MAVProxy, Ardupilot etc. up to date I’ve tested SITL<->Gazebo connection (with khancyr plugin) and everything seems to work fine. I try to make the Erle-Robotics (gym-gazebo) copter-hover-example work: * However, after a lot of time i’m stuck and it seems that there is no connection between gazebo and ArduCopter/MAVProxy. This examples calls ArduCopter and MAVProxy first and after that Gazebo with the Modell in pause-mode. Here are the Terminal outputs: Arducopter:  Set parameter SIM_SPEEDUP to 1.000000 Creating model Gazebo at speed 1.0 Home: -35.363261 149.165230 alt=584.000000m hdg=353.000000 Starting SITL Gazebo Bind 127.0.0.1:9003 for SITL in Setting Gazebo interface to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection … Connection on serial port 0 setup:314: bad header in setup - erasing bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763  Terminal output (slightly shortened for the overview):  … NODES / gazebo (gazebo_ros/gzserver) gazebo_gui (gazebo_ros/gzclient) mavros (mavros/mavros_node) spawn_erlecopter (gazebo_ros/spawn_model) auto-starting new master process[master]: started with pid [10806] ROS_MASTER_URI=http://stephan-Z:14587/ setting /run_id to 8a7dde86-8518-11e9-971e-50e54953a336 Taking off in in 10s process[rosout-1]: started with pid [10830] started core service [/rosout] process[mavros-2]: started with pid [10839] process[spawn_erlecopter-3]: started with pid [10840] process[gazebo-4]: started with pid [10841] process[gazebo_gui-5]: started with pid [10851] [ INFO] [1559467607.976384085]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1559467607.980572379]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1559467607.981766141]: udp0: Remote address: 0.0.56.219:14550 … Taking off in in 3s Taking off in in 2s Taking off in in 1s Waiting for mavros…  And finally the output from SITL (in this case its called sim_vehicle.py but it should be SITL, right?): * Any hint for me? Thanks in advance.","Hey, could you please share the solution, if you got one? I was too trying to connect Webots with MavLink, but the same error pops up."
127,How can I trigger GCS failsafe in SITL?,1,"Hi everybody. I want to test gcs failsafe in SITL, but I don’t know how can I trigger this. In the doc, GCS failsafe is triggered  The operator turns off or otherwise disconnects the GCS The copter travels beyond the range of the GCS telemetry radios The GCS telemetry radio on either end loses power Wires connecting the GCS telemetry radio to the autopilot or ground equipment become  but, I cannot turn off my mavproxy and simulator… rc failsafe and ekf failsafe can trigger using simulator parameter. Is there any other options to trigger GCS failsafe like rc failsafe or ekf failsafe? thank you for your attention ","hello, simply set heartbeat 0 to stop mavproxy to send its heartbeat will trigger the GCS failsafe !"
127,How can I trigger GCS failsafe in SITL?,2,"Hi everybody. I want to test gcs failsafe in SITL, but I don’t know how can I trigger this. In the doc, GCS failsafe is triggered  The operator turns off or otherwise disconnects the GCS The copter travels beyond the range of the GCS telemetry radios The GCS telemetry radio on either end loses power Wires connecting the GCS telemetry radio to the autopilot or ground equipment become  but, I cannot turn off my mavproxy and simulator… rc failsafe and ekf failsafe can trigger using simulator parameter. Is there any other options to trigger GCS failsafe like rc failsafe or ekf failsafe? thank you for your attention ","wow, you gave me easy solution."
128,How can I get drone's position from simulator?,1,"Hi, recently I’m playing with ArduCopter on SITL. When I set SIM_GPS_DISABLE to 1, SITL showing two drone image, (orange and red maybe). So I want to know real position of drone from simulator. Is there any API or Doc about this? Thank you for reading this.",type watch global_position_int on SITL. It will show GLOBAL_POSITION_INT mavlink message. And what I don’t understand is - why are you setting SIM_GPS_DISABLE to 1?
128,How can I get drone's position from simulator?,2,"Hi, recently I’m playing with ArduCopter on SITL. When I set SIM_GPS_DISABLE to 1, SITL showing two drone image, (orange and red maybe). So I want to know real position of drone from simulator. Is there any API or Doc about this? Thank you for reading this.","I want to test EFK failsafe. When gps turn off, I cannot trust drone’s calculating position. so I want to know simulator’s information. I test your answer and it looks like great  Thank you for answering."
128,How can I get drone's position from simulator?,3,"Hi, recently I’m playing with ArduCopter on SITL. When I set SIM_GPS_DISABLE to 1, SITL showing two drone image, (orange and red maybe). So I want to know real position of drone from simulator. Is there any API or Doc about this? Thank you for reading this.","*  In MAVProxy you can use some settings on the map module to show different positions. Try map set to see what you have available: * “simpos” comes from the mavlink SIMSTATE message, which is the simulated vehicle position (as opposed to GLOBAL_POSITION_INT, which is the vehicle’s best guess as to where it is). They come up in different colored aircraft, left as an exercise to the reader to memorise which is which "
128,How can I get drone's position from simulator?,4,"Hi, recently I’m playing with ArduCopter on SITL. When I set SIM_GPS_DISABLE to 1, SITL showing two drone image, (orange and red maybe). So I want to know real position of drone from simulator. Is there any API or Doc about this? Thank you for reading this.","Thank you for detailed answer. In your answer, you mentioned two positional values(SIMSTATE and GLOBAL_POSITION_INT). You said GLOBAL_POSITION_INT is vehicle’s best guess position, so I cannot get simulated position using watch global_position_int, is it right?"
129,Communication error when starting sitl,1,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Hi, i have the same Problem! Do you found some solutions?"
129,Communication error when starting sitl,2,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Its not exactly a permanent solution but I did figure something out. Disable firewall, and in your settings.json, if the default IP address doesn’t work for LocalHostIP and UdpIP, set them to 0.0.0.0. In some cases it does manage to open the MAVProxy, Console and Map, but the software running airsim(such as UE4) gets frozen. In this instance you may have to wait for up to 5 minutes if it doesn’t start running. If that happens, make sure your Graphics memory or your RAM isn’t too close to being full."
129,Communication error when starting sitl,3,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *",Hi and thanks for your reply! The solution for my problem was to start the situation and mavproxy separately from one other. Because the simulation takes more time to start as mavproxy. And mavproxy got time out in this time.
129,Communication error when starting sitl,4,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *",Oh alright. So do you mean to start the airsim simulation first and then start mavproxy?
129,Communication error when starting sitl,5,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Yes, at first start the simulator with the parameter - - no-mavproxy. When the simulator started ready, then you can start mavproxy in the separate terminal with the same parameters like it done if you were started mavproxy with simulator together."
129,Communication error when starting sitl,6,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Oh okay, I tried this out but I still get that error sometimes. After starting the simulation without mavproxy, did you start mavproxy using something like cygwin/WSL/some similar environment, or did you open MAVProxy directly from your system?"
129,Communication error when starting sitl,7,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *",Anything new with this? I have the same problem and I am not sure how to make it work… I start: simvehicle.py -v ArduCopter -f airsim-copter --map --console but it hangs up with “No connection could be made”. I am also using TCP:127.0.0.1:5760. What is this ip and port for? I feel like it should be something else. I will only get this message if I do “airsim-copter” doing “quad” starts up everything fine… Any help is appreciated!
129,Communication error when starting sitl,8,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","The IP is to establish a connection between the MAVProxy and Airsim, they need t be connected to the same IP address. You can find the IP using LocalHostIP on command prompt, make sure that the IP Address defined in your .json settings file for airsim is the same as that which you’ve connected to. You can also try 0.0.0.0 if you’re unsure of what to use. It also appears that copter 3.6 has an issue relating to the “airsim-copter” frame in some instances. Try using the latest version of copter, if you aren’t doing that already."
129,Communication error when starting sitl,9,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Got it! thanks *. I can run sim_vehicle.py --map --console sim_vehicle.py -v ArduCopter --map --console and they work well. The maps and console pops up and I can hook up Mission planner and direct the drone to takeoff and these things. However, as soon as I try to bring airsim into the loop I get the dreaded I have tried changing the settings.json for airsim to set the LocalHostIp and UdpIp to 127.0.0.1 and also tried 0.0.0.0. I am running the blocks airsim binary to simplify things. Now, apart from the connection error on mavproxy, depending on which IP address i use for the settings.json I get a different behavior on airsim. 127.0.0.1 results in airsim starting correctly and showing the drone in 3rd person view. It is not frozen, but there is no connection to SITL. I can open/close menu and change views. If I use 0.0.0.0 airsim freezes on startup and will never resume. In fact, task manager says that it is non-responsive. The SITL guide says this can happen, but will go away as soon as maxproxy connects, but in my case mavproxy is not connecting so it is stuck. I have tested this procedure on two different systems running slightly different builds of Win10, but pretty up-to-date with the exact same behavior. I am also using: Python 3.6.5 Arducopter 3.6.11 MavProxy 1.8.6 I will try the whole thing again, but following your suggestion of going with the latest Arducopter version. Any other suggestions? Thanks a lot!!"
129,Communication error when starting sitl,10,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *",Finally got it working by updating the ArduCopter code as * suggested. Thanks!!!
129,Communication error when starting sitl,11,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","* do you happen to you more about why copter 3.6 will not work with AirSim in SITL? I am trying to figure out if this is a Windows only issue or firmware issue itself and how would I go about fixing this. I have it working on copter 4, but I use a modified 3.6. I am hoping that maybe you can point me in the right direction?"
129,Communication error when starting sitl,12,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","* I think it has something to do with the process being timed out. The simulation starts much quicker than the time it takes to initialize mavproxy. I believe this would probably only be an issue with windows and specifically with cygwin, which is known to have communication issues, might not be the same with WSL."
129,Communication error when starting sitl,13,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","* I see. I was reading the previous posts where  * mentions this, but I am having a hard time understanding what he did…   Start AirSim using either the binary or from source (Unreal Editor). This will start the simulator (e.g. see a drone on the ground)   Start the python script to interface with AirSim and ArduCopter, but without mavproxy: sim_vehicle.py -v ArduCopter -f airsim-copter --console --map --no-mav-proxy   start mavproxy in a separate terminal. This is the part that confuses me. For me to start mavproxy I need to start mavproxy.exe in a command line window which I can do just fine, but what parameters am I suppose to use so that it connects to the other components?  "
129,Communication error when starting sitl,14,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","* MAVProxy is designed to be able to pickup the IP address to which an application is connected, so ideally it would pick up your LocalHostIP based on what was set in your settings.json file(this would typically be 127.0.0.1 or 0.0.0.0).Once it does this it loads the default parameters for a quadcopter as defined by ardupilot, but you can load your own parameters defined by a ground control station. So the connection depends upon what your LocalHostIP and UDPip are set to in your airsim settings."
129,Communication error when starting sitl,15,"I have managed to install cygwin, MAVProxy and to get airsim running on Unreal Engine, and have also been able to use MAVProxy to control a drone on Airsim. I wanted to use a different board configuration and change the physics a little bit, so I imported a new ardupilot folder and rebuilt the project. However, when I run the SITL command on cygwin ,it results in [WinError 10061] No connection could be made because the target machine actively refused it sleeping, as shown below. I also tried changing the udpip to 0.0.0.0, but it still displayed the same error. Could someone please help me with this issue? *","Hi, Just saw this topic. I haven’t tested Cygwin till now for using ArduPilot, used WSL to build and run SITL while AirSim runs on Windows. Haven’t had any problems with WSL 1 till now. Note that for WSL2, you’ll need to follow the steps mentioned here, since it uses a different network space. *  Hope this helps!"
130,"SITL and hexacopter, no YAW when changing frame to heaxcopter",0,"hi all, im trying to run SITL  with a hexacopter. when i change the frame to hexacopter, the YAW is not responding. and when i change it back to quad the YAW works fine. running ArduCopter V4.0.3. here is my command: ./arducopte -S -I0 --home 31.8009655,34.6343780,584,353 --model “x” --speedup1 --defaults /home/aeroguardian/AeroGuardian/apm/ardupilot/Tools/autotest/default_params/copter-hexa.parm",
131,SITL Protocol for Custom Simulators,1,"Hi all, I’m looking into possibly interfacing ArduCopter SITL with a custom, in-house developed vehicle simulator (our simulator handles flight dynamics and world/environment modelling and can generate real-time simulated sensor state).  Unfortunately I have little experience with ArduCopter and was hoping someone here could point me towards documentation or code examples regarding the simulator communication protocols. After a quick search of the forum, it looks like some people have attached custom simulators using specialized protocols for other sims, e.g., Gazebo (*).  Is there a standard or preferred simulator interface for ArduCopter similar to PX4’s simulator Mavlink API (*)? (Search also suggests that HIL is no longer supported in current ArduCopter releases, correct?) Thanks!","I would recommend the JSON backed, we have python and MATLAB (and Simulink) examples that used it.Your correct, HITL is no longer supported. We also have a Simulation channel over on Discord, *"
131,SITL Protocol for Custom Simulators,2,"Hi all, I’m looking into possibly interfacing ArduCopter SITL with a custom, in-house developed vehicle simulator (our simulator handles flight dynamics and world/environment modelling and can generate real-time simulated sensor state).  Unfortunately I have little experience with ArduCopter and was hoping someone here could point me towards documentation or code examples regarding the simulator communication protocols. After a quick search of the forum, it looks like some people have attached custom simulators using specialized protocols for other sims, e.g., Gazebo (*).  Is there a standard or preferred simulator interface for ArduCopter similar to PX4’s simulator Mavlink API (*)? (Search also suggests that HIL is no longer supported in current ArduCopter releases, correct?) Thanks!","Hello, Adding a new backend is quite easy. You can look at other backend into libraries/SITL directory (like Gazebo for example). But most use the old custom fdm through raw socket… It works but it is a pain to maintain. I also recommend you to based you backend on the new JSON backend. It is more flexible and quite easy to understand. Morse and AirSim backend also use the json messaging so it is already well tested method !"
131,SITL Protocol for Custom Simulators,3,"Hi all, I’m looking into possibly interfacing ArduCopter SITL with a custom, in-house developed vehicle simulator (our simulator handles flight dynamics and world/environment modelling and can generate real-time simulated sensor state).  Unfortunately I have little experience with ArduCopter and was hoping someone here could point me towards documentation or code examples regarding the simulator communication protocols. After a quick search of the forum, it looks like some people have attached custom simulators using specialized protocols for other sims, e.g., Gazebo (*).  Is there a standard or preferred simulator interface for ArduCopter similar to PX4’s simulator Mavlink API (*)? (Search also suggests that HIL is no longer supported in current ArduCopter releases, correct?) Thanks!","The JSON interface looks like exactly what I was looking for.  There’s a line in the readme.md that brings up one additional question: “The SIM_RATE_HZ should value be kept above the vehicle loop rate, by default this 400hz on copter and quadplanes and 50 hz on plane and rover.” Does that mean those are minimum recommended update rates for copters and fixed wing respectively?"
131,SITL Protocol for Custom Simulators,4,"Hi all, I’m looking into possibly interfacing ArduCopter SITL with a custom, in-house developed vehicle simulator (our simulator handles flight dynamics and world/environment modelling and can generate real-time simulated sensor state).  Unfortunately I have little experience with ArduCopter and was hoping someone here could point me towards documentation or code examples regarding the simulator communication protocols. After a quick search of the forum, it looks like some people have attached custom simulators using specialized protocols for other sims, e.g., Gazebo (*).  Is there a standard or preferred simulator interface for ArduCopter similar to PX4’s simulator Mavlink API (*)? (Search also suggests that HIL is no longer supported in current ArduCopter releases, correct?) Thanks!","yep! Ideally, if you can have a 1000hz loop rate that is good, but 800 for copter is fine too !"
132,How to publish the virtual gazebo camera feed to a ROS topic in SITL?,1,"I want to publish the Gazebo’s virtual camera stream to a ROS topic. The documentation page says that this is done using the “ros_gazebo_camera” package. However, I can’t find this package anywhere. Hence, I think this info. is outdated or false. doc link: * Is there any workaround to publish the virtual camera feed to a ROS topic? I’m trying this with the default SITL “iris_demo” model.","I’m looking into it too, did you find anything?"
132,How to publish the virtual gazebo camera feed to a ROS topic in SITL?,2,"I want to publish the Gazebo’s virtual camera stream to a ROS topic. The documentation page says that this is done using the “ros_gazebo_camera” package. However, I can’t find this package anywhere. Hence, I think this info. is outdated or false. doc link: * Is there any workaround to publish the virtual camera feed to a ROS topic? I’m trying this with the default SITL “iris_demo” model.","No, I migrated to PX4 and MAVSDK which were much easier and better documented tbh. I also didn’t have to use ROS in order to use the virtual camera feed. I’ve used it to do the following project: *"
133,Question about EKF Failsafe Action,1,"Hi, everyone. I’m newbie of Ardupilot. Recently I’m playing with ArduCopter on SITL and I have a question about EKF failsafe. In the document, EKF failsafe offers Land, AltHold, and Land even in stabilize. * When I trigger EKF failsafe using param set SIM_GPS_DISABLE 1, copter always hit the ground more then 2 m/s speed. * Land option looks like more safe because it always under 1 m/s. But AltHold option looks like falling of drone for me. Could you please explain why it is normal and cannot hold the alt? Thank you for reading this ",If a failsafe happens the drone no longer knows here it is. It needs to land as soon as possible. By using altholt you force it to be in the air. At some point it no longer can stabilize the copter and it falls of the sky. AFAIK That is why it hits the ground harder in AltHold than in land.
133,Question about EKF Failsafe Action,2,"Hi, everyone. I’m newbie of Ardupilot. Recently I’m playing with ArduCopter on SITL and I have a question about EKF failsafe. In the document, EKF failsafe offers Land, AltHold, and Land even in stabilize. * When I trigger EKF failsafe using param set SIM_GPS_DISABLE 1, copter always hit the ground more then 2 m/s speed. * Land option looks like more safe because it always under 1 m/s. But AltHold option looks like falling of drone for me. Could you please explain why it is normal and cannot hold the alt? Thank you for reading this ","Thank you for answering my question. I agree quick landing is best option when failsafe is occurred. My question is why AltHold option is provided if drone cannot stabilize on the EKF failsafe. If copter cannot stabilize without GPS, I think it is better to remove AltHold option in the EKF failsafe option. Please let me know what I misunderstand, and any background history. Thanks "
133,Question about EKF Failsafe Action,3,"Hi, everyone. I’m newbie of Ardupilot. Recently I’m playing with ArduCopter on SITL and I have a question about EKF failsafe. In the document, EKF failsafe offers Land, AltHold, and Land even in stabilize. * When I trigger EKF failsafe using param set SIM_GPS_DISABLE 1, copter always hit the ground more then 2 m/s speed. * Land option looks like more safe because it always under 1 m/s. But AltHold option looks like falling of drone for me. Could you please explain why it is normal and cannot hold the alt? Thank you for reading this ","I found answer about this. * had same problem about this. It was not EKF failsafe problem, but althold problem. I can check the well failsafe action with EKF failsafe. Thanks again * !"
134,SITL crash when connecting Mission Planner,1,"I’ve been using the SITL for Copter 3.5.2 for some time now and am testing the latest version, 4.0.3.  I have a custom c++ interface that I use to connect to the SITL which has worked well with both versions of the SITL, however when I connect Mission Planner to the 4.0.3 version of the SITL, the SITL crashes. When I have my software connected to port 5760, it crashes as soon as I connect mission planner to 5763. It  also without my software connected / running when Mission Planner connects to port 5760. The SITL does not crash when I only connect my interface to it. In the 3.5.2 version of SITL I can connect both my interface and mission planner without issue. This is the error that is printed when it crashes: * The segv_arducopter.8528.out file then just contains: * I hope and assume this is unique to the SITL build–I assume that if a bug this serious had occurred in hardware it would’ve been found very early on in beta testing. The binary for the SITL I was running was obtained from: * Also, when fetching that, I noticed that there was also a SITL_arm_linux_gnueabihf version which I think is awesome since as far as I knew the SITL wasn’t supported on ARM. What would it take to port it to 64 bit arm (aarch64)?","Hello, That is interesting ! I have notice some issue with SITL and MP on the FTP request. I guess we have some more issue … About SITL version, it is working on ARM platform from long time … we just don’t used to provide prebuild binaries. But you could totally compile it yourself"
135,New Frame Testing in Sitl,0,"Hey everyone, I’m trying to make my own frame and test it in Sitl first. I’ve made a new frame class and frame type in the file “AP_MotorsMatrix” and also add this frame class and frame type to the file “AP_Motor_class”. Then, I’ve edited the file “vehicleinfo.py” to add my model and also made a new .parm file in the folder “ardupilot/Tools/autotest/default_params” (copied the .parm from copter with the new name and changed the frame type and frame class). When I try to launch my model with Sitl, he tell me that he doesn’t found my model. So I’ve tried to add model “+” to see if it help, but not much. My questions are: How do you make this “model” from Sitl? Is it different from frame type and frame class? How can I configure the .parm file? Is there any tutorial out there about this topic? I’ve only found the “full parameter list” from ArduCopter and ArduPlane so far. Here are the file I’ve modified. * (50.1 KB) * (13.4 KB) * (15.5 KB) * (2.0 KB) Thank you for your help.",
136,Can SITL simulate modified code and physical model?,1,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!",yes in all SITL and yes in realflight
136,Can SITL simulate modified code and physical model?,2,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!",* * Does it mean the physical model I mentioned above can’t be simulated in SITL?
136,Can SITL simulate modified code and physical model?,3,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!",it can in SITL using realflight but not in the built in SITL (not without getting into the code anyway)
136,Can SITL simulate modified code and physical model?,4,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!",Got it.Thanks a lot!
136,Can SITL simulate modified code and physical model?,5,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!","I have anothor question, where is the physical model when we use the mavproxy and SITL without realflight."
136,Can SITL simulate modified code and physical model?,6,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!","In the main code, this is copter, there is are files for several different vehicle types *"
136,Can SITL simulate modified code and physical model?,7,"Hello to everybody,we intend to use SITL to simulate the real flight but I have a few questions: 1.we made some changes to the code,basically in the attitude control library and the motors output.Is it possible for SITL to simulate the effect of our modification? 2.Does SITL simulate the physical model of the vehicle, like providing the adjustable parameters of the weight,the size of propella etc.? I will appreciate it if anyone could help!",thanks for your reply and I will read it carefully
137,How does ground radar exclude tracking your drone?,1,"Howdy all, First, please forgive me if this is the wrong location to post this, I am posting this same question in ArduCopter/Simulation, GCS/Mission Planner, GCS/MAVLink, and GCS/MAVProxy just in case, because I can’t tell where the most appropriate place is. Question: What methods/options are available to filter out radar data that is tracking the location of the drone you are controlling so that it doesn’t think it’s on a collision course with itself? Example: I have a radar system setup immobile on the ground, as opposed to on the frame of the drone itself, so I can send radar data as if it were coming from ADSB, and sent via the MAVLink protocol. Let’s say this radar is tracking 3 different drones right now, one of which is the drone you are controlling. You want to send the index of drones (identical to the one created in ADSP.cpp, but instead of generated via ADSB, it’s generated from radar data and external calculations) to your drone so that it can perform the proper evasive maneuvers if necessary. Is there a way that I can either reliably keep the drone from thinking there is an obstacle at it’s exact location? My thoughts/possible solutions:   Filter out drone information from even being sent by implementing some form of conditional, like “if obstacle has heading, location, and velocity within 10% of drone’s known heading, location, and velocity (hdv), erase radar message.” This way, that specific radar data is never even sent to the drone. But, a potential problem could be that a drone with a very similar hdv is ignored and could lead to a crash.   Similar to n.1, but instead, before the mission starts, place the drone near the radar and begin tracking it without sending any data. This way, the radar will assign the drone it’s uuid and obstacle tracking tag. Once that is established, tell the transmitter to not send any data with the drone’s known tag. Problem: I’m not even sure if this is doable.   Some way to give the hdv message from the radar that tracks your drone’s location a special tag so that it knows that message is refering to itself? I personally think this would be the most useful, because that way the drone has it’s own body reference frame/relative location from it’s onboard sensors, as well as it’s global reference frame/global location from the stationary radar. So essentially the message would have some kind of tag saying “hey, don’t freak out, this is not an obstacle, just your own hdv.” Problem: same as n.2, I don’t know if this is even possible, or how to do it. Does ArduPilot have some code in place to receive external radar messages and know which vehicle being tracked is actually itself? Is there a program that will match/convert/compare relative hdv’s to global hdv’s?   Same as n.1, except the decision is made by the drone, not the ground station, and all messages are sent, nothing is excluded.   Finally, what is what I’m trying to do even called? What do I google? I’m having some difficulty trying to research this, but it must be a very common problem. What do y’all think of my tentative thoughts? I’d absolutely love to hear back, get a different perspective and learn something! I’m quite lost and would be very appreciate of all the help I can get!","The simplest solution would be for your sensor to correlate the self-detection and not send it. As you have a telemetry link this should be easy enough. * might know more about the specifics of the ADSB implementation, and what might need to be changed within ArduPilot to do that filtering onboard ."
137,How does ground radar exclude tracking your drone?,2,"Howdy all, First, please forgive me if this is the wrong location to post this, I am posting this same question in ArduCopter/Simulation, GCS/Mission Planner, GCS/MAVLink, and GCS/MAVProxy just in case, because I can’t tell where the most appropriate place is. Question: What methods/options are available to filter out radar data that is tracking the location of the drone you are controlling so that it doesn’t think it’s on a collision course with itself? Example: I have a radar system setup immobile on the ground, as opposed to on the frame of the drone itself, so I can send radar data as if it were coming from ADSB, and sent via the MAVLink protocol. Let’s say this radar is tracking 3 different drones right now, one of which is the drone you are controlling. You want to send the index of drones (identical to the one created in ADSP.cpp, but instead of generated via ADSB, it’s generated from radar data and external calculations) to your drone so that it can perform the proper evasive maneuvers if necessary. Is there a way that I can either reliably keep the drone from thinking there is an obstacle at it’s exact location? My thoughts/possible solutions:   Filter out drone information from even being sent by implementing some form of conditional, like “if obstacle has heading, location, and velocity within 10% of drone’s known heading, location, and velocity (hdv), erase radar message.” This way, that specific radar data is never even sent to the drone. But, a potential problem could be that a drone with a very similar hdv is ignored and could lead to a crash.   Similar to n.1, but instead, before the mission starts, place the drone near the radar and begin tracking it without sending any data. This way, the radar will assign the drone it’s uuid and obstacle tracking tag. Once that is established, tell the transmitter to not send any data with the drone’s known tag. Problem: I’m not even sure if this is doable.   Some way to give the hdv message from the radar that tracks your drone’s location a special tag so that it knows that message is refering to itself? I personally think this would be the most useful, because that way the drone has it’s own body reference frame/relative location from it’s onboard sensors, as well as it’s global reference frame/global location from the stationary radar. So essentially the message would have some kind of tag saying “hey, don’t freak out, this is not an obstacle, just your own hdv.” Problem: same as n.2, I don’t know if this is even possible, or how to do it. Does ArduPilot have some code in place to receive external radar messages and know which vehicle being tracked is actually itself? Is there a program that will match/convert/compare relative hdv’s to global hdv’s?   Same as n.1, except the decision is made by the drone, not the ground station, and all messages are sent, nothing is excluded.   Finally, what is what I’m trying to do even called? What do I google? I’m having some difficulty trying to research this, but it must be a very common problem. What do y’all think of my tentative thoughts? I’d absolutely love to hear back, get a different perspective and learn something! I’m quite lost and would be very appreciate of all the help I can get!","Thank you so much for your reply! Do you know of a way to correlate the self-detection? Is that something most radars (in this case echodyne) are capable of doing, is it a code, is it a feature in autopilot? What am I looking for when trying to correlate? What’s the identifying feature I should be trying to match? How do I let the radar know that the vehicle it’s tracking should not be tracked? I think synching/comparing gps data would be the way to go. The drone knows where it is with gps, and the radar can figure out the gps coordinate of each obstalce. If those two values are within a close enough bound, they should be the same. From there, it just has to remember that vehicle id/track. Is that kinda what you had in mind? Thank you as well for the lead with MagicRuB!"
137,How does ground radar exclude tracking your drone?,3,"Howdy all, First, please forgive me if this is the wrong location to post this, I am posting this same question in ArduCopter/Simulation, GCS/Mission Planner, GCS/MAVLink, and GCS/MAVProxy just in case, because I can’t tell where the most appropriate place is. Question: What methods/options are available to filter out radar data that is tracking the location of the drone you are controlling so that it doesn’t think it’s on a collision course with itself? Example: I have a radar system setup immobile on the ground, as opposed to on the frame of the drone itself, so I can send radar data as if it were coming from ADSB, and sent via the MAVLink protocol. Let’s say this radar is tracking 3 different drones right now, one of which is the drone you are controlling. You want to send the index of drones (identical to the one created in ADSP.cpp, but instead of generated via ADSB, it’s generated from radar data and external calculations) to your drone so that it can perform the proper evasive maneuvers if necessary. Is there a way that I can either reliably keep the drone from thinking there is an obstacle at it’s exact location? My thoughts/possible solutions:   Filter out drone information from even being sent by implementing some form of conditional, like “if obstacle has heading, location, and velocity within 10% of drone’s known heading, location, and velocity (hdv), erase radar message.” This way, that specific radar data is never even sent to the drone. But, a potential problem could be that a drone with a very similar hdv is ignored and could lead to a crash.   Similar to n.1, but instead, before the mission starts, place the drone near the radar and begin tracking it without sending any data. This way, the radar will assign the drone it’s uuid and obstacle tracking tag. Once that is established, tell the transmitter to not send any data with the drone’s known tag. Problem: I’m not even sure if this is doable.   Some way to give the hdv message from the radar that tracks your drone’s location a special tag so that it knows that message is refering to itself? I personally think this would be the most useful, because that way the drone has it’s own body reference frame/relative location from it’s onboard sensors, as well as it’s global reference frame/global location from the stationary radar. So essentially the message would have some kind of tag saying “hey, don’t freak out, this is not an obstacle, just your own hdv.” Problem: same as n.2, I don’t know if this is even possible, or how to do it. Does ArduPilot have some code in place to receive external radar messages and know which vehicle being tracked is actually itself? Is there a program that will match/convert/compare relative hdv’s to global hdv’s?   Same as n.1, except the decision is made by the drone, not the ground station, and all messages are sent, nothing is excluded.   Finally, what is what I’m trying to do even called? What do I google? I’m having some difficulty trying to research this, but it must be a very common problem. What do y’all think of my tentative thoughts? I’d absolutely love to hear back, get a different perspective and learn something! I’m quite lost and would be very appreciate of all the help I can get!","Yes: so long as you have an independent way of knowing the locations of your own drones, and your radar gives a 3D fix on detections, you can tag or exclude the self-detections at the ground end (historically referred to as “white listing”, although it’s probably prudent to find a new term)."
138,RTT too High For Timesync with SITL (MAVROS),1,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",Change timesync_rate to 0.0
138,RTT too High For Timesync with SITL (MAVROS),2,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",Will that negatively affect other parts of the system?
138,RTT too High For Timesync with SITL (MAVROS),3,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",Did setting timesync to 0 solve your problem? I am getting the same warning and I have a feeling it is affecting offboard control (not sure). Let me know if you solved it. Thank you
138,RTT too High For Timesync with SITL (MAVROS),4,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",It did remove the warning.  It hasn’t seemed to negatively affect anything for the time being.
138,RTT too High For Timesync with SITL (MAVROS),5,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",Please advise.  How do I set the timesync_rate?  (Sorry learning ROS)
138,RTT too High For Timesync with SITL (MAVROS),6,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.","I changed it in the apm_config.yaml in the mavros folder, search for “timesync”."
138,RTT too High For Timesync with SITL (MAVROS),7,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.","I stumbled on this problem too in my system. In case anyone is still wondering, mavros is actually setting a parameter in that yaml file. So, if you want to override it without editing the yaml file, you can use the <param> tag in your launch file. For example: <param name=""/mavros/conn/timesync_rate"" value=""0.0""/>"
138,RTT too High For Timesync with SITL (MAVROS),8,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.",Doesn’t that fully disable the time synchronization between the two systems? What are the side-effects?
138,RTT too High For Timesync with SITL (MAVROS),9,"I have been using Ardupilot SITL with Mavros for a few months now.  However, after doing some package upgrades I am now getting the error: [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. When launching Mavros to connect to Ardupilot SITL. Does anyone know how to solve this issue? Thanks! Here is my window: Done checking log file disk usage. Usage is <1GB. started roslaunch server * SUMMARY CLEAR PARAMETERS  /mavros/  PARAMETERS  /mavros/cmd/use_comp_id_system_control: False /mavros/conn/heartbeat_mav_type: ONBOARD_CONTROLLER /mavros/conn/heartbeat_rate: 1.0 /mavros/conn/system_time_rate: 1.0 /mavros/conn/timeout: 10.0 /mavros/conn/timesync_rate: 10.0 /mavros/distance_sensor/rangefinder_pub/field_of_view: 0.0 /mavros/distance_sensor/rangefinder_pub/frame_id: lidar /mavros/distance_sensor/rangefinder_pub/id: 0 /mavros/distance_sensor/rangefinder_pub/send_tf: False /mavros/distance_sensor/rangefinder_pub/sensor_position/x: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/y: 0.0 /mavros/distance_sensor/rangefinder_pub/sensor_position/z: -0.1 /mavros/distance_sensor/rangefinder_sub/id: 1 /mavros/distance_sensor/rangefinder_sub/orientation: PITCH_270 /mavros/distance_sensor/rangefinder_sub/subscriber: True /mavros/fake_gps/eph: 2.0 /mavros/fake_gps/epv: 2.0 /mavros/fake_gps/fix_type: 3 /mavros/fake_gps/geo_origin/alt: 408.0 /mavros/fake_gps/geo_origin/lat: 47.3667 /mavros/fake_gps/geo_origin/lon: 8.55 /mavros/fake_gps/gps_rate: 5.0 /mavros/fake_gps/mocap_transform: True /mavros/fake_gps/satellites_visible: 5 /mavros/fake_gps/tf/child_frame_id: fix /mavros/fake_gps/tf/frame_id: map /mavros/fake_gps/tf/listen: False /mavros/fake_gps/tf/rate_limit: 10.0 /mavros/fake_gps/tf/send: False /mavros/fake_gps/use_mocap: True /mavros/fake_gps/use_vision: False /mavros/fcu_protocol: v2.0 /mavros/fcu_url: udp://127.0.0.1:1… /mavros/gcs_url: udp://@localhost  /mavros/global_position/child_frame_id: base_link /mavros/global_position/frame_id: map /mavros/global_position/gps_uere: 1.0 /mavros/global_position/rot_covariance: 99999.0 /mavros/global_position/tf/child_frame_id: base_link /mavros/global_position/tf/frame_id: map /mavros/global_position/tf/global_frame_id: earth /mavros/global_position/tf/send: False /mavros/global_position/use_relative_alt: True /mavros/image/frame_id: px4flow /mavros/imu/angular_velocity_stdev: 0.000349065850399 /mavros/imu/frame_id: base_link /mavros/imu/linear_acceleration_stdev: 0.0003 /mavros/imu/magnetic_stdev: 0.0 /mavros/imu/orientation_stdev: 1.0 /mavros/local_position/frame_id: map /mavros/local_position/tf/child_frame_id: base_link /mavros/local_position/tf/frame_id: map /mavros/local_position/tf/send: False /mavros/local_position/tf/send_fcu: False /mavros/mission/pull_after_gcs: True /mavros/mocap/use_pose: True /mavros/mocap/use_tf: False /mavros/odometry/estimator_type: 3 /mavros/odometry/frame_tf/desired_frame: ned /mavros/plugin_blacklist: ['actuator_contro… /mavros/plugin_whitelist: [] /mavros/px4flow/frame_id: px4flow /mavros/px4flow/ranger_fov: 0.118682389136 /mavros/px4flow/ranger_max_range: 5.0 /mavros/px4flow/ranger_min_range: 0.3 /mavros/safety_area/p1/x: 1.0 /mavros/safety_area/p1/y: 1.0 /mavros/safety_area/p1/z: 1.0 /mavros/safety_area/p2/x: -1.0 /mavros/safety_area/p2/y: -1.0 /mavros/safety_area/p2/z: -1.0 /mavros/setpoint_accel/send_force: False /mavros/setpoint_attitude/reverse_thrust: False /mavros/setpoint_attitude/tf/child_frame_id: target_attitude /mavros/setpoint_attitude/tf/frame_id: map /mavros/setpoint_attitude/tf/listen: False /mavros/setpoint_attitude/tf/rate_limit: 50.0 /mavros/setpoint_attitude/use_quaternion: False /mavros/setpoint_position/mav_frame: LOCAL_NED /mavros/setpoint_position/tf/child_frame_id: target_position /mavros/setpoint_position/tf/frame_id: map /mavros/setpoint_position/tf/listen: False /mavros/setpoint_position/tf/rate_limit: 50.0 /mavros/setpoint_velocity/mav_frame: LOCAL_NED /mavros/startup_px4_usb_quirk: False /mavros/sys/disable_diag: False /mavros/sys/min_voltage: 10.0 /mavros/target_component_id: 1 /mavros/target_system_id: 1 /mavros/tdr_radio/low_rssi: 40 /mavros/time/time_ref_source: fcu /mavros/time/timesync_avg_alpha: 0.6 /mavros/time/timesync_mode: MAVLINK /mavros/vibration/frame_id: base_link /mavros/vision_pose/tf/child_frame_id: vision_estimate /mavros/vision_pose/tf/frame_id: map /mavros/vision_pose/tf/listen: False /mavros/vision_pose/tf/rate_limit: 10.0 /mavros/vision_speed/listen_twist: True /mavros/vision_speed/twist_cov: True /rosdistro: kinetic /rosversion: 1.12.14  NODES / mavros (mavros/mavros_node) auto-starting new master process[master]: started with pid [6908] ROS_MASTER_URI=http://localhost:11311 setting /run_id to b86732d0-2a7c-11e9-9d92-7cdd90a327fc process[rosout-1]: started with pid [6921] started core service [/rosout] process[mavros-2]: started with pid [6939] [ INFO] [1549505077.666397844]: FCU URL: udp://127.0.0.1:14551@14555 [ INFO] [1549505077.667565447]: udp0: Bind address: 127.0.0.1:14551 [ INFO] [1549505077.667610600]: udp0: Remote address: 0.0.56.219:14550 [ INFO] [1549505077.667671158]: GCS URL: udp://@localhost [ INFO] [1549505077.667717571]: udp1: Bind address: 0.0.0.0:14555 [ INFO] [1549505077.667765592]: udp1: Remote address: 127.0.0.1:14550 [ INFO] [1549505077.675645198]: Plugin 3dr_radio loaded [ INFO] [1549505077.676991634]: Plugin 3dr_radio initialized [ INFO] [1549505077.677015752]: Plugin actuator_control blacklisted [ INFO] [1549505077.679346939]: Plugin adsb loaded [ INFO] [1549505077.682434429]: Plugin adsb initialized [ INFO] [1549505077.682454391]: Plugin altitude blacklisted [ INFO] [1549505077.682516112]: Plugin cam_imu_sync loaded [ INFO] [1549505077.683007230]: Plugin cam_imu_sync initialized [ INFO] [1549505077.683084102]: Plugin command loaded [ INFO] [1549505077.687255672]: Plugin command initialized [ INFO] [1549505077.687368037]: Plugin companion_process_status loaded [ INFO] [1549505077.689443950]: Plugin companion_process_status initialized [ INFO] [1549505077.689462296]: Plugin debug_value blacklisted [ INFO] [1549505077.689528127]: Plugin distance_sensor loaded [ INFO] [1549505077.698518660]: Plugin distance_sensor initialized [ INFO] [1549505077.698606570]: Plugin fake_gps loaded [ INFO] [1549505077.710847165]: Plugin fake_gps initialized [ INFO] [1549505077.710871380]: Plugin ftp blacklisted [ INFO] [1549505077.710972235]: Plugin global_position loaded [ INFO] [1549505077.723164551]: Plugin global_position initialized [ INFO] [1549505077.723236034]: Plugin gps_rtk loaded [ INFO] [1549505077.725092907]: Plugin gps_rtk initialized [ INFO] [1549505077.725109753]: Plugin hil blacklisted [ INFO] [1549505077.725182750]: Plugin home_position loaded [ INFO] [1549505077.728335069]: Plugin home_position initialized [ INFO] [1549505077.728415272]: Plugin imu loaded [ INFO] [1549505077.734114658]: Plugin imu initialized [ INFO] [1549505077.734191423]: Plugin local_position loaded [ INFO] [1549505077.735740720]: udp0: Remote address: 127.0.0.1:56827 [ INFO] [1549505077.739406718]: Plugin local_position initialized [ INFO] [1549505077.739518192]: Plugin log_transfer loaded [ INFO] [1549505077.741598593]: Plugin log_transfer initialized [ INFO] [1549505077.741713274]: Plugin manual_control loaded [ INFO] [1549505077.744185024]: Plugin manual_control initialized [ INFO] [1549505077.744293581]: Plugin mocap_pose_estimate loaded [ INFO] [1549505077.747929252]: Plugin mocap_pose_estimate initialized [ INFO] [1549505077.748048404]: Plugin obstacle_distance loaded [ INFO] [1549505077.753954115]: Plugin obstacle_distance initialized [ INFO] [1549505077.754041213]: Plugin odom loaded [ INFO] [1549505077.758402979]: Plugin odom initialized [ INFO] [1549505077.758509702]: Plugin param loaded [ INFO] [1549505077.760719241]: Plugin param initialized [ INFO] [1549505077.760736279]: Plugin px4flow blacklisted [ INFO] [1549505077.760818581]: Plugin rangefinder loaded [ INFO] [1549505077.761493590]: Plugin rangefinder initialized [ INFO] [1549505077.761582192]: Plugin rc_io loaded [ INFO] [1549505077.765377084]: Plugin rc_io initialized [ INFO] [1549505077.765400159]: Plugin safety_area blacklisted [ INFO] [1549505077.765491090]: Plugin setpoint_accel loaded [ INFO] [1549505077.768595832]: Plugin setpoint_accel initialized [ INFO] [1549505077.768700265]: Plugin setpoint_attitude loaded [ INFO] [1549505077.777369410]: Plugin setpoint_attitude initialized [ INFO] [1549505077.777453513]: Plugin setpoint_position loaded [ INFO] [1549505077.789201560]: Plugin setpoint_position initialized [ INFO] [1549505077.789297447]: Plugin setpoint_raw loaded [ INFO] [1549505077.796778107]: Plugin setpoint_raw initialized [ INFO] [1549505077.796865543]: Plugin setpoint_velocity loaded [ INFO] [1549505077.801520452]: Plugin setpoint_velocity initialized [ INFO] [1549505077.801613358]: Plugin sys_status loaded [ INFO] [1549505077.810700856]: Plugin sys_status initialized [ INFO] [1549505077.810800193]: Plugin sys_time loaded [ INFO] [1549505077.815506108]: TM: Timesync mode: MAVLINK [ INFO] [1549505077.816408319]: Plugin sys_time initialized [ INFO] [1549505077.816481089]: Plugin trajectory loaded [ INFO] [1549505077.820753011]: Plugin trajectory initialized [ INFO] [1549505077.820876877]: Plugin vfr_hud loaded [ INFO] [1549505077.821410407]: Plugin vfr_hud initialized [ INFO] [1549505077.821436883]: Plugin vibration blacklisted [ INFO] [1549505077.821523016]: Plugin vision_pose_estimate loaded [ INFO] [1549505077.828062948]: Plugin vision_pose_estimate initialized [ INFO] [1549505077.828097230]: Plugin vision_speed_estimate blacklisted [ INFO] [1549505077.828214076]: Plugin waypoint loaded [ INFO] [1549505077.832318992]: Plugin waypoint initialized [ INFO] [1549505077.832435592]: Plugin wind_estimation loaded [ INFO] [1549505077.833012311]: Plugin wind_estimation initialized [ INFO] [1549505077.833056492]: Built-in SIMD instructions: SSE, SSE2 [ INFO] [1549505077.833079933]: Built-in MAVLink package version: 2019.1.12 [ INFO] [1549505077.833112677]: Known MAVLink dialects: common ardupilotmega ASLUAV autoquad icarous matrixpilot paparazzi slugs standard uAvionix ualberta [ INFO] [1549505077.833140813]: MAVROS started. MY ID 1.240, TARGET ID 1.1 [ INFO] [1549505078.011358135]: RC_CHANNELS message detected! [ INFO] [1549505078.011637949]: IMU: Raw IMU message used. [ WARN] [1549505078.011682445]: IMU: linear acceleration on RAW_IMU known on APM only. [ WARN] [1549505078.011707902]: IMU: ~imu/data_raw stores unscaled raw acceleration report. [ INFO] [1549505078.380729011]: CON: Got HEARTBEAT, connected. FCU: ArduPilot - Plane/Copter/Rover/Sub/Tracker [ WARN] [1549505078.448197314]: TM : RTT too high for timesync: 31.22 ms. [ INFO] [1549505078.522085311]: RC_CHANNELS message detected! [ WARN] [1549505079.049704310]: TM : RTT too high for timesync: 32.30 ms. [ INFO] [1549505079.383484646]: VER: 1.1: Capabilities         0x0000000000003bcf [ INFO] [1549505079.383519820]: VER: 1.1: Flight software:     03070000 ( c3e11fd) [ INFO] [1549505079.383543305]: VER: 1.1: Middleware software: 00000000 (        ) [ INFO] [1549505079.383567764]: VER: 1.1: OS software:         00000000 (        ) [ INFO] [1549505079.383589801]: VER: 1.1: Board hardware:      00000000 [ INFO] [1549505079.383609724]: VER: 1.1: VID/PID:             0000:0000 [ INFO] [1549505079.383627954]: VER: 1.1: UID:                 0000000000000000 [ WARN] [1549505079.383800677]: CMD: Unexpected command 520, result 0 [ WARN] [1549505079.937219002]: TM : RTT too high for timesync: 19.89 ms. [ WARN] [1549505080.529221791]: TM : RTT too high for timesync: 12.31 ms. [ WARN] [1549505081.131599148]: TM : RTT too high for timesync: 14.20 ms. [ WARN] [1549505081.744015273]: TM : RTT too high for timesync: 26.93 ms. [ WARN] [1549505082.337265272]: TM : RTT too high for timesync: 20.48 ms. [ WARN] [1549505082.931483127]: TM : RTT too high for timesync: 14.35 ms. [ WARN] [1549505083.536013694]: TM : RTT too high for timesync: 19.14 ms. [ WARN] [1549505084.149474057]: TM : RTT too high for timesync: 33.01 ms. [ WARN] [1549505086.433129187]: TM : RTT too high for timesync: 15.73 ms. [ WARN] [1549505087.837314281]: TM : RTT too high for timesync: 19.91 ms. [ INFO] [1549505088.381699204]: HP: requesting home position [ INFO] [1549505088.413556188]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505088.413786140]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505088.414040610]: FCU: Frame: QUAD [ WARN] [1549505089.382562649]: PR: request list timeout, retries left 2 [ WARN] [1549505090.383130272]: PR: request list timeout, retries left 1 [ WARN] [1549505091.383480504]: PR: request list timeout, retries left 0 [ WARN] [1549505093.383244351]: CMD: Unexpected command 410, result 0 [ WARN] [1549505093.410068340]: TM : RTT too high for timesync: 4993.13 ms. [ WARN] [1549505093.411560021]: TM : RTT too high for timesync: 4394.15 ms. [ INFO] [1549505093.412457801]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.412754958]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.413066715]: FCU: Frame: QUAD [ WARN] [1549505093.413701760]: TM : RTT too high for timesync: 3796.39 ms. [ WARN] [1549505093.414920941]: TM : RTT too high for timesync: 3197.44 ms. [ INFO] [1549505093.415401516]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.415755562]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.416017706]: FCU: Frame: QUAD [ WARN] [1549505093.417061534]: TM : RTT too high for timesync: 2600.62 ms. [ INFO] [1549505093.418357475]: FCU: ArduCopter V3.7.0-dev (c3e11fd3) [ INFO] [1549505093.418633173]: FCU: a43d79cd4f2f4568bda5b7d7a947013d [ INFO] [1549505093.418869953]: FCU: Frame: QUAD [ WARN] [1549505093.419083989]: TM : RTT too high for timesync: 2002.31 ms. [ WARN] [1549505093.420329338]: TM : RTT too high for timesync: 1403.86 ms. [ WARN] [1549505093.421531206]: TM : RTT too high for timesync: 804.51 ms. [ WARN] [1549505093.422728453]: TM : RTT too high for timesync: 206.12 ms. [ INFO] [1549505093.423175786]: WP: mission received [ WARN] [1549505093.879323724]: TM : RTT too high for timesync: 62.84 ms. [ INFO] [1549505094.021829161]: PR: parameters list received [ WARN] [1549505094.446008715]: TM : RTT too high for timesync: 28.53 ms. [ WARN] [1549505095.039028950]: TM : RTT too high for timesync: 21.73 ms. [ WARN] [1549505095.643658069]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505096.243200155]: TM : RTT too high for timesync: 25.82 ms. [ WARN] [1549505096.842836361]: TM : RTT too high for timesync: 26.16 ms. [ WARN] [1549505097.445634188]: TM : RTT too high for timesync: 28.65 ms. [ WARN] [1549505098.043852141]: TM : RTT too high for timesync: 27.15 ms. [ WARN] [1549505098.643177538]: TM : RTT too high for timesync: 26.24 ms. [ WARN] [1549505099.244740546]: TM : RTT too high for timesync: 28.04 ms. [ WARN] [1549505099.841209595]: TM : RTT too high for timesync: 24.29 ms. [ WARN] [1549505100.444034334]: TM : RTT too high for timesync: 26.99 ms. [ WARN] [1549505101.045867401]: TM : RTT too high for timesync: 28.55 ms. [ WARN] [1549505101.641854596]: TM : RTT too high for timesync: 25.06 ms. [ WARN] [1549505102.240245827]: TM : RTT too high for timesync: 23.46 ms. [ WARN] [1549505102.845131374]: TM : RTT too high for timesync: 28.44 ms. [ WARN] [1549505103.446277971]: TM : RTT too high for timesync: 29.56 ms. [ WARN] [1549505104.042857795]: TM : RTT too high for timesync: 26.38 ms. [ WARN] [1549505104.642914148]: TM : RTT too high for timesync: 25.53 ms. [ WARN] [1549505105.246173291]: TM : RTT too high for timesync: 29.19 ms. [ WARN] [1549505105.843169217]: TM : RTT too high for timesync: 25.74 ms. [ WARN] [1549505106.445547629]: TM : RTT too high for timesync: 28.25 ms. [ WARN] [1549505107.046932884]: TM : RTT too high for timesync: 29.59 ms. [ WARN] [1549505107.639747948]: TM : RTT too high for timesync: 22.89 ms.","I tried with: <param name=""/mavros/conn/timesync_rate"" value=""0.1""/> at the end of the launch file and it got rid of the RTT too High For Timesync messages. A value of 1.0 also got me three of these messages at the start of the connection but then they stopped. Perhaps you could experiment with your system and find a value that works before hammering it with a value of 0. Correction: the messages do not actually stop, if you let SITL run for long, you still get them but their frequency is greatly reduced."
139,SITL setup issue: xterm: Xt error: Can't open display: localhost:10.0,0,"Walking through the SITL vagrant setup instructions, on a windows 10 machine, everything ok until i hit this during the ‘startup’  process (see error output below): This looks like i just need an x-windows program running in windows, but nothing of the sort was mentioned in what looked like otherwise relatively complete setup instructions…so, wanted to check… thanks in advance! the error output: uild commands will be stored in build/sitl/compile_commands.json ‘build’ finished successfully (16m45.972s) SIM_VEHICLE: Using defaults from (/vagrant/Tools/autotest/default_params/copter.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: “/vagrant/Tools/autotest/run_in_terminal_window.sh” “ArduCopter” “/vagrant/build/sitl/bin/arducopter” “-S” “–model” “+” “–speedup” “1” “–defaults” “/vagrant/Tools/autotest/default_params/copter.parm” “-I0” SIM_VEHICLE: Run MavProxy SIM_VEHICLE: “mavproxy.py” “–out” “10.0.2.2:14550” “–out” “10.0.2.2:14551” “–master” “tcp:127.0.0.1:5760” “–sitl” “127.0.0.1:5501” RiTW: Starting ArduCopter : /vagrant/build/sitl/bin/arducopter -S --model + --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm -I0 xterm: Xt error: Can’t open display: localhost:10.0 Connect tcp:127.0.0.1:5760 source_system=255 [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping Failed to connect to tcp:127.0.0.1:5760 : [Errno 111] Connection refused SIM_VEHICLE: Killing tasks Connection to 127.0.0.1 closed.",
140,HIL simulation with Pixhawk controller,0,"I don’t know if this project, HIL, (Hardware in the Loop) has any current information, so this is why I present this OPEN topic. Due to the COVID-19 Virus I have been forced to fly my Quads indoors, to dangerous. I have been building and flying multi-rotor aircraft for the past 8 Years. I have been through all the published documentation for Flight controllers and simulators and would like to find a way to interface my Hardware for HIL simulation indoors. I have mastered the software in the loop and interfacing two monitors, one for the Mission Planner, one for the RealFlight Version 9, with great success. I have Xplane V10 and 11 also. I want to take this flight simulation hobby to another level, I want to use my flying Hardware, without propellers, instead of the Software interfacing. This would allow me some entertainment to pass the time. Any help or suggestions welcomed and needed/wanted for this project would be helpful. Like I said I have been through the manuals and documentation. I can’t find anything current that will allow me to work or to reference this subject of HIL, Hardware in the loop. I have a number of APM2.5 and 2.6 controllers and even a PIXhawk controller available for bench setups. I can supply any of the Hardware Information and Documentation if needed. YumaMike",
141,Run SITL in a debug mode,1,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","* You can pass the --debug arg when you invoke sim_vehicle.py, which will build SITL in debug mode. I can’t remember if there is a system call you can embed in SITL to break wherever you want, but I just waited for it to come up and then used gdb to attach to  the ardu{plane/copter/…} process and continued. That worked pretty well for most things. There is a gui called gdbgui that tried a few days ago, but I haven’t used it much. There are other ones too."
141,Run SITL in a debug mode,2,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!",Add –gdb --debug to the SITL commandline. You can set breakpoints from the commandline with (e.g.) -B Tracker::set_mode
141,Run SITL in a debug mode,3,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","To add on to this, you can configure the build to have debug symbols by adding  --debug: ./waf configure --board sitl --debug Then yeah you can simply add -D --gdb --breakpoint : when you launch SITL from sim_vehicle.py -D (one dash in front) is for debug (same as --debug) –gdb (two dashes in front) is for gdb and can be replaced with -G (one dash in front) –breakpoint (two dashes in front) is used to set an initial breakpoint for SITL to hit.  You will then be in gdb and can set more breakpoints after etc. (This is the way that worked best for me, but * 's way should work perfectly well) Example of running SITL (it has been some time since I last tested this, but I believe this is right): sim_vehicle.py -v ArduCopter --console --map -D --gdb --breakpoint mode_loiter:29 Here is a link to the dev documentation that will also help: * Hope this helps! EDIT To improve clarity of commands."
141,Run SITL in a debug mode,4,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!",* * Thank you. It’s good to know that you can specify --gdb and actually set breakpoints from the commandline while invoking SITL. Do these args work both when executing SITL directly via waf as well as through sim_vehicle.py?
141,Run SITL in a debug mode,5,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I have only ever tired this through sim_vehicle.py I didn’t realize you could also launch SITL through waf, isn’t that just the build tool? I should definitely amend my previous point to make what I did clearer."
141,Run SITL in a debug mode,6,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","* Hi! I’m sorry, I meant to say directly, not through waf, like this: $~/ArduPilot/build/sitl/bin/arduplane --model xplane for ArduPlane. Thanks for catching the error!"
141,Run SITL in a debug mode,7,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I’m not sure you can actually execute SITL binaries via waf.  You can certainly specify --debug to waf to get a debug build, 'though. Incidentally, these flags are also available on autotest.py - like sim_vehicle.py but with a lot less typing required "
141,Run SITL in a debug mode,8,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","Thanks all for these great explanations! I’ll give it a try. Has anybody tried this on windows? I don’t have linux, so I’d have to get a VM going or dual boot."
141,Run SITL in a debug mode,9,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I haven’t fully tested anything on windows, but you should be able to get it working. You can use cygwin or the new linux subsystems windows supports and it should work (if you don’t want a VM or dual boot). Personally, I have successfully used cygwin in the past to launch SITL on windows. Here is a link to the documentation for setting up ardupilot and SITL on windows etc. * * Edit For clarity"
141,Run SITL in a debug mode,10,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I have configured gdb and running sim_vehicle as suggested above. I’m pretty sure it’s hitting a breakpoint because mavproxy loses connection. I followed the instructions for configuring vscode in the dev wiki, and seem to have set everything up correctly, but it complains. The exe is definitely there. Thanks for the help! I’m a novice at this, and have not used gdb before, so hopefully this is something simple I’m missing. And note, I am running this on windows, executing sim from cygwin."
141,Run SITL in a debug mode,11,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I am trying gdb directly to get any vscode issues out of the loop. Get a similar error. See below. Am I specifiying the directory incorrectly? Running from cygwin on windows 10. me@mycomp ~/ardupilot $ pwd /home/me/ardupilot me@mycomp ~/ardupilot $ pidof arducopter 9296 me@mycomp ~/ardupilot $ gdb /build/sitl/bin/ 9296 GNU gdb (GDB) (Cygwin 8.1.1-1) 8.1.1 Copyright © 2018 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later * This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law.  Type “show copying” and “show warranty” for details. This GDB was configured as “x86_64-pc-cygwin”. Type “show configuration” for configuration details. For bug reporting instructions, please see: *. Find the GDB manual and other documentation resources online at: *. For help, type “help”. Type “apropos word” to search for commands related to “word”… /build/sitl/bin/: No such file or directory. Can’t attach to process. /home/me/ardupilot/9296: No such file or directory."
141,Run SITL in a debug mode,12,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","I was running sim_vehicle with -G which I guess was already running gdb. So, I ran with just -D, and then in a separate cygwin console I can successfully attach: $ gdb /build/sitl/bin 5890 GNU gdb (GDB) (Cygwin 8.1.1-1) 8.1.1 Copyright © 2018 Free Software Foundation, Inc. License GPLv3+: GNU GPL version 3 or later * This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law.  Type “show copying” and “show warranty” for details. This GDB was configured as “x86_64-pc-cygwin”. Type “show configuration” for configuration details. For bug reporting instructions, please see: *. Find the GDB manual and other documentation resources online at: *. For help, type “help”. Type “apropos word” to search for commands related to “word”… /build/sitl/bin: No such file or directory. Attaching to process 20512 [New Thread 20512.0x1ed8] [New Thread 20512.0x577c] [New Thread 20512.0x401c] [New Thread 20512.0x2d90] [New Thread 20512.0x4ae0] [New Thread 20512.0x5684] Reading symbols from /home/henrywon/ardupilot/build/sitl/bin/arducopter.exe…done. I guess I can use this method, but was hoping to use vscode for convenience. But, when I try in vscode, it freezes up the vehicle (no link reported by mavproxy), but it is not stopped within vscode as far as I can tell."
141,Run SITL in a debug mode,13,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","So I switched to trying WSL since vscode has a help page on that, implying that it might work. Got it all set up and try to run the debugger (attach gdb), but get this error: /usr/bin/pkexec “/usr/bin/gdb” --interpreter=mi --tty=${DbgTerm} 0<""/tmp/Microsoft-MIEngine-In-grev5zsm.tr7"" 1>""/tmp/Microsoft-MIEngine-Out-s69t9063.3kb"" I tried looking in the /tmp directory, and they are not there. There are some vscode files there…"
141,Run SITL in a debug mode,14,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!",So I got home and tried it on my Zorin linux set up and it just works using the straight instructions from the ardupilot wiki. I’ll just abandon windows for now!
141,Run SITL in a debug mode,15,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","Hi, iam trying to debug ardupilot code as mentioned  in this documentation(ardupilot documentation) * i ran a command as they mention in documentation for arduplane code in console it was showing that it is waiting for connection after that what do i need to run? is there any program to run like client-server mechanism?  i want to know about debugging of ardupilot(arduplane code) can anyone help me to start debug the arduplane code in linux(ubuntu), if possible give me the inputs step by step please help me to come out of this problem. Thanks…!"
141,Run SITL in a debug mode,16,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!",I was able to successfully debug from vscode in linux (Zorin) following the instructions on that page. I could not get it to work from a VM or in windows. I did not try the GDB command line option.
141,Run SITL in a debug mode,17,"Hello - Is it possible to run the SITL in a debug mode? I would like to be able to set breakpoints in the autopilot code while I simulate a flight. I am currently executing the SITL via sim_vehicle.py which seems to be compiling and running the flight code, model, etc. Thanks!","now i’m able to debug ardupilot code while running SITL in Linux(ubuntu 18.04 lts) using GDB,issue solved, everything mentioned in documentation need to follow it carefully"
142,No change in behaviour after setting wind in SITL,1,"Hi, after starting SITL with: sim_vehicle.py -v ArduCopter -f gazebo-iris --console and starting Gazebo with ardupilot_gazebo plugin: gazebo --verbose ardupilot_gazebo/worlds/iris_arducopter_runway.world i changed the parameter SIM_WIND_SPD to 15 but the behavior of the drone shows no difference in gazebo. Furthermore the parameter wind in the console is showing -/-, but the parameter is saved with 15 to the eeprom.bin. I assume that i won’t notice any difference in guided mode anyway, but even in stabilize the drone is drifting slowly across the map with rc 3 1500 (and it seems to me that the direction is random, but i’m not sure). I use Gazebo 9 and the latest ArduCopter V4.0.4-dev",You can’t see wind estimation in Copter. The code used inside Ardupilot for wind estimation works for plane only since you have to know airspeed for wind estimation. Try simulating using plane. You will see the effect of wind.
143,Runtime error on Cygwin when trying to run ArduPilot SITL,1,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error: * Is there a change I have to make to one of the files?","You’ve not installed git in Cygwin. From your screenshot, you’re instead using the Windows git, which won’t work properly in Cygwin."
143,Runtime error on Cygwin when trying to run ArduPilot SITL,2,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error: * Is there a change I have to make to one of the files?","Thank you for the reply. I went back to the cygwin installer to make sure that the git file was installed, and it was, but it seemed like some of the installed files might’ve been corrupted so I re-installed them. Now as I try to run the ‘pip install empy pyserial pymavlink’ command, the app freezes while running the setup oy.install for lmxl. What do I do?"
143,Runtime error on Cygwin when trying to run ArduPilot SITL,3,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error: * Is there a change I have to make to one of the files?",You need to install lxml in the Cygwin setup. Look for a python36-libxml2. There’s a whole list of required packages over at *
143,Runtime error on Cygwin when trying to run ArduPilot SITL,4,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error: * Is there a change I have to make to one of the files?","I actually installed all those files again, just seemed to be multiple instances of them for some reason so I re installed the whole thing again, everything works alright now. Thanks!"
144,"SITL on Linux Map ""Unavailable""",1,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"Mehmet, you can click on top of the window and choose a different map provider like GoogleSat or MicrosoftSat, etc … . The issue you are having is likely that the default provider (OviSat) does not work where you (geographically) are. You can also change the default map provider on Linux with a shell environment variable, can’t remember exact name at the moment."
144,"SITL on Linux Map ""Unavailable""",2,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet," Mehmet, you can click on top of the window and choose a different map provider like GoogleSat or MicrosoftSat, etc … . The issue you are having is likely that the default provider (OviSat) does not work where you (geographically) are.  We seem to be getting this a lot.  Perhaps we should change the default provider?  You can also change the default map provider on Linux with a shell environment variable, can’t remember exact name at the moment.  MAP_SERVICE Keys are here: *"
144,"SITL on Linux Map ""Unavailable""",3,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,If GoogleSat or MicrosoftSat works well in Australia for default SITL Canberra location (works well for me here in US) could be a good idea to change the default.
144,"SITL on Linux Map ""Unavailable""",4,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,Dear * & * Thanks for support. PS. GoogleSat does not work for me . I am using MicrosoftSat now.
144,"SITL on Linux Map ""Unavailable""",5,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,May I ask a question that is not related to this topic ? I don’t want to create a new topic. what is the reason why this command (*) does not work ( “Unknown Command”).
144,"SITL on Linux Map ""Unavailable""",6,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"gtakeoff is not a mavproxy command, but a (user defined) alias in a  * provided as an example.Check * of the documentation, looks like you don’t have that file or it’s not in the right place or read correctly?"
144,"SITL on Linux Map ""Unavailable""",7,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"Hi * Thanks for explanation. I understand the issue, but when I flow the instructions, I have same result, maybe it’s from me. I am at the beginning level in these matters."
144,"SITL on Linux Map ""Unavailable""",8,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,if you maximize the window you can get the “view” menu.  Changing my source to Ovi seems to make my problem go away.  Is there any way to set a default map source so I don’t have to do it every time? 
144,"SITL on Linux Map ""Unavailable""",9,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"Yes, set environment variable MAP_SERVICE to the service of your choice and that service will be used by default. See Peter’s post earlier in this thread."
144,"SITL on Linux Map ""Unavailable""",10,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"I know this is more linux related than SITL related, but how do you set that environment variable ? I’ve just ran env MAP_SERVICE=GoogleMap in my console and it worked, I have the new environment variable, but it doesn’t seem to work, the SITL map still starts with the default OviSat."
144,"SITL on Linux Map ""Unavailable""",11,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,add to your .bashrc for example
144,"SITL on Linux Map ""Unavailable""",12,Hi I encountered such a problem with map “Unavailable” . How can I solve this problem? * Regards Mehmet,"The ardupilot simulation in sitl mode, add the home  I want in the location.txt file can not be loaded in the map. The console shows “no link”,how do you solve it ?"
145,"""overflow in thread FTP"" after upgrading mavproxy",1,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","It appears that is a problem with MAVProxy 1.8.19, but not 1.8.18. I reverted to 1.8.18 and it works fine now."
145,"""overflow in thread FTP"" after upgrading mavproxy",2,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?",This is fixed by this PR. I’m just using a local branch for SITL testing right now until this makes it into a release. *  It is also discussed in this issue. * 
145,"""overflow in thread FTP"" after upgrading mavproxy",3,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","The problem isn’t MAVProxy here. The new MAVProxy is trying to use the “ftp” module to download parameters really fast. Sadly, you appear to be using a version of ArduPilot which is faulty. I’m really, really hoping you’re not running today’s master branch; we fixed an overflow many weeks ago in that area. Try updating to today’s master and see what happens? What version were you running? Peter"
145,"""overflow in thread FTP"" after upgrading mavproxy",4,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?",I’m using the Copter-4.0 branch. Should it work on that branch or only on Master?
145,"""overflow in thread FTP"" after upgrading mavproxy",5,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","There’s no excuse for a stack overflow in any of our current branches. The patch I thought ought to fix this problem is present in the 4.0.3 branch (tag, actually):"
145,"""overflow in thread FTP"" after upgrading mavproxy",6,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?",Was this the change in GCS_FTP.cpp that was supposed to fix the issue:
145,"""overflow in thread FTP"" after upgrading mavproxy",7,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","It was, yes.  Has that not fixed the problem for you?  Because that would be a really serious issue for us."
145,"""overflow in thread FTP"" after upgrading mavproxy",8,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","I am also seeing this error at commit c9d8edda4 (ArduPlane-4.0.4) and mavproxy 1.8.19, running in SITL, starting with sim_vehicle.py -v ArduPlane"
145,"""overflow in thread FTP"" after upgrading mavproxy",9,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","I just pulled and ran Copter-4.0 branch and plane4.0 branches in SITL and got the stack overflow from FTP. I am using master branch mavproxy, but I recall from a few weeks ago I got the same result from running MissionPlanner latest beta. Master branch plane SITL works just fine."
145,"""overflow in thread FTP"" after upgrading mavproxy",10,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?","I crossed this with * - it’s apparently a false-positive as you can make that stack as large as you like and you’ll still get the error. This is still absolutely no good - we don’t want people ignoring these or thinking they’re, “just something ArduPilot says”. I’ll try to track it down in the next week."
145,"""overflow in thread FTP"" after upgrading mavproxy",11,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?",… or today… So I thought this felt familiar.  Here’s the PR that went into master; I’ve marked it for back-porting into Plane 4.0
145,"""overflow in thread FTP"" after upgrading mavproxy",12,"I just upgraded mavproxy on Ubuntu 18 using “pip3 install upgrade mavproxy”. (I also upgraded the python 2 libraries as well.) I am running SITL with Copter-4.0. When I run it now, I get this error in the SITL window: Serial port 3 on TCP port 5763 validate_structures:411: Validating structures Loaded defaults from /home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter.parm,/home/rrr6399/3dr/ardupilot/Tools/autotest/default_params/copter-hexa.parm stack overflow in thread FTP Running: sh dumpstack 3558 >segv_arducopter.3558.out 2>&1 Failed I tried it with Python 2 and 3 and even performed a clean build of ArduCopter. Any ideas what would cause this?",Yep. You mentioned earlier in a github comment that commit * “fixes” it. Fetching that commit into Plane Stable works great for me. Windows 10 1909 running WSL1 with Ubuntu 18.04.
146,SITL Simulator (Software in the Loop),1,"I am having troubles operating my simulator, i have downloaded both MAVPROXY and Cygwin and follow the steps but both are not in sinc, Mavproxy opens but the map is in a random place and the app crashes wehni try to zoom out the map . What else can i do ?",you can provide more details. those are not enough.
146,SITL Simulator (Software in the Loop),2,"I am having troubles operating my simulator, i have downloaded both MAVPROXY and Cygwin and follow the steps but both are not in sinc, Mavproxy opens but the map is in a random place and the app crashes wehni try to zoom out the map . What else can i do ?","I’m using SITL for windows , following the steps for the simulator on the ardupilot website and still doesn’t work"
146,SITL Simulator (Software in the Loop),3,"I am having troubles operating my simulator, i have downloaded both MAVPROXY and Cygwin and follow the steps but both are not in sinc, Mavproxy opens but the map is in a random place and the app crashes wehni try to zoom out the map . What else can i do ?",what errors are you getting? What isn’t working?
146,SITL Simulator (Software in the Loop),4,"I am having troubles operating my simulator, i have downloaded both MAVPROXY and Cygwin and follow the steps but both are not in sinc, Mavproxy opens but the map is in a random place and the app crashes wehni try to zoom out the map . What else can i do ?","when i type"" cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console"" into the Cygwin 64 terminal is says no such file or directory , the"
146,SITL Simulator (Software in the Loop),5,"I am having troubles operating my simulator, i have downloaded both MAVPROXY and Cygwin and follow the steps but both are not in sinc, Mavproxy opens but the map is in a random place and the app crashes wehni try to zoom out the map . What else can i do ?",type in ln -s before the rest of the command. so cd ~/ardupilot/ArduCopter and then ln -s /Tools/autotest/sim_vehicle.py --map --console
147,Error while trying to start SITL from cygwin,1,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error:  * It used to work previously, until I used the git submodule update --init --recursive Could anyone suggest what to do in this case?",You could change this line of code to use relative paths: Tools\ardupilotwaf\git_submodule.py line 126 before: tsk.env.SUBMODULE_PATH = module_node.abspath() and after: tsk.env.SUBMODULE_PATH = module_node.relpath()
147,Error while trying to start SITL from cygwin,2,"I’ve tried to setup SITL by following the instructions from this link: * However, when I run the following command: cd ~/ardupilot/ArduCopter …/Tools/autotest/sim_vehicle.py --map --console I get the following error:  * It used to work previously, until I used the git submodule update --init --recursive Could anyone suggest what to do in this case?","Thanks a lot, it’s working perfectly now!"
148,How to create multiple drone for sitl,1,"Hi, where do i find information about creating multiple drones in sitl for use with QGC and then with ROS? Cheers ","I leave my answer.  Execute multi-drones like this ./sim_vehicle.py -v ArduCopter --console --map --instance 1 ./sim_vehicle.py -v ArduCopter --console --map --instance 2 ./sim_vehicle.py -v ArduCopter --console --map --instance 3  You can see UDP port numbers, when you type ‘output’ on each MAVProxy command window.  Open Mission your Mission Planner and then connect these UDP port as in the below. *  "
149,SITL and gazebo crash on RTL,0,"Hello, I am using SITL + gazebo wtih the plugin *. I want the drone to take off, fly trough some waypoints, land, and then do the same process again. When I set the mode to RTL the drone lands but when I set the mode again to guided, arm the motors and try to take off nothing happens. After a while I get the following message: * Everything works fine if I use only SITL without gazebo. So I am wondering if the UAV is crashing into the ground in gazebo or something.  I am using the iris_ardupilot_runway.world. is there any detail that I do not know about?",
150,Yaw returns to 0 degree MAV_CMD_CONDITION_YAW SITL,0,"yaw of the SITL drone(multi rotor copter), rotates but then after command completes, the drone returns to 0 degrees. stuck facing “North”. Using MAV_CMD_CONDITION_YAW for SITL on Airsim Anyone know how to fix this or has a helpful link?",
151,MAV_CMD_NAV_WAYPOINT causes low throttle value,0,"Hello folks, When I send the below command to ArduPilot on SITL, it also changes throttle value (i.e., 1000) and then decreases altitude of the drone. Even though I can restore a original throttle value by using ‘master.mav.rc_channels_override_send’ command, I am curious about why adding way points changes the throttle value.  master.mav.mission_item_send(master.target_system,master.target_component, wp_cnt, mavutil.mavlink.MAV_FRAME_GLOBAL_RELATIVE_ALT, mavutil.mavlink.MAV_CMD_NAV_WAYPOINT, 2,0,0,0,0,0, lat,lon,wp_alt) wp_cnt = wp_cnt + 1  Could you share any idea about this issue? Thanks in advance.",
152,SITL starting in auto then it switches to RTL,1,I am starting the SITL in guided using ROS then I switch it to auto. it starts following the mission waypoints but after some time it’s constantly dropping to RTL. I am not commanding it to switch to RTL. it does it on its own. what could be causing this? its flying fine and following the mission wp as it should. how could I get a log or error output that tells me what is triggering the auto to switch to RTL,"hello, You can find SITL log in the logs directory in the directory where you launch SITL. That will be the simpliest way to diagnostic what cause the change to RTL"
153,Failed to load module on SITL,0,"I believe this is basic but i’m new to this so I can really use some help… I’m using ubuntu 16.04 and i followed the instructions for the installation of ardupilot SITL ( Caleb Bergquist drone programming tutorial) when i try to lunch arducopter simulation (sim_vehicle.py --map --console) i get the following error messages :  Faild to load module: No module named terrain.Use ‘set moddebug 3’ in the MAVProxy console to enable traceback Faild to load module: No module named console.Use ‘set moddebug 3’ in the MAVProxy console to enable traceback Faild to load module: No module named map.Use ‘set moddebug 3’ in the MAVProxy console to enable traceback  obviously, map and console did not open (full terminal screenshot below). appreciate any help you can provide. *",
154,Default/min/max throttle value on SITL,1,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!","In a real system the throttle value comes from a RC receiver. that receiver has a min and max value. When the value delivered by the receiver is outside that min, max range, the receiver is telling us that it lost connection to the RC transmitter. SITL mimics that behavior. It’s not a bug. its a feature."
154,Default/min/max throttle value on SITL,2,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!","* Thank you for your answer! In case of a real system, that’s true because there are physical limitations to control throttle, roll, pitch, and yaw sticks. Then, the min/max parameters can be decided according to a RC receiver. Am I right? Could you share me what is specific role of the min/max RC parameters in SITL?"
154,Default/min/max throttle value on SITL,3,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!","yes, you are right. The specific role of the min/max RC parameters in SITL is to mimic the real system. The point of the SITL is to be as close to the real system as possible so that you can simulate and get the same results as a real system. that way you can seamlessly interchange it with a real system."
154,Default/min/max throttle value on SITL,4,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!","* Thanks  I agree with you about the min/max value issue. Could I ask a question? Do you think that the default throttle value looks still good? Do you know why default throttle is 1,000 instead of 1,500 (mid-position)? It is uncomfortable for me because I always change the throttle value even though what I want to simulate something which just require me to keep using the mid-throttle value."
154,Default/min/max throttle value on SITL,5,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!",What difference does it make what the default value is? Set it to what you want.
154,Default/min/max throttle value on SITL,6,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!",Use a joystick o virtual joystick to change CH3 values.
154,Default/min/max throttle value on SITL,7,"Hello folks, Default throttle value issue I have a question about default throttle value (RC 3 channel) on SITL. When I execute ArduCopter on SITL, it uses 1,000 as default throttle value as shown in the below.  *  On the other hand, other RC channels (roll, pitch, and yaw) use 1500 as default values.  Is there any specific reason to assign 1,000 to RC 3 channel? (i.e., why SITL does not assign mid-throttle value such as 1,500?)  This is because the drone loses his altitude if I am not assign a value more than 1,500 to RC 3.  Also, many guys already suffered from this issue.  Is there any problem if SITL starts to use 1,500 as the default throttle value?  Min/max throttle value There are user parameters to limit each RC channel such as RC3_MIN and RC3_MAX. In order to simulate disconnection of RC channel such as “rc 3 900” command, I don’t think we need to limit the minimum of the RC 3 channel. But, users still put any value to RC 3 such as 65000. It causes decreasing altitude of the drone. Can we respect the min/max parameters when users input values on RC channels? Thanks in advance!","Hello, On copter the default value should be 1000 as on contrary of other channel that is the 0 value since copter don’t have reverse throttle. Default value other that 1000 will prevent you to takeoff or can trigger numerous functions"
155,Vehicle stuck when working on Bendy Ruler Algorithm,1,"I have tried the simulation with BendyRuler, static fence and simple waypoint. The drone seems to be stuck in the infinite loop. Please chec this video. I am not sure that it is about setting with parameters or not. Could anyone please a look on this? By the way, I am also curious about the “BendyRuler”, when I do googling, there is not much information about this. Could you please, *, provide the flowchart the algorithm or any reference with theory behind? P/S: The Dijkstra works like a champ! * (20.9 KB) Log file: *",* I believe this is a known issue with BendyRuler. Follow this issue here: * You can find some elementary information on how  works BendyRuler here: *
155,Vehicle stuck when working on Bendy Ruler Algorithm,2,"I have tried the simulation with BendyRuler, static fence and simple waypoint. The drone seems to be stuck in the infinite loop. Please chec this video. I am not sure that it is about setting with parameters or not. Could anyone please a look on this? By the way, I am also curious about the “BendyRuler”, when I do googling, there is not much information about this. Could you please, *, provide the flowchart the algorithm or any reference with theory behind? P/S: The Dijkstra works like a champ! * (20.9 KB) Log file: *","* :Thanks but I did want to realize much more that just know that the “stuck” state would or would not happen. I think by looking at the flow chart or pseudo-code of “BendyRuler”, we will get how it works but could not find it elsewhere in the Internet. I guess diving into the code?"
156,Starting our journey,1,"Hello, we are starting our journey for SITL so that we can test some Python scripting. I’ve read through the documentation and have been reading through the forums. We would like to be using Mission Planner and Xplane and potentially a seperate platform for the emulator. What is not immediately obvious is what people who have been successful in SITL are using. Is it all on once PC running Linux? Or is it on Windows? If it’s Linux, what version? What version of Xplane (10?) where is the emulator running? I would be really appreciative if people could share their setups with us so that we don’t waste a bunch of time beating our heads against a brick wall. Is the SITL documentation up to date?",am also interested in this topic
157,Simulated copter lands when switching to Loiter,1,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?",What controlling the throttle to mid to cause it to hold altitiude?
157,Simulated copter lands when switching to Loiter,2,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?","Um, I don’t understand what you mean. It’s a simulated vehicle, how can I control its throttle input?"
157,Simulated copter lands when switching to Loiter,3,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?","Most likely, throttle stick is down, set it in the middle. rc 3 1500"
157,Simulated copter lands when switching to Loiter,4,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?",What’s to understand? What happens with a copter in Loiter with the throttle at zero? It’s no different in the simulator. A joystick/game controller is one way.
157,Simulated copter lands when switching to Loiter,5,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?","Yes, you are right. I am just wondering if there is an easy way to supply this input via software. Anyway, thank you for pointing me in the right direction."
157,Simulated copter lands when switching to Loiter,6,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?","From Mavproxy, try rc 3 1000 Or mavlink message manual_control with z=0."
157,Simulated copter lands when switching to Loiter,7,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?",RC 3 1500 maybe if you want it to hover in Loiter. One interesting thing  you can do if you don’t like Joystick control (I don’t) is to use a Flight Controller Running Betaflight as a Game Controller. Then you can use your regular Transmitter for the Simulator. Setting it up as a Joystick in Mission Planner is a bit fiddly but it works.
157,Simulated copter lands when switching to Loiter,8,"I am getting some strange behaviour from my simulated vehicles, the setup is the following: Starting a simulated vehicle, e.g. via sim_vehicle.py -v ArduCopter Connecting via udp port 14550 on QGroundControl Taking off via the takeoff button of QGC and then clicking on the map to send the vehicle towards a GOTO point (vehicle switches to GUIDED). If I switch to LOITER (via the drop down mode menu), the vehicle stops and immediately descends, lands and disarms. It acts as if I have switched to LAND, although the mode is clearly LOITER. Am I missing something?",Thank you both. I don’t want to muck about with any hardware so the rc command in Mavproxy worked fine. rc 3 1000 is too low but a value around 1500 works like a charm for the default copter in sim_vehicle (default max and min values are 1000 and 2000 so that makes sense).
158,Copter Camera in SITL,1,"I tried to launch a sitl with enabling gimbal ‘-M’ and connected to the vehivle using dronekit. When accessing the values for gimbal using vehicle.gimbal, it returns None for pitch, roll and yaw. Is the camera functionality available? Do I need to install any seperate package? How do I verify that SITL vehicle is launched with gimbal enabled?","I see that the gimbal module is loaded.  How to get gimbal pitch, yaw, and roll"
158,Copter Camera in SITL,2,"I tried to launch a sitl with enabling gimbal ‘-M’ and connected to the vehivle using dronekit. When accessing the values for gimbal using vehicle.gimbal, it returns None for pitch, roll and yaw. Is the camera functionality available? Do I need to install any seperate package? How do I verify that SITL vehicle is launched with gimbal enabled?","This is too late reply. But, I leave my answer to help others. ArduPilot reports the angles via MOUNT_STATUS MAVLink messages. When you use Mission Planner, it is kind of easy.  Connect Mission Planner Click HUD and then Ctrl + F Click Mavlink Inspector Find MOUNT_STATUS section Then, you can confirm pitch, yaw, and roll angles of the gimbal.  You can refer ‘Adding a virtual gimbal’ section of this webpage. (*)"
159,SITL issue with yaw command,0,"Hi, For 4 days I have issues with sending yaw command to a SITL multirotor. A basic script that was working perfect before hand shows several bugs, and especially this one. I am using mission planner 1.3.70 and SITL V4.0.4-dev. The copter simply does not take in account the message : msg = vehicle.message_factory.command_long_encode( 0, 0,       # target system, target component mavutil.mavlink.MAV_CMD_CONDITION_YAW, #command 0,          #confirmation heading,    # param 1, yaw in degrees 0,          # param 2, yaw speed deg/s 1,          # param 3, direction -1 ccw, 1 cw is_relative, # param 4, relative offset 1, absolute angle 0 0, 0, 0)    # param 5 ~ 7 not used # send command to vehicle vehicle.send_mavlink(msg) Is it a know issue ? Thanks in advance",
160,SITL Initiation Problem,0,"Hello, I have installed SITL (I think correctly) however, when I launch the simulator with cd ardupilot/ArduCopter sim_vehicle.py -w sim_vehicle.py --console --map I am getting this instead of the normal map and console that is supposed to appear: * Any help please? Thanks in advance",
161,Lift drag plugin usage,1,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards","Hello, I got no idea. Did you read the lift drag paper, I think I remember that the parameters are closed to the default one’s or copied from px4 version"
161,Lift drag plugin usage,2,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards","Hello, thx for your response. I have designed a 25 kg X8 with 29"" x 9,5 propeller and i am searching a way to identify lift and drag plugin input params. I recently try with QBlade based on NACA 0018 foil but without success. Maybe a project with near characterictics exists …do you have already simulate an octa quad with ardupilot sitl gazebo ? ----- Mail d’origine -----"
161,Lift drag plugin usage,3,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards",Hi. I have identified main aero param of a my own blade based on naca 0018. UAV mass is 25kg. It does not takeoff. Please how to set the multiplier value and other parameters? ----- Mail d’origine -----
161,Lift drag plugin usage,4,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards","Hi, Well, the X8 UAV does beautiful takeoff but is unstable as described here by Eric Johnson * “” The drone takesoff and starts to oscillate varying its position by over a meter in radius."""" The problem is i already have the parameters in .world file who solved his problem. The other solution based on the modification of the AHRS EKF mode 3 is unavailable. v4.0.3 dev Regards"
161,Lift drag plugin usage,5,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards",Hi. To resolve this problem of instability do you think I can add plugin like barometer plugin  and communicate directly with ardupilot via a new tcp link? Regards ----- Mail d’origine -----
161,Lift drag plugin usage,6,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards","We are already simulating the barometer. You should check the performance of gazebo, normally you should be close to have the realtime update close to 1. Otherwise try, AHRS_EKT_TYPE 10, it will allow you to check if you model is correct. The type 10 feed the drone with its real position."
161,Lift drag plugin usage,7,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards",After many iteration on ATC_RAT_RLL_P / I ATC_RAT_PIT_P / I ATC_RAT_YAW_P / I takeoff correct without any oscillations  but when it arrives at a waypoint with angle < 90° it seems YAW command is inverted !
161,Lift drag plugin usage,8,"Hi, can you explain to me how aerodynamic parameters of the liftDrag plugin used in the IRIS quad demo in SITL / Gazebo was identified ? Best regards","Hi, from now UAV flights are good enough ! As the liftdragplugin sets rotor blade characteristics only, please could you explain which parameters in the ArduPilotPLugin correspond to motor limits ? (eg “multiplier” value vs rpm ? or eventually how to add them ?"
162,Testing Modfied Copter Firmware using SITL,1,"Hello, For the past few weeks, I have been learning the arducopter firmware and made some modifications to it. I used the master build of arducopter 4.0 and built it successfully and managed to flash and test it with a pixhawk on hand. But for future tests, I would like to test the firmware using SITL. I went through the developer guide and got SITL running and even got the gazebo iris demo working and played around with it. But now how do I use my modified firmware in SITL to test it. My goal would be to test the modified firmware in SITL and if possible also use gazebo to test the firmware with some flight missions. Any help would be much appreciated.","hello, That is just a matter of changing the targeted board on compilation To build on your pixhawk, you done something like * To build your firmware for SITL, just do * (or even waf configure as SITL is the default board type !) That is just to compile. You can still use sim_vehicle.py to launch the simuation like you do with master. It will also build SITL with your firmware version and launch it."
162,Testing Modfied Copter Firmware using SITL,2,"Hello, For the past few weeks, I have been learning the arducopter firmware and made some modifications to it. I used the master build of arducopter 4.0 and built it successfully and managed to flash and test it with a pixhawk on hand. But for future tests, I would like to test the firmware using SITL. I went through the developer guide and got SITL running and even got the gazebo iris demo working and played around with it. But now how do I use my modified firmware in SITL to test it. My goal would be to test the modified firmware in SITL and if possible also use gazebo to test the firmware with some flight missions. Any help would be much appreciated.","Hi, I tried it out and worked flawlessly. For some reason, I thought it would involve some complicated procedures. Thank you very much *"
163,Spoof GPS position on SITL,1,"Hello guys, I’m new on this forum and I would like to ask you guys the following… So, basically, I have a few experience on dronekit, since I flew my 3DR drone on my field for research purposes. I’m also used to test my flights on dronekit-sitl and see the drone’s mission on Mission Planner or QGroundControl before going outside. Now… my plan is to investigate about security issues on drones, specifically, GPS spoofing. The GPS spoofing is a technique that an attacker uses in order to deceive the GPS receiver of a victim. Once such GPS receiver is locked onto the spoofed GPS, the attacker has completely freedom and he can fly the drone in any arbitrary position. Well, before simulating a correct GPS spoofing, I still have to complete a preliminary task, that is, to send a generic fake GPS position, even so bad that the drone can immediately understand that and throw failsafe. The question is: how to edit and inject fake GPS position. Currently, I’m able to preload a simple static mission that comprises of two point. The drone takes off at a certain home position logically placed at 0,0 (relative Cartesian coordinates) and the second point is at 0,100. On my Python code I have set a listener so that when the drone approaches 0,20, something has to happen. But I’m not sure how to realize my thought. I’m trying to edit the GPS_RAW_INT variable, with no success: msg = vehicle.message_factory.gps_raw_int_encode(…) vehicle.send_mavlink(msg) I also tried to edit the GPS_INPUT variable, no way…: msg = vehicle.message_factory.gps_input_encode(…) vehicle.send_mavlink(msg) On QGroundControl actually there is the possibility to watch few variables on the fly and one of them is GPS_RAW_INT. The problem is that when I’m injecting the supposedly new GPS_RAW_INT value, on the frontend I’m not able to see nothing. Please give me hints. I repeat, I’m not asking you “how to realize and bring back at home a perfect GPS spoofing”, but I’m simply asking “how to dynamically change the GPS information in such a way to throw a simple failsafe”? Thanks so much for the moment… Francesco ","Hello, To do this on SITL you will have to path :  the easiest will be tonuse gps_input mavlink message. In order to use it, you need to change GPS_TYPE parameters to the right one the second way will be to use a tcp port or serial to inject your fake gps data on the gps format you wanr (nmea, ublox, etc). "
163,Spoof GPS position on SITL,2,"Hello guys, I’m new on this forum and I would like to ask you guys the following… So, basically, I have a few experience on dronekit, since I flew my 3DR drone on my field for research purposes. I’m also used to test my flights on dronekit-sitl and see the drone’s mission on Mission Planner or QGroundControl before going outside. Now… my plan is to investigate about security issues on drones, specifically, GPS spoofing. The GPS spoofing is a technique that an attacker uses in order to deceive the GPS receiver of a victim. Once such GPS receiver is locked onto the spoofed GPS, the attacker has completely freedom and he can fly the drone in any arbitrary position. Well, before simulating a correct GPS spoofing, I still have to complete a preliminary task, that is, to send a generic fake GPS position, even so bad that the drone can immediately understand that and throw failsafe. The question is: how to edit and inject fake GPS position. Currently, I’m able to preload a simple static mission that comprises of two point. The drone takes off at a certain home position logically placed at 0,0 (relative Cartesian coordinates) and the second point is at 0,100. On my Python code I have set a listener so that when the drone approaches 0,20, something has to happen. But I’m not sure how to realize my thought. I’m trying to edit the GPS_RAW_INT variable, with no success: msg = vehicle.message_factory.gps_raw_int_encode(…) vehicle.send_mavlink(msg) I also tried to edit the GPS_INPUT variable, no way…: msg = vehicle.message_factory.gps_input_encode(…) vehicle.send_mavlink(msg) On QGroundControl actually there is the possibility to watch few variables on the fly and one of them is GPS_RAW_INT. The problem is that when I’m injecting the supposedly new GPS_RAW_INT value, on the frontend I’m not able to see nothing. Please give me hints. I repeat, I’m not asking you “how to realize and bring back at home a perfect GPS spoofing”, but I’m simply asking “how to dynamically change the GPS information in such a way to throw a simple failsafe”? Thanks so much for the moment… Francesco ","Hi, thanks for your answer. I tried to figure out how to spoof GPS following your first hint but with not success… This is the used code: * The problem is that the drone doesn’t consider the new injected GPS at all. Basically, it is just an AUTO mode mission starting from the home position to a destination point which is 100 meters northern than home, and nothing else. Maybe, rather I would say “surely”, I’m doing something wrong with my code…"
164,X8 octa-quad SITL gazebo,0,Hi. Please is there exists a basic example as iris quad demo but for octa quad configuration ? Regards,
165,SITL Installation Problems; git submodule --init --recursive;,1,"Hey there guys, This is my first post here and I hope to come to you guys with more interesting stuff in the future besides problems.  Also, I hope I read and applied the guidelines well.  I’m hoping that this solution will help others in time to come too since I’m not the only one on campus encountering this problem.  Also, I’m pretty new to linux. Some prologue information: I’m using a fresh install of Ubuntu 16.04 lts, everything is up to date. I was following the instructions here: * however when I attempt the step:   git submodule --init --recursive  It looks like it works, up until it gets to the last submodule. I attempt to enter it a second time to receive this error: * I tried manually finding the submodule and cloning into the directory myself.  This still returns the same error when attempting the git submodule command. I continued further and followed the subsequent instructions, thinking that maybe my manual placing of the files was correct. when I enter * This is the output I recieve: * which appears to be a problem with python. Not the directory that I There is other pertinent information to provide. I am running the latest python version, I’ve attempted to run the pip commands both in sudo and not.  I’ve updated pip and used the “pip” and “pip2” commands.  Each attempt was done on a clean system and independently of each other. I’d really appreciate any help that might get SITL running.",Problem has been solved. The problem was a firewall issue.  After connecting to a different access point the original command worked flawlessly. Hope this helps any other students stuck on campuses that have archaic firewall restrictions!
165,SITL Installation Problems; git submodule --init --recursive;,2,"Hey there guys, This is my first post here and I hope to come to you guys with more interesting stuff in the future besides problems.  Also, I hope I read and applied the guidelines well.  I’m hoping that this solution will help others in time to come too since I’m not the only one on campus encountering this problem.  Also, I’m pretty new to linux. Some prologue information: I’m using a fresh install of Ubuntu 16.04 lts, everything is up to date. I was following the instructions here: * however when I attempt the step:   git submodule --init --recursive  It looks like it works, up until it gets to the last submodule. I attempt to enter it a second time to receive this error: * I tried manually finding the submodule and cloning into the directory myself.  This still returns the same error when attempting the git submodule command. I continued further and followed the subsequent instructions, thinking that maybe my manual placing of the files was correct. when I enter * This is the output I recieve: * which appears to be a problem with python. Not the directory that I There is other pertinent information to provide. I am running the latest python version, I’ve attempted to run the pip commands both in sudo and not.  I’ve updated pip and used the “pip” and “pip2” commands.  Each attempt was done on a clean system and independently of each other. I’d really appreciate any help that might get SITL running.",sorry ! but i dont understand what are you saying
166,Hil_actuator_outputs msg not sent,0,"Hi, it seems hil_actuator_outputs mavlink messages is not send and, if i 'm right, not implemented. Is there a way to get this msg or this information from some python or other program available during SITL gazebo ? Aim to use it in a gazebo plugin , Best regards,",
167,Error setting up SITL on ubuntu,0,"* Hello Everyone, I am trying to setup SITL on ubuntu and got this error. Can anyone help to fix this. Thanks!",
168,Problem with git submodule update --init --recursive,1,Sorry if this has already come up and been solved. While I am trying to install and build Ardupilot. I get to the stage where I have to use the git submodule update command with the two tags on the end. But when I try to do this it gives me an error. odroid@odroid:~/ardupilot$ git submodule update --init --recursive Cloning into ‘/home/odroid/ardupilot/modules/ChibiOS’… fatal: unable to connect to *: *[0: 61.9.194.18]: errno=No route to host *[1: 2001:8002:e21:f002::f5ff]: errno=Network is unreachable fatal: clone of ‘git://github.com/ArduPilot/ChibiOS.git’ into submodule path ‘/home/odroid/ardupilot/modules/ChibiOS’ failed Failed to clone ‘modules/ChibiOS’. Retry scheduled Thank you in advance. This error happens for all of the modules. But I have searched for a solution for an hour the last couple of days and have not been able to find anything unless I have just missed it. But thanks.,Did you fork and download using git? Looks to me that git can’t connect to the internet.
168,Problem with git submodule update --init --recursive,2,Sorry if this has already come up and been solved. While I am trying to install and build Ardupilot. I get to the stage where I have to use the git submodule update command with the two tags on the end. But when I try to do this it gives me an error. odroid@odroid:~/ardupilot$ git submodule update --init --recursive Cloning into ‘/home/odroid/ardupilot/modules/ChibiOS’… fatal: unable to connect to *: *[0: 61.9.194.18]: errno=No route to host *[1: 2001:8002:e21:f002::f5ff]: errno=Network is unreachable fatal: clone of ‘git://github.com/ArduPilot/ChibiOS.git’ into submodule path ‘/home/odroid/ardupilot/modules/ChibiOS’ failed Failed to clone ‘modules/ChibiOS’. Retry scheduled Thank you in advance. This error happens for all of the modules. But I have searched for a solution for an hour the last couple of days and have not been able to find anything unless I have just missed it. But thanks.,When downloading the repository. I had trouble so I ended up using the commands: git clone __________ --depth 1 cd ardupilot/ git fetch --unshallow and to me that looked like it worked. The main thing is that I was wondering if anyone would know a work around to the problem I am having with this.
168,Problem with git submodule update --init --recursive,3,Sorry if this has already come up and been solved. While I am trying to install and build Ardupilot. I get to the stage where I have to use the git submodule update command with the two tags on the end. But when I try to do this it gives me an error. odroid@odroid:~/ardupilot$ git submodule update --init --recursive Cloning into ‘/home/odroid/ardupilot/modules/ChibiOS’… fatal: unable to connect to *: *[0: 61.9.194.18]: errno=No route to host *[1: 2001:8002:e21:f002::f5ff]: errno=Network is unreachable fatal: clone of ‘git://github.com/ArduPilot/ChibiOS.git’ into submodule path ‘/home/odroid/ardupilot/modules/ChibiOS’ failed Failed to clone ‘modules/ChibiOS’. Retry scheduled Thank you in advance. This error happens for all of the modules. But I have searched for a solution for an hour the last couple of days and have not been able to find anything unless I have just missed it. But thanks.,"bit out of my depth, try asking the experts over on gitter *"
168,Problem with git submodule update --init --recursive,4,Sorry if this has already come up and been solved. While I am trying to install and build Ardupilot. I get to the stage where I have to use the git submodule update command with the two tags on the end. But when I try to do this it gives me an error. odroid@odroid:~/ardupilot$ git submodule update --init --recursive Cloning into ‘/home/odroid/ardupilot/modules/ChibiOS’… fatal: unable to connect to *: *[0: 61.9.194.18]: errno=No route to host *[1: 2001:8002:e21:f002::f5ff]: errno=Network is unreachable fatal: clone of ‘git://github.com/ArduPilot/ChibiOS.git’ into submodule path ‘/home/odroid/ardupilot/modules/ChibiOS’ failed Failed to clone ‘modules/ChibiOS’. Retry scheduled Thank you in advance. This error happens for all of the modules. But I have searched for a solution for an hour the last couple of days and have not been able to find anything unless I have just missed it. But thanks.,* should I just straight up put my first post into the main ardupilot chat on there?
168,Problem with git submodule update --init --recursive,5,Sorry if this has already come up and been solved. While I am trying to install and build Ardupilot. I get to the stage where I have to use the git submodule update command with the two tags on the end. But when I try to do this it gives me an error. odroid@odroid:~/ardupilot$ git submodule update --init --recursive Cloning into ‘/home/odroid/ardupilot/modules/ChibiOS’… fatal: unable to connect to *: *[0: 61.9.194.18]: errno=No route to host *[1: 2001:8002:e21:f002::f5ff]: errno=Network is unreachable fatal: clone of ‘git://github.com/ArduPilot/ChibiOS.git’ into submodule path ‘/home/odroid/ardupilot/modules/ChibiOS’ failed Failed to clone ‘modules/ChibiOS’. Retry scheduled Thank you in advance. This error happens for all of the modules. But I have searched for a solution for an hour the last couple of days and have not been able to find anything unless I have just missed it. But thanks.,"Similar issue. Git clone works, but git submodule update --init --recursive does not and returns errors: Git works fine on my machine for other projects, in fact getting submodules works for other projects. I am behind a proxy, but git proxy has been set (hence I can get the repo in the first place)."
169,SITL using Vagrant fails when running -f gazebo-iris,1,"Current Setup I am trying to utilize Gazebo with SITL and Vagrant I am running Ardupilot at HEAD(7e89591) and am running Ubuntu 18.04LTS on my host and the vagrant box is disco64. I am able to run SITL in vagrant as per the [wiki tutorial](file:///home/braedon/Repositories/ardupilot_wiki/dev/build/html/docs/setting-up-sitl-using-vagrant.html) and connect from my host machine with mavproxy. Adding Gazebo I am using the built-in Ardupilot gazebo plugin which works properly when running sim_vehicle on my host machine (Tested by taking off and viewing results in gazebo). Reading through the plugins source code it can be seen that the plugin Recieves info on 127.0.0.1:9002 and sends it on 127.0.0.1:9003. Since there is no ardupilot.vagrant check for gazebo I assumed I needed to change 127.0.0.1 to 10.0.2.2 in order to communicate with gazebo running on the host so I set SITL sim-address to 10.0.2.2 with the command vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" This allowed gazebo to connect giving the gazebo debug message [Dbg] [ArduCopterPlugin.cc:573] ArduCopter controller online detected. Yet the Mavproxy instance that is launched to run the mavinit.scr failed to connect to the Ardupilot instance and attempts to connect mavproxy manually from another terminal from inside vagrant and from the host machine all failed(ports were found with trailing ss and lsof commands). This error happened with and without adding the -A option and as best I can tell is happening because of the running of SITL Gazebo. Conclusion There are definite gaps in my knowledge as to how the setting of the SITL sim-address would affect things like mavproxy’s --sitl parameter since they are unrelated ports. But I am wondering is there something in the SITL Gazebo that would affect mavproxy’s ability to connect? If anyone has any insight into making this work or how this system works I’d be interested in hearing about it. Thanks! Command Outputs with gazebo Command used to launch vagrant vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" Command sim_vehicle uses to launch ardupilot  /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --sim-address 10.0.2.2 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14636 vagrant    3u  sock    0,9      0t0 132467 protocol: TCP arducopte 14636 vagrant    4u  IPv4 132468      0t0    UDP *:5501 arducopte 14636 vagrant    5u  IPv4 132469      0t0    UDP localhost:53568->localhost:5503 arducopte 14636 vagrant    6u  IPv4 132470      0t0    UDP *:9003 arducopte 14636 vagrant    7u  IPv4 132471      0t0    TCP *:5760 (LISTEN) arducopte 14636 vagrant    8u  IPv4 132472      0t0    TCP localhost:5760->localhost:59682 (ESTABLISHED) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:9003                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:* Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting SITL Gazebo Bind 127.0.0.1:9003 for SITL in Setting Gazebo interface to 10.0.2.2:9002  Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Contents of vagrant terminal (post build) 'build' finished successfully (3.104s) SIM_VEHICLE: Using defaults from (/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: ""/vagrant/Tools/autotest/run_in_terminal_window.sh"" ""ArduCopter"" ""/vagrant/build/sitl/bin/arducopter"" ""-S"" ""-I0"" ""--model"" ""gazebo-iris"" ""--speedup"" ""1"" ""--defaults"" ""/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm"" SIM_VEHICLE: Run MavProxy SIM_VEHICLE: ""mavproxy.py"" ""--master"" ""tcp:127.0.0.1:5760"" ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""10.0.2.2:14550"" ""--out"" ""10.0.2.2:14551"" RiTW: Starting ArduCopter : /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Connect tcp:127.0.0.1:5760 source_system=255 Running script (/home/vagrant/.mavinit.scr) Running script /home/vagrant/.mavinit.scr -> module load graph Loaded module graph -> set moddebug 3 -> module load msg Loaded module msg -> alias add fence-dalby fence load /home/pbarker/rc/ardupilot/Tools/autotest/ArduPlane-Missions/Dalby-OBC2016-fence.txt -> alias add wp-dalby wp load /home/pbarker/rc/cuav/script/OBC2016/mission-plane.txt -> alias add wp-dalby-heli wp load /home/pbarker/rc/cuav/script/OBC2016/mission-heli.txt -> alias add grcall graph RC_CHANNELS.chan1_raw RC_CHANNELS.chan2_raw RC_CHANNELS.chan3_raw RC_CHANNELS.chan4_raw RC_CHANNELS.chan5_raw RC_CHANNELS.chan6_raw RC_CHANNELS.chan7_raw RC_CHANNELS.chan8_raw RC_CHANNELS.chan9_raw RC_CHANNELS.chan10_raw RC_CHANNELS.chan11_raw RC_CHANNELS.chan12_raw -> alias add grchigh graph SERVO_OUTPUT_RAW.servo7_raw SERVO_OUTPUT_RAW.servo8_raw SERVO_OUTPUT_RAW.servo9_raw SERVO_OUTPUT_RAW.servo10_raw SERVO_OUTPUT_RAW.servo11_raw SERVO_OUTPUT_RAW.servo12_raw -> module load devop Loaded module devop -> alias add old devop read i2c bob 0 0x52 0xc0 1 -> alias add newx devop i2c read 0 0x55 0 16 -> alias add new devop i2c read 1 0x1e 0x00 1 -> alias add i2cscan devop i2c scan 1 -> alias add spiread devop spi read mpu6000 0xf5 1 -> alias add bob long set_message_interval Log Directory: Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760  MAV> link 1 down Output of normal SITL Launch Command used to start vagrant `vagrant ssh -c “sim_vehicle.py -j 2 -v ArduCopter” Command sim_vehicle uses to launch ardupilot /vagrant/build/sitl/bin/arducopter -S -I0 --model + --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14310 vagrant    3u  sock    0,9      0t0 130928 protocol: TCP arducopte 14310 vagrant    4u  IPv4 130929      0t0    UDP *:5501 arducopte 14310 vagrant    5u  IPv4 130930      0t0    UDP localhost:52848->localhost:5503 arducopte 14310 vagrant    6u  IPv4 130931      0t0    TCP *:5760 (LISTEN) arducopte 14310 vagrant    7u  IPv4 130932      0t0    TCP localhost:5760->localhost:59678 (ESTABLISHED) arducopte 14310 vagrant    9u  IPv4 130933      0t0    TCP *:5762 (LISTEN) arducopte 14310 vagrant   10u  IPv4 130934      0t0    TCP *:5763 (LISTEN) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43265                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                             127.0.0.1:9005                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:60530                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5762                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5763                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:*  Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 validate_structures:414: Validating structures Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm","Hello, What happen when you connect gazebo? It is normal that you lose the connection on mavproxy as SITL is in waiting state until gazebo connection is done. I recommend you to use the plugging for gazebo that we recommend on the wiki as they are more up to date with SITL"
169,SITL using Vagrant fails when running -f gazebo-iris,2,"Current Setup I am trying to utilize Gazebo with SITL and Vagrant I am running Ardupilot at HEAD(7e89591) and am running Ubuntu 18.04LTS on my host and the vagrant box is disco64. I am able to run SITL in vagrant as per the [wiki tutorial](file:///home/braedon/Repositories/ardupilot_wiki/dev/build/html/docs/setting-up-sitl-using-vagrant.html) and connect from my host machine with mavproxy. Adding Gazebo I am using the built-in Ardupilot gazebo plugin which works properly when running sim_vehicle on my host machine (Tested by taking off and viewing results in gazebo). Reading through the plugins source code it can be seen that the plugin Recieves info on 127.0.0.1:9002 and sends it on 127.0.0.1:9003. Since there is no ardupilot.vagrant check for gazebo I assumed I needed to change 127.0.0.1 to 10.0.2.2 in order to communicate with gazebo running on the host so I set SITL sim-address to 10.0.2.2 with the command vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" This allowed gazebo to connect giving the gazebo debug message [Dbg] [ArduCopterPlugin.cc:573] ArduCopter controller online detected. Yet the Mavproxy instance that is launched to run the mavinit.scr failed to connect to the Ardupilot instance and attempts to connect mavproxy manually from another terminal from inside vagrant and from the host machine all failed(ports were found with trailing ss and lsof commands). This error happened with and without adding the -A option and as best I can tell is happening because of the running of SITL Gazebo. Conclusion There are definite gaps in my knowledge as to how the setting of the SITL sim-address would affect things like mavproxy’s --sitl parameter since they are unrelated ports. But I am wondering is there something in the SITL Gazebo that would affect mavproxy’s ability to connect? If anyone has any insight into making this work or how this system works I’d be interested in hearing about it. Thanks! Command Outputs with gazebo Command used to launch vagrant vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" Command sim_vehicle uses to launch ardupilot  /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --sim-address 10.0.2.2 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14636 vagrant    3u  sock    0,9      0t0 132467 protocol: TCP arducopte 14636 vagrant    4u  IPv4 132468      0t0    UDP *:5501 arducopte 14636 vagrant    5u  IPv4 132469      0t0    UDP localhost:53568->localhost:5503 arducopte 14636 vagrant    6u  IPv4 132470      0t0    UDP *:9003 arducopte 14636 vagrant    7u  IPv4 132471      0t0    TCP *:5760 (LISTEN) arducopte 14636 vagrant    8u  IPv4 132472      0t0    TCP localhost:5760->localhost:59682 (ESTABLISHED) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:9003                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:* Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting SITL Gazebo Bind 127.0.0.1:9003 for SITL in Setting Gazebo interface to 10.0.2.2:9002  Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Contents of vagrant terminal (post build) 'build' finished successfully (3.104s) SIM_VEHICLE: Using defaults from (/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: ""/vagrant/Tools/autotest/run_in_terminal_window.sh"" ""ArduCopter"" ""/vagrant/build/sitl/bin/arducopter"" ""-S"" ""-I0"" ""--model"" ""gazebo-iris"" ""--speedup"" ""1"" ""--defaults"" ""/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm"" SIM_VEHICLE: Run MavProxy SIM_VEHICLE: ""mavproxy.py"" ""--master"" ""tcp:127.0.0.1:5760"" ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""10.0.2.2:14550"" ""--out"" ""10.0.2.2:14551"" RiTW: Starting ArduCopter : /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Connect tcp:127.0.0.1:5760 source_system=255 Running script (/home/vagrant/.mavinit.scr) Running script /home/vagrant/.mavinit.scr -> module load graph Loaded module graph -> set moddebug 3 -> module load msg Loaded module msg -> alias add fence-dalby fence load /home/pbarker/rc/ardupilot/Tools/autotest/ArduPlane-Missions/Dalby-OBC2016-fence.txt -> alias add wp-dalby wp load /home/pbarker/rc/cuav/script/OBC2016/mission-plane.txt -> alias add wp-dalby-heli wp load /home/pbarker/rc/cuav/script/OBC2016/mission-heli.txt -> alias add grcall graph RC_CHANNELS.chan1_raw RC_CHANNELS.chan2_raw RC_CHANNELS.chan3_raw RC_CHANNELS.chan4_raw RC_CHANNELS.chan5_raw RC_CHANNELS.chan6_raw RC_CHANNELS.chan7_raw RC_CHANNELS.chan8_raw RC_CHANNELS.chan9_raw RC_CHANNELS.chan10_raw RC_CHANNELS.chan11_raw RC_CHANNELS.chan12_raw -> alias add grchigh graph SERVO_OUTPUT_RAW.servo7_raw SERVO_OUTPUT_RAW.servo8_raw SERVO_OUTPUT_RAW.servo9_raw SERVO_OUTPUT_RAW.servo10_raw SERVO_OUTPUT_RAW.servo11_raw SERVO_OUTPUT_RAW.servo12_raw -> module load devop Loaded module devop -> alias add old devop read i2c bob 0 0x52 0xc0 1 -> alias add newx devop i2c read 0 0x55 0 16 -> alias add new devop i2c read 1 0x1e 0x00 1 -> alias add i2cscan devop i2c scan 1 -> alias add spiread devop spi read mpu6000 0xf5 1 -> alias add bob long set_message_interval Log Directory: Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760  MAV> link 1 down Output of normal SITL Launch Command used to start vagrant `vagrant ssh -c “sim_vehicle.py -j 2 -v ArduCopter” Command sim_vehicle uses to launch ardupilot /vagrant/build/sitl/bin/arducopter -S -I0 --model + --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14310 vagrant    3u  sock    0,9      0t0 130928 protocol: TCP arducopte 14310 vagrant    4u  IPv4 130929      0t0    UDP *:5501 arducopte 14310 vagrant    5u  IPv4 130930      0t0    UDP localhost:52848->localhost:5503 arducopte 14310 vagrant    6u  IPv4 130931      0t0    TCP *:5760 (LISTEN) arducopte 14310 vagrant    7u  IPv4 130932      0t0    TCP localhost:5760->localhost:59678 (ESTABLISHED) arducopte 14310 vagrant    9u  IPv4 130933      0t0    TCP *:5762 (LISTEN) arducopte 14310 vagrant   10u  IPv4 130934      0t0    TCP *:5763 (LISTEN) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43265                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                             127.0.0.1:9005                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:60530                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5762                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5763                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:*  Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 validate_structures:414: Validating structures Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm",I get the message from gazebo saying that an ardupilot controller is connected [Dbg] [ArduCopterPlugin.cc:573] ArduCopter controller online detected.. I am unable to connect a mavproxy session even after gazebo says it’s connected and the only way I know how to test if a gazebo connection is working is to issue commands via mavproxy. I can go ahead and give the other plugins a try but since this plugin works when SITL is not in a vagrant box I figured the most likely issue was a specific port not being exposed that needed to be.
169,SITL using Vagrant fails when running -f gazebo-iris,3,"Current Setup I am trying to utilize Gazebo with SITL and Vagrant I am running Ardupilot at HEAD(7e89591) and am running Ubuntu 18.04LTS on my host and the vagrant box is disco64. I am able to run SITL in vagrant as per the [wiki tutorial](file:///home/braedon/Repositories/ardupilot_wiki/dev/build/html/docs/setting-up-sitl-using-vagrant.html) and connect from my host machine with mavproxy. Adding Gazebo I am using the built-in Ardupilot gazebo plugin which works properly when running sim_vehicle on my host machine (Tested by taking off and viewing results in gazebo). Reading through the plugins source code it can be seen that the plugin Recieves info on 127.0.0.1:9002 and sends it on 127.0.0.1:9003. Since there is no ardupilot.vagrant check for gazebo I assumed I needed to change 127.0.0.1 to 10.0.2.2 in order to communicate with gazebo running on the host so I set SITL sim-address to 10.0.2.2 with the command vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" This allowed gazebo to connect giving the gazebo debug message [Dbg] [ArduCopterPlugin.cc:573] ArduCopter controller online detected. Yet the Mavproxy instance that is launched to run the mavinit.scr failed to connect to the Ardupilot instance and attempts to connect mavproxy manually from another terminal from inside vagrant and from the host machine all failed(ports were found with trailing ss and lsof commands). This error happened with and without adding the -A option and as best I can tell is happening because of the running of SITL Gazebo. Conclusion There are definite gaps in my knowledge as to how the setting of the SITL sim-address would affect things like mavproxy’s --sitl parameter since they are unrelated ports. But I am wondering is there something in the SITL Gazebo that would affect mavproxy’s ability to connect? If anyone has any insight into making this work or how this system works I’d be interested in hearing about it. Thanks! Command Outputs with gazebo Command used to launch vagrant vagrant ssh -c ""sim_vehicle.py -j 2 -A '--sim-address 10.0.2.2' -v ArduCopter -f gazebo-iris"" Command sim_vehicle uses to launch ardupilot  /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --sim-address 10.0.2.2 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14636 vagrant    3u  sock    0,9      0t0 132467 protocol: TCP arducopte 14636 vagrant    4u  IPv4 132468      0t0    UDP *:5501 arducopte 14636 vagrant    5u  IPv4 132469      0t0    UDP localhost:53568->localhost:5503 arducopte 14636 vagrant    6u  IPv4 132470      0t0    UDP *:9003 arducopte 14636 vagrant    7u  IPv4 132471      0t0    TCP *:5760 (LISTEN) arducopte 14636 vagrant    8u  IPv4 132472      0t0    TCP localhost:5760->localhost:59682 (ESTABLISHED) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:9003                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:* Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting SITL Gazebo Bind 127.0.0.1:9003 for SITL in Setting Gazebo interface to 10.0.2.2:9002  Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Contents of vagrant terminal (post build) 'build' finished successfully (3.104s) SIM_VEHICLE: Using defaults from (/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm) SIM_VEHICLE: Run ArduCopter SIM_VEHICLE: ""/vagrant/Tools/autotest/run_in_terminal_window.sh"" ""ArduCopter"" ""/vagrant/build/sitl/bin/arducopter"" ""-S"" ""-I0"" ""--model"" ""gazebo-iris"" ""--speedup"" ""1"" ""--defaults"" ""/vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm"" SIM_VEHICLE: Run MavProxy SIM_VEHICLE: ""mavproxy.py"" ""--master"" ""tcp:127.0.0.1:5760"" ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""10.0.2.2:14550"" ""--out"" ""10.0.2.2:14551"" RiTW: Starting ArduCopter : /vagrant/build/sitl/bin/arducopter -S -I0 --model gazebo-iris --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm,/vagrant/Tools/autotest/default_params/gazebo-iris.parm Connect tcp:127.0.0.1:5760 source_system=255 Running script (/home/vagrant/.mavinit.scr) Running script /home/vagrant/.mavinit.scr -> module load graph Loaded module graph -> set moddebug 3 -> module load msg Loaded module msg -> alias add fence-dalby fence load /home/pbarker/rc/ardupilot/Tools/autotest/ArduPlane-Missions/Dalby-OBC2016-fence.txt -> alias add wp-dalby wp load /home/pbarker/rc/cuav/script/OBC2016/mission-plane.txt -> alias add wp-dalby-heli wp load /home/pbarker/rc/cuav/script/OBC2016/mission-heli.txt -> alias add grcall graph RC_CHANNELS.chan1_raw RC_CHANNELS.chan2_raw RC_CHANNELS.chan3_raw RC_CHANNELS.chan4_raw RC_CHANNELS.chan5_raw RC_CHANNELS.chan6_raw RC_CHANNELS.chan7_raw RC_CHANNELS.chan8_raw RC_CHANNELS.chan9_raw RC_CHANNELS.chan10_raw RC_CHANNELS.chan11_raw RC_CHANNELS.chan12_raw -> alias add grchigh graph SERVO_OUTPUT_RAW.servo7_raw SERVO_OUTPUT_RAW.servo8_raw SERVO_OUTPUT_RAW.servo9_raw SERVO_OUTPUT_RAW.servo10_raw SERVO_OUTPUT_RAW.servo11_raw SERVO_OUTPUT_RAW.servo12_raw -> module load devop Loaded module devop -> alias add old devop read i2c bob 0 0x52 0xc0 1 -> alias add newx devop i2c read 0 0x55 0 16 -> alias add new devop i2c read 1 0x1e 0x00 1 -> alias add i2cscan devop i2c scan 1 -> alias add spiread devop spi read mpu6000 0xf5 1 -> alias add bob long set_message_interval Log Directory: Telemetry log: mav.tlog Waiting for heartbeat from tcp:127.0.0.1:5760  MAV> link 1 down Output of normal SITL Launch Command used to start vagrant `vagrant ssh -c “sim_vehicle.py -j 2 -v ArduCopter” Command sim_vehicle uses to launch ardupilot /vagrant/build/sitl/bin/arducopter -S -I0 --model + --speedup 1 --defaults /vagrant/Tools/autotest/default_params/copter.parm Output of lsof -p … | egrep ‘TCP|UDP’ arducopte 14310 vagrant    3u  sock    0,9      0t0 130928 protocol: TCP arducopte 14310 vagrant    4u  IPv4 130929      0t0    UDP *:5501 arducopte 14310 vagrant    5u  IPv4 130930      0t0    UDP localhost:52848->localhost:5503 arducopte 14310 vagrant    6u  IPv4 130931      0t0    TCP *:5760 (LISTEN) arducopte 14310 vagrant    7u  IPv4 130932      0t0    TCP localhost:5760->localhost:59678 (ESTABLISHED) arducopte 14310 vagrant    9u  IPv4 130933      0t0    TCP *:5762 (LISTEN) arducopte 14310 vagrant   10u  IPv4 130934      0t0    TCP *:5763 (LISTEN) Output of ss -tulw Netid       State         Recv-Q        Send-Q                    Local Address:Port                      Peer Address:Port icmp6       UNCONN        0             0                              *%enp0s3:ipv6-icmp                            *:* udp         UNCONN        0             0                         127.0.0.53%lo:domain                         0.0.0.0:* udp         UNCONN        0             0                      10.0.2.15%enp0s3:bootpc                         0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43265                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:43440                          0.0.0.0:* udp         UNCONN        0             0                             127.0.0.1:9005                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:60530                          0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:mdns                           0.0.0.0:* udp         UNCONN        0             0                               0.0.0.0:5501                           0.0.0.0:* udp         UNCONN        0             0                                  [::]:51879                             [::]:* udp         UNCONN        0             0                                  [::]:mdns                              [::]:* tcp         LISTEN        0             128                           127.0.0.1:6010                           0.0.0.0:* tcp         LISTEN        0             128                           127.0.0.1:6011                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5760                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5762                           0.0.0.0:* tcp         LISTEN        0             5                               0.0.0.0:5763                           0.0.0.0:* tcp         LISTEN        0             128                       127.0.0.53%lo:domain                         0.0.0.0:* tcp         LISTEN        0             128                             0.0.0.0:ssh                            0.0.0.0:* tcp         LISTEN        0             128                               [::1]:6010                              [::]:* tcp         LISTEN        0             128                               [::1]:6011                              [::]:* tcp         LISTEN        0             128                                [::]:ssh                               [::]:*  Contents of ardupilot terminal Set parameter SIM_SPEEDUP to 1.000000 Starting sketch 'ArduCopter' Starting SITL input Using Irlock at port : 9005 bind port 5760 for 0 Serial port 0 on TCP port 5760 Waiting for connection .... Connection on serial port 0 Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Smoothing reset at 0.001 bind port 5762 for 2 Serial port 2 on TCP port 5762 bind port 5763 for 3 Serial port 3 on TCP port 5763 validate_structures:414: Validating structures Loaded defaults from /vagrant/Tools/autotest/default_params/copter.parm","Ok, So I have now installed your plugin ( which I struggled to install until I found the issue you opened in gazebos bitbucket since I used cartographer as well) and I am seeing the exact same behavior which brings me back to the conclusion that it has to do with the SITL gazebo class and not the plugin(specifically since the first mavproxy connection happens inside the vagrant environment with the instance of ardupilot I dont think its a ports issue). Although as the author of a gazebo ardupilot plugin can you confirm that the only interaction gazebo needs with ardupilot is over ports 9002 and 9003 or are there more interactions that Im missing?  I’m not very confident that I know where gazebo fits into this diagram from the Ardupilot SITL wiki landing page *"
170,SITL GpsFixType is always GPS_FIX_TYPE_RTK_FIXED,1,"I am using the dronefleet/mavlink Java library to make my own GCS. I am trying to detect when the drone is ready to arm, so that I can then arm it. I have a class that parses all GpsRawInt messages and is listening to see when the fixType on the message is greater than or equal to GPS_FIX_TYPE_3D_FIX. However, I have always noticed that the fix type reports itself as GPS_FIX_TYPE_RTK_FIXED. However, when I try to arm (if the copter hasn’t been on long enough) it says “PreArm: Need 3D Fix” in the status messages. So is the SITL broken, or is there an alternate way to figure out if I have a 3D fix or not? Thanks for any help.","Hello, You surely get the 3d fix need because the EKF didn’t finished to warm up. You should look at ekf status report. Check on the other how we are doing it ! That is in Tools/autotest, surely in common.py and copter.py"
170,SITL GpsFixType is always GPS_FIX_TYPE_RTK_FIXED,2,"I am using the dronefleet/mavlink Java library to make my own GCS. I am trying to detect when the drone is ready to arm, so that I can then arm it. I have a class that parses all GpsRawInt messages and is listening to see when the fixType on the message is greater than or equal to GPS_FIX_TYPE_3D_FIX. However, I have always noticed that the fix type reports itself as GPS_FIX_TYPE_RTK_FIXED. However, when I try to arm (if the copter hasn’t been on long enough) it says “PreArm: Need 3D Fix” in the status messages. So is the SITL broken, or is there an alternate way to figure out if I have a 3D fix or not? Thanks for any help.","Thanks for the quick response! I looked into Tools/autotest and found where they check if the EKF is happy or not. I see message #230 * here seems to give me the information I need. That is excellent, but whenever I request to begin a stream of message 230 to my custom (Java) GCS, I get a “No ap_message for mavlink id (230)” message from the autopilot. I’m on the latest Copter-4.0 SITL and can’t get it working. Any ideas there?"
170,SITL GpsFixType is always GPS_FIX_TYPE_RTK_FIXED,3,"I am using the dronefleet/mavlink Java library to make my own GCS. I am trying to detect when the drone is ready to arm, so that I can then arm it. I have a class that parses all GpsRawInt messages and is listening to see when the fixType on the message is greater than or equal to GPS_FIX_TYPE_3D_FIX. However, I have always noticed that the fix type reports itself as GPS_FIX_TYPE_RTK_FIXED. However, when I try to arm (if the copter hasn’t been on long enough) it says “PreArm: Need 3D Fix” in the status messages. So is the SITL broken, or is there an alternate way to figure out if I have a 3D fix or not? Thanks for any help.","I figured out my own issue… I needed to use message #193 which is no listed on the Mavlink common messages, but I figured out that is what MissionPlanner uses."
171,SITL with custom FDM,1,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin",Here is my working Matlab&Simulink interface (for now without FDM implementation). I hope it would help to someone. *
171,SITL with custom FDM,2,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi *, Thank you very much for this. You have no idea how helpful this is. I have created a 6DoF Simulink FDM of a tilt-rotor VTOL and am now trying to have it communicate with SITL. I know this might be asking much from you, but do you have a version of this which is incorporated with your Simulink FDM? It is just so that i can cross reference the data structure of each input and output."
171,SITL with custom FDM,3,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","HI *, Thank you. It looks very good. I am joining to * to ask you for some working example that incorporate simulink fdm. Another issue, I paid an attention that interface you have built gets only physical inputs. There is no possibility to send commands over mavlink interface. May you have some idea how can I to send commands to APM (sitl) over mavlink interface (and vice verca) directly from simulink? Thank you very much!"
171,SITL with custom FDM,4,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi *, *. For now I’m not able to provide you the whole Simulink FDM. I am going to make some minimalistic FDM in next two weeks and publish it on github. I’ll let you know. *, MAVlink commands should be sent to (and from) MAV Proxy over another UDP link, but haven’t tried it yet."
171,SITL with custom FDM,5,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi Martin *, Thank you a lot! I saw that there is an additional possibility to send commands directly via TCP/IP without using MAVlink <-- I have to test it too!  Anyway if you figure out / meet anywhere some good way to send commands between SITL and simulink FDM please let me know  Thanks Eugene"
171,SITL with custom FDM,6,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi * *, I’m wondering if you have made any progress with regards to the ArduPilot & Simulink interface? Many Thanks, AKmal Bakar"
171,SITL with custom FDM,7,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","* do you know what the update frequency needs to be? I have a custom integration sort of working - but the connection with ardupilot drops off with these messages:  link 1 down link 1 OK no link link 1 down link 1 OK no link link 1 down link 1 OK heartbeat OK  I’m assuming there’s some issue with the timing / frequency of updates from my simulated sensors, but no idea really. Any advice?"
171,SITL with custom FDM,8,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","I´m sorry but unfortunately I still haven´t found any time to make the demo. Update frequency what I use is 300 Hz for updating virtual sensor data (but probably should be 500 - 1000 Hz) and 50 Hz for updating servo data (again should be probably more, but it slows down the simulation if you don´t have powerful computer)."
171,SITL with custom FDM,9,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi * Thank you very much for your Matlab&Simulink interface. I tried to run a SITL with a plane FDM using your Interface but it did not really work. So I was wondering if this Interface works with the plane mode or only with multirotors. Does it? And if not, do you know something I can use instead?"
171,SITL with custom FDM,10,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","I made the interface primarily for simulating quadplane, so I’ve tried it with ArduPlane. But it uses common interface to Gazebo, which should be the same for Copter and even for Rover I think. I would suggest you to make sure that data which are sent corresponds with data in struct “fdm_packet” in * and data which are received from SITL corresponds with struct “servo_packet”. Also make sure you run SITL in Gazebo mode (sim_vehicle.py --model gazebo). Good luck. Martin"
171,SITL with custom FDM,11,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Hi *! Thank you very much for your advice. I checked that, but I did not really understand how the position is handled. It’s sad the position is send according to the NED frame. So is the position in the init file (sitl.location.latLon = [-35.362938, 149.165085]; sitl.location.height = -585;) the reference point (means 0, 0, 0 in the NED)? I tried to test the assumption and I allways get various error massenges like “Bad AHRS” and “vertical position variance”. I’m sry but I have no clue how mission planner sitl works, what it needs to know to be happy or what these errors mean. Do you know how to deal with this problem? Are there some settings to change in mission planner?"
171,SITL with custom FDM,12,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","first of all, “Bad AHRS” is exactly what should you get when linear acceleration and velocity is [0,0,0] . Try to change acceleration_lin to [0,0,9.81] (gravity acceleration). It should help. Also check initial orientation if matches [0,0,0]. Initial position NED [0,0,0] is OK. If this doesn’t help, click to EKF in Mission planner and send me screenshot. Mission planner shouldn´t affect working of AHRS."
171,SITL with custom FDM,13,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Thank you a lot!  The position variance error is gone and EKF shows white. I set the position to [0,0,-9.82961] which should be the geogravity in Seattle (where the home point of the sitl is). Still, the yaw angle oscillates between approx 354 and 6 in heading, which leads to an AHRS error. I tried to solve this by taking the gradient of the runway (0.17%) into account but the oscillations are sill there. Is there something I still have forgotten? How does the position in the init file affect the sitl, since I allways start in Seattle? Many Thanks, Patrick"
171,SITL with custom FDM,14,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Of course I set the linear acceleration to [0,0,-9.82961] and not the position. Sry about that mistake."
171,SITL with custom FDM,15,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin",make sure your initial yaw rotation in SITL is 0 (as your rotation in matlab). Have you tried to wait about 50 seconds (of the simulation time). I think it should stop showing bad AHRS and then you should be able to arm. Don’t give it up  Martin
171,SITL with custom FDM,16,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin","Great thanks for your patience  At the beginning (first few seconds) there’s no “BAD AHRS”- error and the yaw value oscilates near zero. But at some point the deviation from zero get’s bigger and bigger. The initial yaw in the SITL is the heading option in the simulation tab of mission planner, right? I have a log file in that Dropbox folder: *  Maybe that makes it a bit clearer what I tried to describe."
171,SITL with custom FDM,17,"Hello, I am working on SITL simulation of multirotor (maybe VTOL if possible in the future) with my own FDM (in Matlab / Simulink). I am using AP SITL with “model Gazebo” as interface and I successfully made some communication (FDM data to AP and servos/motors from AP). When I arm and takeoff in guided mode after about 10 meters of vertical movement the plane starts swinging and I got message “EKF: velocity variance” and then starts uncontrolable rotate. Maybe I am sending some bad data from Simulink. From the source code I found that SIM_Gazebo receives struct consists of timestamp in seconds, imu_angular_velocity_rpy, imu_linear_acceleration_xyz, imu_orientation_quat, velocity_xyz and position_xyz. What is the coordinate system of velocity_xyz (body or earth)? Should be angular velocity in rad/s, acceleration in m/s^2 and position in meters? What should be update frequency of FDM data and motors data? Thank you very much for any advice. Martin",Has any progress been made on this?
172,Change Data Rates Reverts to Old Values,1,"After updating the requested rate for messages, it seems that in the SITL it periodically ramps up to the requested rate and then reverts to the original rate. For example if I change the attitude update rate to something like 10Hz it will periodically get up to 10Hz but then ramp back to 4Hz. I have tested this using both custom software and Mission Planner. Each behavior is the same per SITL, but works fine in the real world. Is this something I can change in a setting somewhere or overcome?",Both MP and Mavproxy set the rates to 4Hz automatically unless you explicitly tell them not to. So start MavProxy with --stream-rate=-1 or something like that.
173,Is it possible to perform a dynamic simulation of a swarm of ardupilot quadcopters?,1,"Hi Everyone, I am working with Linux based Raspberry Pi drones and I want to make them work as a swarm using Ardupilot. As working in a Vicon room is not always possible  is it possible to perform a dynamic simulation of a swarm of ardupilot quadcopters? Could this be done in Gazebo? Any info would be useful. I’m running Ubuntu 16.04 LTS and ROS kinetic and if you need more information from my part please ask. Thank you all in advance for your help, Pedro Wunsch","Hello, What do you mean by dynamic simulation ? You should be able to launch 254 simulated drone before having id issue. You could also use gazebo to have 3d simulation. But depending on your goal, simply use a SITL swarm is enough"
174,AirSim + Multiple ArduCopter SITL + MAVROS,1,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","* It seems to be a bit complicated setup, I don’t have quite a lot of experience with ROS but will try and test to see what’s happening. Most of the things look good, since you’re not using Follow behaviour, maybe try removing the multicast part and see if it changes anything? Also, are things working properly when using just a single copter? If not, then that would be the first thing to fix Hope this helps!"
174,AirSim + Multiple ArduCopter SITL + MAVROS,2,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","*  I was able to get mult-vehicle simulation with AirSim running with ROS, but it’s all really in the very early stages so things “just work”. Will need to dig deeper to figure out more things but posting here. First thing is the script, my final script which works right now (just posted the relevant portion) - For launching ROS, launching different launch files seperately didn’t work, probably due to multiple ROS masters, therefore wrote a launch file with different namespaces for each copter. The launch file- I’ve pushed the files to this branch - * The script in the branch would be quite bigger than the original since it was branched from this PR - Will be great to have your comments or suggestions! For running the ROS script, first run libraries/SITL/examples/Airsim/test_multi_ros.sh from the ardupilot root directory. Then for starting ROS, first go to libraries/SITL/examples/Airsim directory, then from there run roslaunch multi_uav_ros_sitl.launch Running MAVProxy causes ROS to stop working, but I think that can be fixed by adding more --uart options in the script and making MAVProxy connect to them. I’m also getting the RTT messages, need to investigate more on this entire thing. This page could be very helpful, it’s for PX4 but most of the ROS specific stuff is very useful. *"
174,AirSim + Multiple ArduCopter SITL + MAVROS,3,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","Hello there, I’ve been experimenting with the system above and I have observed the following:   When I use sim_vehicle.py, MAVProxy also runs and performs a UDP port multiplexing by offering me UDP ports 14550 and 14551 (for first agent, the remaining will have +10 per id, for each port), so that I can connect MAVROS to one and another GCS to the other. However, the ArduCopter SITL binary, by itself, does not provide this multiplexing and when I connect MAVROS, it does not detect that there is an instance of SITL running, waiting for communication as I don’t see any confirmation on MAVROS side. The weird thing is when I send commands by publishing to MAVROS topics or requesting it’s services, the robot responds, so, the problem should be at the side where SITL sends feedback messages. I think only running SITL does not establish a connection where MAVROS can actually collect updates so that I can rostopic echo them into the terminal.   The other thing is your launch file setting does not work within my environment because of the port mismatches, but I think it’s a matter of settings of the working environment. However, when I start SITL with sim_vehicle.py, I realized that with each MAVROS launch, I need to keep tgt_system argument at value 1; otherwise, MAVROS does not detect SITL for some reason.   I might be wrong, I’m open to criticism."
174,AirSim + Multiple ArduCopter SITL + MAVROS,4,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","Your issue with mavros is simple, you just need to set the stream rate correctly to receive data. Check on discuss or a search engine to get the right command. tgt_system should match the drone SYSID."
174,AirSim + Multiple ArduCopter SITL + MAVROS,5,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","The multiplexing info seems correct, though I don’t know much about it. For the binaries, I think if more uart connections are added, it should work. I didn’t need to set the stream_rate as * suggested when using my script to echo the topic, but might be needed. I think this is what * is suggesting - * Are you using just the launch file or my modified script also? If just the launch file then I think fixing the ports should be enough. Using both the script and launch file together should work, will probably work more on the whole thing today. Each sim_vehicle.py launch will launch a new vehicle which would be independent of each other, with each of them having SYSID as 1. Even the binaries, when launched with separate instance values, would keep SYSID as 1, just changes the port numbers, IIRC. Therefore connecting through mavros would need tgt_system as 1 like * said. For different SYSIDs, would need to set them separately like done in the script"
174,AirSim + Multiple ArduCopter SITL + MAVROS,6,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","Thanks * and *  , it seems that my problem is solved. Now I have different tgt_system IDs, and it seems MAVROS topics are working and I don’t have to run a MAVProxy either."
174,AirSim + Multiple ArduCopter SITL + MAVROS,7,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","* Great! I have opened a PR for adding these files to the ardupilot repo *  * * Any comments, suggestions would be very much appreciated!"
174,AirSim + Multiple ArduCopter SITL + MAVROS,8,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","Hello again, I managed to launch multiple SITLs within the same Airsim environment with each of them is connected to a separate MAVROS node simultaneously. I have tested it with 9 arducopters. However, I have a problem that it takes too much time to establish stable MAVROS - SITL connections for the whole system, for following reasons:  When I launch a unique MAVROS node for an SITL right after bulk-launching SITLs with multi-copter.sh, I encounter with an error:  [ERROR] [1575895019.922019315]: udp0: sendto: Invalid argument terminate called after throwing an instance of 'std::system_error' what():  Resource deadlock avoided then, it takes a few trials (or waiting for OS about 15 seconds to - I guess - allocate the port as a resource in OS level or release it) to finally establish the stable UDP connection. When I checked the port usage with sudo lsof -i -P -n, I realized the actual SITL ports are different than the regular 14550, 14560 and so on. Instead, there were extra connections from the original ports to the regular ports. For example, for 4th SITL instance, in one of my tests with 4 SITL instances, it was like 127.0.0.1:48283 -> 127.0.0.1:14580.  Then, even if MAVROS node starts, it can get stuck in the parameter request loop which doesn’t seem to end at all. A similar problem was issued to MAVROS repo in GitHub (in my case, I did not see any clock skew problems, though). I followed the advice given there and added SERIAL1_BAUD 921 to the identity.parm file generated for each copter to be launched when using multi-copter.sh script. It doesn’t seem to solve the problem at all (well, I don’t think baud rate concept will fit UDP communication mechanism).  What might be the problem? I’m open to any ideas. Hope, I’m clear. Thanks in advance…"
174,AirSim + Multiple ArduCopter SITL + MAVROS,9,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","Didn’t go uptill 9, AirSim itself is quite heavy, 9 vehicles would have put your system through the paces, particularly if it’s a single laptop like mine. Would have also been quite repetitive to create the settings and the launch file, I was thinking of looking into ways of automating this, writing a python script should be possible. So you’ve launched multiple SITL binaries and then starting a separate Mavros node for one on them? Could you share the command or the launch file used for that? Each SITL binary will need to have a different port for Mavros to connect to, which is being done here- *  I think that’s what you’re referring to? Or am I mistaken and it’s something else? Yes, even I have faced that problem, happened randomly. Setting the baud rate won’t affect this since it’s not serial. No idea how to tackle this"
174,AirSim + Multiple ArduCopter SITL + MAVROS,10,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak","I’m using a desktop which has i7-5820K at 3.3 GHz with 6 cores (12 threads) and GTX 970 4 GB, so it does not put much of an overhead. However, I’m going to add more stuff on top of the MAVROS and SITL, so I can’t guarantee that AirSim will run smoothly at the end (If you suggest Gazebo, based on my experiences with it, I’d say it’s not the best simulator at handling resources and making good use of the underlying hardware). Basically, there are N SITLs each of which has a unique UDP port number; hence, each vehicle is distinct (it does not have to be 9, it was a stress test that I wanted to see how much my setup can handle; my problems can happen with 2 SITLs as well). For now, in one terminal, I run:  bash multi-copter.sh [GCS_IP] [N]  And in N distinct terminals, I run:  roslaunch mavros uav.launch fcu_url:=“udp://127.0.0.1: port @ port” tgt_system:=“i”  where i is from 0 to (N - 1) and port is (14550 + i * 10). The launch file is basically a copy of apm.launch ."
174,AirSim + Multiple ArduCopter SITL + MAVROS,11,"Hello, I am trying to fly multiple quadrotors each led by its own ArduCopter SITL instance in AirSim simulation and also aim to control them through MAVROS topics and services with a couple ROS nodes. I do not start any kind of GCS. I examined how ArduCopter SITL runs through terminal environment and came up with the following (I slightly modified the libraries/SITL/examples/AirSim/follow-copter.sh so that each instance would be controlled by its own SITL, instead of following the quad with SYSID - 1): *  MCAST_IP is default multicast IP GCS_IP is just 127.0.0.1 NCOPTER is the argument for how many quads I want to fly/simulate in AirSim  I have managed to run multiple SITLs with distinct UDP ports and connections. However, I have a problem with connecting MAVROS and properly using ROS mechanism. For example, I have 2 quads with the following distinct arguments:  –uartA udpclient:127.0.0.1:14550 --instance 0 –uartA udpclient:127.0.0.1:14560 --instance 1  I launch first MAVROS with the following:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14550@14550”  which does not connect to the SITL at all, it just runs the default mavros and waits for an SITL to connect, I guess. The second one is similar:  roslaunch mavros apm.launch fcu_url:=“udp://127.0.0.1:14560@14560”  which connects to the correct quad, but there is no topic update that one can echo in terminal (e.g. /mavros/global_position/local topic) and after a short while I get the following ROS warning:  [ WARN] [1574759517.528657495]: TM : RTT too high for timesync: 1574759367495.41 ms.  The strange thing is that when I try to arm, change mode of the (second) quad or send position/velocity setpoints via MAVROS, it responds normally, but I can’t see the expected changes in the topics that I wanted to echo in the terminal (can’t echo anything at all). When I use MAVProxy GCS, it offers 2 UDP output ports for each instance and I can connect MAVROS in that situation, but I do not want to do that because I want to decrease computational overhead. My questions are:  SITLs are distinctly running, but how can I connect MAVROS to each? What could be the reason behind the huge RTT time? AirSim utilizes GPU resources (it has its own weird problems as well, but that’s a discussion for another post), so I do not think it would cause such problem and with a GCS the RTT drops to normal levels. Is there an easier way to achieve what I’m trying to do?  Hope I’ll be understood, sorry for the long post and thanks in advance, Burak",Serial baudrate is no use for IP connection. You can speed up the parameters request by raising the SRX_PARMS parameter (change X by the correct number) The port number you see on udp on mavros side is correct as it auto assign it. But it shouldn’t struggle to connect. Maybe wait for aisim to be fully launched before launching all you mavros instance.
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,1,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait",The whitespace in the Path might be an issue
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,2,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Hi, I’m assuming that since you’re trying mutli-vehicle simulation, then it’s all working properly with a single drone. Yes, the script was written for Linux, but I think it should work for Cygwin as well, but can’t say for sure since I haven’t tested it on that. Unfortunately, I won’t be able to do so for some days atleast since recently did a fresh installation and will need to install everything again and also have exams right now. Yes, this IP address (239.255.145.50:14550) seems very strange, on digging around a bit found this but still have no idea why *  Anyways, you could try specifying the IP directly, maybe something like mcast:127.0.0.1:14500, hopefully the format is correct but might need some modification For MAVProxy, please have a look at this - * Hope this helps!"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,3,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Hi thank you for the quick answer, I specified the mcast:127.0.0.1:14550 but still getting the multicast error. However, the first time i ran it, i got the two drones in Airsim visualized (image below) but Unreal was stuck. I’m getting a continuous output “No sensor message received - Bad file descriptor” (i looked in sim_vehicle.py and couldn’t find this error).  Do you really think that the Windows User folder whitespace could be the problem? * This is my console output right now (not the one with the two stuck drones, that one was similar but after a moment, the “No sensor data” error stopped and the two drones popped up) Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 Starting copter 1 No sensor message received - Invalid argument ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5897 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 UDP multicast connection 127.0.0.1:14550 multicast membership add failed on port 14550 - Cannot assign requested address No sensor message received - Bad file descriptor No sensor message received - Bad file descriptor No sensor message received - Bad file descriptor No sensor message received - Bad file descriptor No sensor message received - Bad file descriptor"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,4,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* Well, certainly the whitespace isn’t the issue, or the binaries themselves wouldn’t have been located and executed  The “No sensor message received” message is being generated from the AirSim backend in ArduPilot *  The Bad File descriptor is due to the socket not being initialized properly, and the Unreal Engine is stuck since it’s waiting for messages from Ardupilot. I’ll try to test it as soon as possible on Windows, if possible, could you try using WSL once and see if the problem is occurring there also, if yes then atleast we’ll know it’s mostly related to Cygwin. From the new output you’ve posted above, it’s trying to bind the multicast socket to 127.0.0.1:14550, so the command-line value does work, try and see if changing the port makes any difference All of my testing on Windows was with Ardupilot running inside WSL, I don’t exactly remember if I had tested multi-vehicle simulation also but hopefully I did  Anyways, I’ll try to check this and will post if there’s any progress"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,5,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* I tried with WSL and this time i got a Windows Firewall prompt (maybe there is the issue). I gave permissions to ardupilot and then got the same error (but this tim, the original follow-copter.sh didn’t gave me the multicast error)."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,6,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* I’ve got it working finally! Got the same problems as yours, figuring it out was a long and screwed up journey from WSL issues to networking pages, but it’s working now!! I’ve pushed my changes to this branch - * Cleaning up and opening a PR will take some time, but hopefully soon. There were a lot of problems on the net with WSL networking and such, as to what is supported and all, but then from the commits above you can see how small the changes actually were, it’s funny and sad as well. The main thing whch put me on the right track - * So it seems like multicast on Windows works on 127.0.0.1, others are blocked by firewall. Though my testing was with the Firewall disabled, so might need to do that. Please test the changes on your system and see if it works, in WSL as well as Cygwin. I didn’t use Cygwin, but maybe might work. Thanks for reporting the issue and hopefully works on your system as well!"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,7,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Interesting, I just started to experiment on AirSim … and I like it  … Thanks I loaded WSL and experience the same issue on address: Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/alien/ardupilot/Tools/autotest/default_params/copter.parm,/home/alien/ardupilot/libraries/SITL/examples/Airsim/quadX.parm,follow.parm Home: -35.363262 149.165237 alt=584.000000m hdg=353.000000 UDP multicast connection 239.255.145.50:14550 UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address multicast bind failed on port 14550 - Cannot assign requested address Where do you change  this adress to 127.0.0.1  ? connection 239.255.145.50:14550"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,8,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* I changed it in the follow_copter.sh script - * Glad to know that you like it, I was thinking of starting off with some Vision & Lidar based experiments with it after my exams end, any ideas or suggestions would be great "
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,9,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait",OK I found a method with TCP on WSL2 A) You start the copter the usual way: libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 B) and you start mavproxy this way: mavproxy.py --master=tcp:127.0.0.1:5763 --master=tcp:127.0.0.1:5770 --source-system=1 --console --map and we have 2 friends flying 
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,10,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* Great! Did you have to change some things in the follow_copter.sh script? Since you’re using TCP, I think you would have modified this line to remove the udpclient and add tcp here (Also, now I can see that the udpclient problem would have been happening here, the $GCS_IP might have been empty) Also, is the mcast enabled? I’m not sure since both the vehicles are in Guided mode rather than the second one being in Follow mode where it’ll be needed"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,11,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Thank you *!!, I got the two copters now flying finally  (through connecting them one by one in MissionPlanner). Now i’m trying to attach mavproxy as the doc webpage suggests but I get an ‘X display’ error and the console nor the map are showing. Do you know what this might be *? I actually found mavproxy.py in the.local directory but not in /ardupilot as the documentation suggests."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,12,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Hello, You need a Graphic Server  for  Linux. I installed Xming X Server for Windows and it works pretty fine."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,13,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Hi *, I tried the fixes on Cygwin (without firewall) and still getting the error and the two freezed drones. Its working fine in WSL."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,14,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* Ahh, bad luck, maybe it was too much to hope that it would work on Cygwin as well. Could you do a short test and see if binding on 0.0.0.0 works? (mcast:0.0.0.0:14500), both with and without the fix, and see if that makes any difference? Just a thought which I had, I don’t have Cygwin setup right now, will take some time to get that up and running."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,15,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait",Thank you! I got it now. Still I haven’t been able to get the second drone to follow the first one.Did you managed? I don’t get a connection with mavproxy when running mavproxy.py --master=tcp:127.0.0.1:14550 --source-system 1 --console --map like in the docuementation. Connect tcp:127.0.0.1:14550 source_system=1 [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping Failed to connect to tcp:127.0.0.1:14550 : [Errno 111] Connection refused
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,16,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","I used these ports - that are the standard tcp ports for SITL. But I cannot get the multicast UDP started , I suspect there is some kind of problem wit this multicast script… but I did not looked at it yet"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,17,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait",Maybe try --master=tcp:0.0.0.0:14550 since that worked for multicast in Cygwin?
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,18,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","Based on this discussion, there can be quite a lot of improvements to the multi-vehicle script, atleast so that things don’t just stop working I’ve opened a PR - *  Would be great if you could test the PR! Please do comment for more changes, fixes, etc"
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,19,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait",* I tried your new script and it’s working fine in WSL even with 3 drones. But when i try to run mavproxy with the port 14550 i get this error. It seems that the only ports that i can get a heartbeat from the two drones are 5763 and 5770 like * did. jose@GN-PC-22-W:~$ ./.local/bin/mavproxy.py --master=0.0.0.0:14550 --source-system 1 --consol e --map Connect 0.0.0.0:14550 source_system=1 Loaded module console Loaded module map Log Directory: Telemetry log: mav.tlog Waiting for heartbeat from 0.0.0.0:14550 ** MAV>**
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,20,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* Thanks for testing! The MAVProxy problem is with WSL and Cygwin both or with Cygwin only? Also, from the picture, it seems that the Use Less CPU option is enabled in Unreal Engine. Not sure if that’s intentionally, but if not then do the following: Go to Edit->Editor Preferences, in the Search box type CPU and ensure that the Use Less CPU when in Background is unchecked. This will keep the graphics and everything same when switching between windows."
175,Simulating 2 drones with SITL/Airsim in Windows/Cygwin won't work,21,"Hi, i need some help please. I’m trying to simulate 2 drones as described in the the Ardupilot documentation/simulation * . I followed the steps and press play on Airsim, then executed “follow-copter.sh” from “~/ardupilot” directory but it isn’t spawning the 2 drones in Airsim. Everithing seems fine, the waf build is ok and the UDP ports but i get this UDP multicast error and i don’t know how to solve it. (IP shouldn’t be 127.0.0.1??) I think the problem is that i’m running on Windows10/Cygwin and “follow-copter.sh” was writen for linux (the next step in the documentation is to run “mavproxy.py” to attach MAVproxy but i can`t find this script anywhere in Cygwin). If this is the case, someone should especify this issue in the documentation to not confuse Windows users. This is what i get when i run $ libraries/SITL/examples/Airsim/follow-copter.sh 127.0.0.1 from ~/ardupilot Setting top to                           : /home/Jose Peck/ardupilot Setting out to                           : /home/Jose Peck/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Using toolchain                          : native Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for c flags ‘-MMD’              : yes Checking for cxx flags ‘-MMD’            : yes Checking for need to link with librt     : not necessary Checking for feenableexcept              : no Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (14.887s) Waf: Entering directory /home/Jose Peck/ardupilot/build/sitl' Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Waf: Leaving directory /home/Jose Peck/ardupilot/build/sitl’ BUILD SUMMARY Build directory: /home/Jose Peck/ardupilot/build/sitl Target          Text     Data   BSS  Total bin/arducopter  2642573  82868  416  2725857 Build commands will be stored in build/sitl/compile_commands.json ‘copter’ finished successfully (44.741s) Starting copter 1 Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9003 AirSim control interface set to 127.0.0.1:9002 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9005 UDP connection 127.0.0.1:14550 Loaded defaults from /home/copter.parm,/home/quadX.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address ~/ardupilot/copter1 ~/ardupilot ~/ardupilot Starting SITL Airsim Bind SITL sensor input at 127.0.0.1:9013 AirSim control interface set to 127.0.0.1:9012 Starting sketch ‘ArduCopter’ Starting SITL input Using Irlock at port : 9015 bind port 5770 for 0 Serial port 0 on TCP port 5770 Loaded defaults from /home/copter.parm,/home/quadX.parm,follow.parm UDP multicast connection 239.255.145.50:14550 multicast bind failed on port 14550 - Cannot assign requested address This is my Airsim settings.json { “SettingsVersion”: 1.2, “LocalHostIp”: “127.0.0.1”, “SimMode”: “Multirotor”, “OriginGeopoint”: { “Latitude”: -35.363261, “Longitude”: 149.165230, “Altitude”: 583 }, “Vehicles”: { “Copter1”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9003, “SitlPort”: 9002 }, “Copter2”: { “VehicleType”: “ArduCopter”, “UseSerial”: false, “DefaultVehicleState”: “Disarmed”, “UdpIp”: “127.0.0.1”, “UdpPort”: 9013, “SitlPort”: 9012, “X”: 0, “Y”: 3, “Z”: 0 } } } And this is my version of the follow-copter.sh. i made some path modifications because i had a problem reading into a directory with whitespace. #!/bin/bash assume we start the script from the root directory ROOTDIR=""$PWD"" COPTER=ardupilot/build/sitl/bin/arducopter.exe GCS_IP=$1 BASE_DEFAULTS=""/home/copter.parm,/home/quadX.parm"" [ -x “$COPTER” ] || { ./waf configure --board sitl ./waf copter } start up main rover in the current directory /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA udpclient:$GCS_IP --uartC mcast: --defaults $BASE_DEFAULTS & now start another copter to follow the first, using a separate directory to keep the eeprom.bin and logs separate for increasing the number of copters, change the number in seq for i in $(seq 1); do echo “Starting copter $i” mkdir -p copter$i * SYSID_THISMAV $SYSID FOLL_ENABLE 1 FOLL_OFS_X -5 FOLL_OFS_TYPE 1 FOLL_SYSID $FOLL_SYSID FOLL_DIST_MAX 1000 EOF pushd copter$i /home/‘Jose Peck’/ardupilot/build/sitl/bin/arducopter.exe --model airsim-copter --uartA tcp:0 --uartC mcast: --instance $i --defaults $BASE_DEFAULTS,follow.parm & popd done wait","* I switched to WSL, testing in Cygwin for me is a pain because of the whitespace in my Windows Users folder name (no easy task to remove). In order to test in Cygwin i need to modify follow-copter every time and change the ROOTDIR variable. I reduced the graphics because the computer i’m working on is really slow and so far I don’t need the visuals."
176,Running SITL to Test a Collision Avoidance Software,1,"Hi Y’all. I am an undergraduate researcher trying to test a distributed detect and avoid protocol on SITL drones. However, I can’t for the life of me figure out how to test the Collision Avoidance Software with even one SITL drone. I know this might be really basic, but I’m lost, and any help that anyone can provide would be much appreciated. Thanks! ","Hey Gabriella, I know exactly what you mean, this stuff is quite confusing.  Honestly, I am not 100% sure I know how to detect obstacles in the SITL simulated environment.  However, there are some tricks you can possibly take advantage of.    For example, if you want to run the collision avoidance behavior defined by the param AVOID_BEHAVE, you can set:  AVOID_ENABLE = 1 ( use fence for avoidance input sensing ) FENCE_ENABLE = 1 ( enable fence functionality )  This way, when you create a fence in SITL and fly the drone into it, it should detect the fence as an obstacle and then run the collision avoidance algorithm implemented in one of the avoidance library files.  I am not entirely sure how to set up an actual obstacle in SITL, unfortunately.  You can look at my other post on obstacle avoidance on tips for how to set up rangefinders.  One thing that you might consider is possibly setting up SITL with gazebo if you want better visualization or using the log files from mission planner if you are using that ( I think those have a good way of viewing the flight data ). I haven’t gotten around to fully testing these features yet, so I am not entirely sure all this will work. Hope this helps you get started! -Varun"
176,Running SITL to Test a Collision Avoidance Software,2,"Hi Y’all. I am an undergraduate researcher trying to test a distributed detect and avoid protocol on SITL drones. However, I can’t for the life of me figure out how to test the Collision Avoidance Software with even one SITL drone. I know this might be really basic, but I’m lost, and any help that anyone can provide would be much appreciated. Thanks! ","Hello *, As * explained, I think Gazebo can be a good solution. Depending on what you want to test, you can use sensors (like LIDAR, sonars, stereocameras etc.) for the detection on one side, and use the SITL of ArduCopter to evaluate your avoidance algorithm.  It can looks like something like that :  I recommand you to have a look to ROS and Mavros. You can manage all the components :  For Gazebo, you can generate your own model (it can takes time if you are not familiar with. IRIS drone already exist for a start) SITL already exists, it is well documented Your code can be in python, or cpp, where you can implement your smart avoidance (and also action like take off, land, go there etc). In real life, it will be like a companion computer giving order to your controller (Pixhawk or others).  And for the communication  Your code can have access to sensor through ROS : Gazebo has plugin to publish raw data into ROS topics The link between Gazebo and SITL already exists (http://ardupilot.org/dev/docs/using-gazebo-simulator-with-sitl.html) Your code can communicate with SITL through Mavros (publishing to ROS, translate into Mavlink for ArduCopter)  I hope it is clear, if not, let me know !"
176,Running SITL to Test a Collision Avoidance Software,3,"Hi Y’all. I am an undergraduate researcher trying to test a distributed detect and avoid protocol on SITL drones. However, I can’t for the life of me figure out how to test the Collision Avoidance Software with even one SITL drone. I know this might be really basic, but I’m lost, and any help that anyone can provide would be much appreciated. Thanks! ","Hello, How is it going? I am trying to combine the Gazebo with SITL. It seems okay for command via Mavproxy (mode, takeoff, RC…). However, for some feedback information (distance sensor, magnetic…) could you suggest how we gain them from the models back to mavproxy (our codes)? Thanks."
177,System cannot find file specified when running sim_vehicle.py,0,"* Im having some trouble with SITL, looking at other forum questions here I found that I should do the command ./Tools/autotest/sim_vehicle.py -v ArduCopter inside my ardupilot folder. This command gets this to start running but it seems to run into some kind of error. Any help is greatly appreciated, Thank you!",
178,Simulation before flyght,0,"Hi friends, i’m a demand before i begin my experience whit simulation SITL. It’s possible whit SITL simulate my real actual setup of my pixhawk 4? If yes, it’s possible simulate a flight where i drive my hexa whit trasnmitter? Thank’s to all",
179,FLARM Data in QGroundControl using a Simulation,0,How to display FLARM traffic in Qgroundcontrol using a simulator ?,
180,Accessing Gazebo Camera Using Application Outside ROS,1,"I have succesfully running Gazebo 8 + Ardupilot SITL on Ubuntu 16.04, I also succesfully using Mavproxy to interact SITL with a simple python script (Using Dronekit not ROS application). My question is there any method/tutorial to interact with the Gazebo camera to application outside ROS ? Maybe using UDP/TCP stream ? Or virtual webcam ? Thank you.","Did you find a way to do this? I’m looking for the same thing. Actually I can’t even get the Gazebo camera to work with ROS, the documentation website says this is done through the “ros_gazebo_camera” package, however I can’t find this package anywhere."
181,Ho to start the sitl simulation for fixed wing and quard copter,1,HI am new user of ardupilot software.  how to use sitl simulation software .  how to download sitl . what is procedure and steps . when am downloading sitl sofware its always faied . please any body help me . *,Well… a good place to start is to read the docs or
181,Ho to start the sitl simulation for fixed wing and quard copter,2,HI am new user of ardupilot software.  how to use sitl simulation software .  how to download sitl . what is procedure and steps . when am downloading sitl sofware its always faied . please any body help me . *,This sital is working with wifi network or telemetry link
182,Problem with setting up SITL on window,1,"Hi, I followed the instructions on *, than proceed to this page, *. Everything goes find but I stuck on “Build with Waf” stage. When I finish installing waf base on *, and I install it under C:\cygwin64\home\abc\ardupilot. However, when I key in the lines below into Cygwin(x64) $ cd ~/ardupilot $ python waf the error message is: Waf: Entering directory /home/abc/ardupilot/build' [1/1] Creating waf -> preparing 'tmp-waf-2.0.18' Waf: Leaving directory/home/abc/ardupilot/build’ Build failed Traceback (most recent call last): File “/home/abc/ardupilot/.waf-2.0.18-96675f149f50dab16c9e2e6aaf5e787b/waflib/Task.py”, line 350, in process ret = self.run() File “/home/abc/ardupilot/wscript”, line 262, in create_waf for node in up_node.find_dir(‘waflib’).ant_glob(incl=[’.py’, 'Tools/.py’, ‘extras/*.py’]): AttributeError: ‘NoneType’ object has no attribute ‘ant_glob’ I am unable to build and I am unable to ./waf configure --board Pixhawk1. When I tried to type: ./waf configure --board Pixhawk1, I have the feedback below: waf [commands] [options] Main commands (example: ./waf build -j4) build    : executes the build clean    : cleans the project configure: configures the project dist     : makes a tarball for redistributing the sources distcheck: checks if the project compiles (tarball from ‘dist’) distclean: removes build folders and data install  : installs the targets on the system list     : lists the targets to execute step     : executes tasks in a step-by-step fashion, for debugging uninstall: removes the targets installed Options: –version             show program’s version number and exit -c COLORS, --color=COLORS whether to use colors (yes/no/auto) [default: auto] -j JOBS, --jobs=JOBS  amount of parallel jobs (8) -k, --keep            continue despite errors (-kk to try harder) -v, --verbose         verbosity level -v -vv or -vvv [default: 0] –zones=ZONES         debugging zones (task_gen, deps, tasks, etc) -h, --help            show this help message and exit –make-waf            creates the waf script –interpreter=INTERPRETER specify the #! line on top of the waf file –sign                make a signed file –zip-type=ZIP        specify the zip type [Allowed values: bz2 gz xz] –make-batch          creates a convenience waf.bat file (done automatically on win32 systems) –set-version=SETVER  sets the version number for waf releases (for the maintainer) –strip               shrinks waf (strip docstrings, saves 33kb) –nostrip             no shrinking –tools=ADD3RDPARTY   Comma-separated 3rd party tools to add, eg: “compat,ocaml” [Default: “compat15”] –coretools=CORETOOLS Comma-separated core tools to add, eg: “vala,tex” [Default: all of them] –prelude=PRELUDE     Code to execute before calling waf –namesfrom=NAMESFROM Obtain the file names from a model archive Configuration options: -o OUT, --out=OUT   build dir for the project -t TOP, --top=TOP   src dir for the project –prefix=PREFIX     installation prefix [default: ‘/usr/local/’] –bindir=BINDIR     bindir –libdir=LIBDIR     libdir Build and installation options: -p, --progress      -p: progress bar; -pp: ide output –targets=TARGETS   task generators, e.g. “target1,target2” Step options: –files=FILES       files to process, by regexp, e.g. “/main.c,/test/main.o” Installation and uninstallation options: –destdir=DESTDIR   installation root [default: ‘’] -f, --force         force file installation –distcheck-args=ARGS arguments to pass to distcheck Python Options: –nopyc             Do not install bytecode compiled .pyc files (configuration) [Default:install] –nopyo             Do not install optimised compiled .pyo files (configuration) [Default:install] –nopycache         Do not use pycache directory to install objects [Default:auto] –python=PYTHON     python binary to be used [Default: /usr/bin/python] –pythondir=PYTHONDIR Installation path for python modules (py, platform- independent .py and .pyc files) –pythonarchdir=PYTHONARCHDIR Installation path for python extension (pyext, platform- dependent .so or .dylib files) waf: error: no such option: --board May I know is there any one can help with my problem so that I can get my SITL running on windows, thanks a lot.",my python is 3.7.4 (64 bit)
182,Problem with setting up SITL on window,2,"Hi, I followed the instructions on *, than proceed to this page, *. Everything goes find but I stuck on “Build with Waf” stage. When I finish installing waf base on *, and I install it under C:\cygwin64\home\abc\ardupilot. However, when I key in the lines below into Cygwin(x64) $ cd ~/ardupilot $ python waf the error message is: Waf: Entering directory /home/abc/ardupilot/build' [1/1] Creating waf -> preparing 'tmp-waf-2.0.18' Waf: Leaving directory/home/abc/ardupilot/build’ Build failed Traceback (most recent call last): File “/home/abc/ardupilot/.waf-2.0.18-96675f149f50dab16c9e2e6aaf5e787b/waflib/Task.py”, line 350, in process ret = self.run() File “/home/abc/ardupilot/wscript”, line 262, in create_waf for node in up_node.find_dir(‘waflib’).ant_glob(incl=[’.py’, 'Tools/.py’, ‘extras/*.py’]): AttributeError: ‘NoneType’ object has no attribute ‘ant_glob’ I am unable to build and I am unable to ./waf configure --board Pixhawk1. When I tried to type: ./waf configure --board Pixhawk1, I have the feedback below: waf [commands] [options] Main commands (example: ./waf build -j4) build    : executes the build clean    : cleans the project configure: configures the project dist     : makes a tarball for redistributing the sources distcheck: checks if the project compiles (tarball from ‘dist’) distclean: removes build folders and data install  : installs the targets on the system list     : lists the targets to execute step     : executes tasks in a step-by-step fashion, for debugging uninstall: removes the targets installed Options: –version             show program’s version number and exit -c COLORS, --color=COLORS whether to use colors (yes/no/auto) [default: auto] -j JOBS, --jobs=JOBS  amount of parallel jobs (8) -k, --keep            continue despite errors (-kk to try harder) -v, --verbose         verbosity level -v -vv or -vvv [default: 0] –zones=ZONES         debugging zones (task_gen, deps, tasks, etc) -h, --help            show this help message and exit –make-waf            creates the waf script –interpreter=INTERPRETER specify the #! line on top of the waf file –sign                make a signed file –zip-type=ZIP        specify the zip type [Allowed values: bz2 gz xz] –make-batch          creates a convenience waf.bat file (done automatically on win32 systems) –set-version=SETVER  sets the version number for waf releases (for the maintainer) –strip               shrinks waf (strip docstrings, saves 33kb) –nostrip             no shrinking –tools=ADD3RDPARTY   Comma-separated 3rd party tools to add, eg: “compat,ocaml” [Default: “compat15”] –coretools=CORETOOLS Comma-separated core tools to add, eg: “vala,tex” [Default: all of them] –prelude=PRELUDE     Code to execute before calling waf –namesfrom=NAMESFROM Obtain the file names from a model archive Configuration options: -o OUT, --out=OUT   build dir for the project -t TOP, --top=TOP   src dir for the project –prefix=PREFIX     installation prefix [default: ‘/usr/local/’] –bindir=BINDIR     bindir –libdir=LIBDIR     libdir Build and installation options: -p, --progress      -p: progress bar; -pp: ide output –targets=TARGETS   task generators, e.g. “target1,target2” Step options: –files=FILES       files to process, by regexp, e.g. “/main.c,/test/main.o” Installation and uninstallation options: –destdir=DESTDIR   installation root [default: ‘’] -f, --force         force file installation –distcheck-args=ARGS arguments to pass to distcheck Python Options: –nopyc             Do not install bytecode compiled .pyc files (configuration) [Default:install] –nopyo             Do not install optimised compiled .pyo files (configuration) [Default:install] –nopycache         Do not use pycache directory to install objects [Default:auto] –python=PYTHON     python binary to be used [Default: /usr/bin/python] –pythondir=PYTHONDIR Installation path for python modules (py, platform- independent .py and .pyc files) –pythonarchdir=PYTHONARCHDIR Installation path for python extension (pyext, platform- dependent .so or .dylib files) waf: error: no such option: --board May I know is there any one can help with my problem so that I can get my SITL running on windows, thanks a lot.",I’ve noticed that there are still a few things in SITL that don’t quite work on Python 3. Python 2.7.x is the way to go for now.
182,Problem with setting up SITL on window,3,"Hi, I followed the instructions on *, than proceed to this page, *. Everything goes find but I stuck on “Build with Waf” stage. When I finish installing waf base on *, and I install it under C:\cygwin64\home\abc\ardupilot. However, when I key in the lines below into Cygwin(x64) $ cd ~/ardupilot $ python waf the error message is: Waf: Entering directory /home/abc/ardupilot/build' [1/1] Creating waf -> preparing 'tmp-waf-2.0.18' Waf: Leaving directory/home/abc/ardupilot/build’ Build failed Traceback (most recent call last): File “/home/abc/ardupilot/.waf-2.0.18-96675f149f50dab16c9e2e6aaf5e787b/waflib/Task.py”, line 350, in process ret = self.run() File “/home/abc/ardupilot/wscript”, line 262, in create_waf for node in up_node.find_dir(‘waflib’).ant_glob(incl=[’.py’, 'Tools/.py’, ‘extras/*.py’]): AttributeError: ‘NoneType’ object has no attribute ‘ant_glob’ I am unable to build and I am unable to ./waf configure --board Pixhawk1. When I tried to type: ./waf configure --board Pixhawk1, I have the feedback below: waf [commands] [options] Main commands (example: ./waf build -j4) build    : executes the build clean    : cleans the project configure: configures the project dist     : makes a tarball for redistributing the sources distcheck: checks if the project compiles (tarball from ‘dist’) distclean: removes build folders and data install  : installs the targets on the system list     : lists the targets to execute step     : executes tasks in a step-by-step fashion, for debugging uninstall: removes the targets installed Options: –version             show program’s version number and exit -c COLORS, --color=COLORS whether to use colors (yes/no/auto) [default: auto] -j JOBS, --jobs=JOBS  amount of parallel jobs (8) -k, --keep            continue despite errors (-kk to try harder) -v, --verbose         verbosity level -v -vv or -vvv [default: 0] –zones=ZONES         debugging zones (task_gen, deps, tasks, etc) -h, --help            show this help message and exit –make-waf            creates the waf script –interpreter=INTERPRETER specify the #! line on top of the waf file –sign                make a signed file –zip-type=ZIP        specify the zip type [Allowed values: bz2 gz xz] –make-batch          creates a convenience waf.bat file (done automatically on win32 systems) –set-version=SETVER  sets the version number for waf releases (for the maintainer) –strip               shrinks waf (strip docstrings, saves 33kb) –nostrip             no shrinking –tools=ADD3RDPARTY   Comma-separated 3rd party tools to add, eg: “compat,ocaml” [Default: “compat15”] –coretools=CORETOOLS Comma-separated core tools to add, eg: “vala,tex” [Default: all of them] –prelude=PRELUDE     Code to execute before calling waf –namesfrom=NAMESFROM Obtain the file names from a model archive Configuration options: -o OUT, --out=OUT   build dir for the project -t TOP, --top=TOP   src dir for the project –prefix=PREFIX     installation prefix [default: ‘/usr/local/’] –bindir=BINDIR     bindir –libdir=LIBDIR     libdir Build and installation options: -p, --progress      -p: progress bar; -pp: ide output –targets=TARGETS   task generators, e.g. “target1,target2” Step options: –files=FILES       files to process, by regexp, e.g. “/main.c,/test/main.o” Installation and uninstallation options: –destdir=DESTDIR   installation root [default: ‘’] -f, --force         force file installation –distcheck-args=ARGS arguments to pass to distcheck Python Options: –nopyc             Do not install bytecode compiled .pyc files (configuration) [Default:install] –nopyo             Do not install optimised compiled .pyo files (configuration) [Default:install] –nopycache         Do not use pycache directory to install objects [Default:auto] –python=PYTHON     python binary to be used [Default: /usr/bin/python] –pythondir=PYTHONDIR Installation path for python modules (py, platform- independent .py and .pyc files) –pythonarchdir=PYTHONARCHDIR Installation path for python extension (pyext, platform- dependent .so or .dylib files) waf: error: no such option: --board May I know is there any one can help with my problem so that I can get my SITL running on windows, thanks a lot.","Thank you, after I changed to python 2.7 and after I configure the board,(./waf configure --board Pixhawk1) I have no idea why my build failed. (./waf copter) oOHackFishOo@oOHackFishOo-PC ~/ardupilot $ ./waf configure --board Pixhawk1 Setting top to                           : /home/oOHackFishOo/ardupilot Setting out to                           : /home/oOHackFishOo/ardupilot/build Autoconfiguration                        : enabled GCOV code coverage analysis              : no Setting board to                         : Pixhawk1 Using toolchain                          : arm-none-eabi Checking for ‘g++’ (C++ compiler)        : /cygdrive/c/Program Files (x86)/GNU Tools ARM Embedded/6 2017-q2-update/bin/arm-none-eabi-g++ Checking for ‘gcc’ (C compiler)          : /cygdrive/c/Program Files (x86)/GNU Tools ARM Embedded/6 2017-q2-update/bin/arm-none-eabi-gcc Checking for c flags ‘-MMD’              : no Checking for cxx flags ‘-MMD’            : no Checking for program ‘make’              : /usr/bin/make Checking for program ‘arm-none-eabi-objcopy’ : /cygdrive/c/Program Files (x86)/GNU Tools ARM Embedded/6 2017-q2-update/bin/arm-none-eabi-objcopy Including /home/oOHackFishOo/ardupilot/libraries/AP_HAL_ChibiOS/hwdef/fmuv3/hwdef.dat Setup for MCU STM32F427xx Writing hwdef setup in /home/oOHackFishOo/ardupilot/build/Pixhawk1/hwdef.h Writing DMA map Generating ldscript.ld Checking for env.py env set BOARD_FLASH_SIZE=2048 env set APJ_BOARD_TYPE=STM32F427xx env set MAIN_STACK=0x400 env set APJ_BOARD_ID=9 env set HAL_WITH_UAVCAN=1 env set FLASH_RESERVE_START_KB=16 env set CHIBIOS_BUILD_FLAGS=USE_FATFS=yes MCU=cortex-m4 ENV_UDEFS=-DCHPRINTF_USE_FLOAT=1 CHIBIOS_PLATFORM_MK=os/hal/ports/STM32/STM32F4xx/platform.mk CHIBIOS_STARTUP_MK=os/common/startup/ARMCMx/compilers/GCC/mk/startup_stm32f4xx.mk env set CPU_FLAGS=[’-mcpu=cortex-m4’, ‘-mfpu=fpv4-sp-d16’, ‘-mfloat-abi=hard’, ‘-u_printf_float’] env set IOMCU_FW=0 env set PROCESS_STACK=0x2000 Enabling ChibiOS asserts                     : no Checking for intelhex module:                : disabled Checking for HAVE_CMATH_ISFINITE             : no Checking for HAVE_CMATH_ISINF                : no Checking for HAVE_CMATH_ISNAN                : no Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : no Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : no Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : no Checking for header endian.h                   : not found Checking for header byteswap.h                 : not found Checking for HAVE_MEMRCHR                      : no Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.16 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Gtest                                          : STM32 boards currently don’t support compiling gtest Checking for program ‘arm-none-eabi-size’      : /cygdrive/c/Program Files (x86)/GNU Tools ARM Embedded/6 2017-q2-update/bin/arm-none-eabi-size Benchmarks                                     : disabled Unit tests                                     : disabled Scripting                                      : enabled Scripting runtime checks                       : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ‘configure’ finished successfully (3.886s) oOHackFishOo@oOHackFishOo-PC ~/ardupilot $ ./waf copter Waf: Entering directory `/home/oOHackFishOo/ardupilot/build/Pixhawk1’ Padded 16 bytes for bootloader.bin Embedding file sandbox.lua:libraries/AP_Scripting/scripts/sandbox.lua Embedding file io_firmware.bin:Tools/IO_Firmware/iofirmware_lowpolh.bin Embedding file bootloader.bin:/home/oOHackFishOo/ardupilot/Tools/bootloaders/Pixhawk1_bl.bin Checking for env.py env added BOARD_FLASH_SIZE=2048 env added APJ_BOARD_TYPE=STM32F427xx env added MAIN_STACK=0x400 env added APJ_BOARD_ID=9 env added HAL_WITH_UAVCAN=1 env added FLASH_RESERVE_START_KB=16 env added CHIBIOS_BUILD_FLAGS=USE_FATFS=yes MCU=cortex-m4 ENV_UDEFS=-DCHPRINTF_USE_FLOAT=1 CHIBIOS_PLATFORM_MK=os/hal/ports/STM32/STM32F4xx/platform.mk CHIBIOS_STARTUP_MK=os/common/startup/ARMCMx/compilers/GCC/mk/startup_stm32f4xx.mk env appended CPU_FLAGS=[’-mcpu=cortex-m4’, ‘-mfpu=fpv4-sp-d16’, ‘-mfloat-abi=hard’, ‘-u_printf_float’] env added IOMCU_FW=0 env added PROCESS_STACK=0x2000 [3/8] Creating build/Pixhawk1/hwdef.h [4/8] Creating build/Pixhawk1/modules/ChibiOS/include_dirs [5/8] Processing modules/mavlink/message_definitions/v1.0/ardupilotmega.xml [6/8] Processing uavcangen: libraries/AP_UAVCAN/dsdl/com modules/uavcan/dsdl/uavcan [7/8] Creating build/Pixhawk1/ap_version.h Including /home/oOHackFishOo/ardupilot/libraries/AP_HAL_ChibiOS/hwdef/fmuv3/hwdef.dat Setup for MCU STM32F427xx Writing hwdef setup in /home/oOHackFishOo/ardupilot/build/Pixhawk1/hwdef.h Writing DMA map Generating ldscript.ld Validation skipped for /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/ardupilotmega.xml. Parsing /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/ardupilotmega.xml MAV_CMD MAV_CMD_DO_GRIPPER MAV_CMD_DO_AUTOTUNE_ENABLE MAV_CMD_NAV_ALTITUDE_WAIT MAV_CMD_POWER_OFF_INITIATED MAV_CMD_SOLO_BTN_FLY_CLICK MAV_CMD_SOLO_BTN_FLY_HOLD MAV_CMD_SOLO_BTN_PAUSE_CLICK MAV_CMD_FIXED_MAG_CAL MAV_CMD_FIXED_MAG_CAL_FIELD MAV_CMD_DO_START_MAG_CAL MAV_CMD_DO_ACCEPT_MAG_CAL MAV_CMD_DO_CANCEL_MAG_CAL MAV_CMD_ACCELCAL_VEHICLE_POS MAV_CMD_DO_SEND_BANNER MAV_CMD_SET_FACTORY_TEST_MODE MAV_CMD_GIMBAL_RESET MAV_CMD_GIMBAL_AXIS_CALIBRATION_STATUS MAV_CMD_GIMBAL_REQUEST_AXIS_CALIBRATION MAV_CMD_GIMBAL_FULL_RESET MAV_CMD_DO_WINCH MAV_CMD_FLASH_BOOTLOADER MAV_CMD_BATTERY_RESET Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DEVICE_OP_READ_REPLY is longer than 64 bytes long (143 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DEVICE_OP_WRITE is longer than 64 bytes long (187 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Validation skipped for /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/common.xml. Parsing /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/common.xml MAV_CMD MAV_CMD_NAV_WAYPOINT MAV_CMD_NAV_LOITER_UNLIM MAV_CMD_NAV_LOITER_TURNS MAV_CMD_NAV_LOITER_TIME MAV_CMD_NAV_RETURN_TO_LAUNCH MAV_CMD_NAV_LAND MAV_CMD_NAV_TAKEOFF MAV_CMD_NAV_LAND_LOCAL MAV_CMD_NAV_TAKEOFF_LOCAL MAV_CMD_NAV_FOLLOW MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT MAV_CMD_NAV_LOITER_TO_ALT MAV_CMD_DO_FOLLOW MAV_CMD_DO_FOLLOW_REPOSITION MAV_CMD_NAV_ROI MAV_CMD_NAV_PATHPLANNING MAV_CMD_NAV_SPLINE_WAYPOINT MAV_CMD_NAV_VTOL_TAKEOFF MAV_CMD_NAV_VTOL_LAND MAV_CMD_NAV_GUIDED_ENABLE MAV_CMD_NAV_DELAY MAV_CMD_NAV_PAYLOAD_PLACE MAV_CMD_NAV_LAST MAV_CMD_CONDITION_DELAY MAV_CMD_CONDITION_CHANGE_ALT MAV_CMD_CONDITION_DISTANCE MAV_CMD_CONDITION_YAW MAV_CMD_CONDITION_LAST MAV_CMD_DO_SET_MODE MAV_CMD_DO_JUMP MAV_CMD_DO_CHANGE_SPEED MAV_CMD_DO_SET_HOME MAV_CMD_DO_SET_PARAMETER MAV_CMD_DO_SET_RELAY MAV_CMD_DO_REPEAT_RELAY MAV_CMD_DO_SET_SERVO MAV_CMD_DO_REPEAT_SERVO MAV_CMD_DO_FLIGHTTERMINATION MAV_CMD_DO_CHANGE_ALTITUDE MAV_CMD_DO_LAND_START MAV_CMD_DO_RALLY_LAND MAV_CMD_DO_GO_AROUND MAV_CMD_DO_REPOSITION MAV_CMD_DO_PAUSE_CONTINUE MAV_CMD_DO_SET_REVERSE MAV_CMD_DO_SET_ROI_LOCATION MAV_CMD_DO_SET_ROI_WPNEXT_OFFSET MAV_CMD_DO_SET_ROI_NONE MAV_CMD_DO_CONTROL_VIDEO MAV_CMD_DO_SET_ROI MAV_CMD_DO_DIGICAM_CONFIGURE MAV_CMD_DO_DIGICAM_CONTROL MAV_CMD_DO_MOUNT_CONFIGURE MAV_CMD_DO_MOUNT_CONTROL MAV_CMD_DO_SET_CAM_TRIGG_DIST MAV_CMD_DO_FENCE_ENABLE MAV_CMD_DO_PARACHUTE MAV_CMD_DO_MOTOR_TEST MAV_CMD_DO_INVERTED_FLIGHT MAV_CMD_NAV_SET_YAW_SPEED MAV_CMD_DO_SET_CAM_TRIGG_INTERVAL MAV_CMD_DO_MOUNT_CONTROL_QUAT MAV_CMD_DO_GUIDED_MASTER MAV_CMD_DO_GUIDED_LIMITS MAV_CMD_DO_ENGINE_CONTROL MAV_CMD_DO_SET_MISSION_CURRENT MAV_CMD_DO_LAST MAV_CMD_PREFLIGHT_CALIBRATION MAV_CMD_PREFLIGHT_SET_SENSOR_OFFSETS MAV_CMD_PREFLIGHT_UAVCAN MAV_CMD_PREFLIGHT_STORAGE MAV_CMD_PREFLIGHT_REBOOT_SHUTDOWN MAV_CMD_OVERRIDE_GOTO MAV_CMD_MISSION_START MAV_CMD_COMPONENT_ARM_DISARM MAV_CMD_GET_HOME_POSITION MAV_CMD_START_RX_PAIR MAV_CMD_GET_MESSAGE_INTERVAL MAV_CMD_SET_MESSAGE_INTERVAL MAV_CMD_REQUEST_MESSAGE MAV_CMD_REQUEST_AUTOPILOT_CAPABILITIES MAV_CMD_REQUEST_CAMERA_INFORMATION MAV_CMD_REQUEST_CAMERA_SETTINGS MAV_CMD_REQUEST_STORAGE_INFORMATION MAV_CMD_STORAGE_FORMAT MAV_CMD_REQUEST_CAMERA_CAPTURE_STATUS MAV_CMD_REQUEST_FLIGHT_INFORMATION MAV_CMD_RESET_CAMERA_SETTINGS MAV_CMD_SET_CAMERA_MODE MAV_CMD_JUMP_TAG MAV_CMD_DO_JUMP_TAG MAV_CMD_IMAGE_START_CAPTURE MAV_CMD_IMAGE_STOP_CAPTURE MAV_CMD_DO_TRIGGER_CONTROL MAV_CMD_VIDEO_START_CAPTURE MAV_CMD_VIDEO_STOP_CAPTURE MAV_CMD_LOGGING_START MAV_CMD_LOGGING_STOP MAV_CMD_AIRFRAME_CONFIGURATION MAV_CMD_CONTROL_HIGH_LATENCY MAV_CMD_PANORAMA_CREATE MAV_CMD_DO_VTOL_TRANSITION MAV_CMD_ARM_AUTHORIZATION_REQUEST MAV_CMD_SET_GUIDED_SUBMODE_STANDARD MAV_CMD_SET_GUIDED_SUBMODE_CIRCLE MAV_CMD_NAV_FENCE_RETURN_POINT MAV_CMD_NAV_FENCE_POLYGON_VERTEX_INCLUSION MAV_CMD_NAV_FENCE_POLYGON_VERTEX_EXCLUSION MAV_CMD_NAV_FENCE_CIRCLE_INCLUSION MAV_CMD_NAV_FENCE_CIRCLE_EXCLUSION MAV_CMD_NAV_RALLY_POINT MAV_CMD_UAVCAN_GET_NODE_INFO MAV_CMD_PAYLOAD_PREPARE_DEPLOY MAV_CMD_PAYLOAD_CONTROL_DEPLOY MAV_CMD_WAYPOINT_USER_1 MAV_CMD_WAYPOINT_USER_2 MAV_CMD_WAYPOINT_USER_3 MAV_CMD_WAYPOINT_USER_4 MAV_CMD_WAYPOINT_USER_5 MAV_CMD_SPATIAL_USER_1 MAV_CMD_SPATIAL_USER_2 MAV_CMD_SPATIAL_USER_3 MAV_CMD_SPATIAL_USER_4 MAV_CMD_SPATIAL_USER_5 MAV_CMD_USER_1 MAV_CMD_USER_2 MAV_CMD_USER_3 MAV_CMD_USER_4 MAV_CMD_USER_5 MAV_CMD_ACK MAV_CMD_ACK_OK MAV_CMD_ACK_ERR_FAIL MAV_CMD_ACK_ERR_ACCESS_DENIED MAV_CMD_ACK_ERR_NOT_SUPPORTED MAV_CMD_ACK_ERR_COORDINATE_FRAME_NOT_SUPPORTED MAV_CMD_ACK_ERR_COORDINATES_OUT_OF_RANGE MAV_CMD_ACK_ERR_X_LAT_OUT_OF_RANGE MAV_CMD_ACK_ERR_Y_LON_OUT_OF_RANGE MAV_CMD_ACK_ERR_Z_ALT_OUT_OF_RANGE Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (80 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (189 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (233 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_ACTUATOR_CONTROLS is longer than 64 bytes long (89 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GLOBAL_VISION_POSITION_ESTIMATE is longer than 64 bytes long (125 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message VISION_POSITION_ESTIMATE is longer than 64 bytes long (125 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message VISION_SPEED_ESTIMATE is longer than 64 bytes long (65 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message VICON_POSITION_ESTIMATE is longer than 64 bytes long (124 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ATT_POS_MOCAP is longer than 64 bytes long (128 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message FOLLOW_TARGET is longer than 64 bytes long (101 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (86 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LANDING_TARGET is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GPS_INPUT is longer than 64 bytes long (71 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GPS_RTCM_DATA is longer than 64 bytes long (190 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HOME_POSITION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SET_HOME_POSITION is longer than 64 bytes long (69 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message PLAY_TUNE is longer than 64 bytes long (240 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message CAMERA_INFORMATION is longer than 64 bytes long (243 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message CAMERA_IMAGE_CAPTURED is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOGGING_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOGGING_DATA_ACKED is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message WIFI_CONFIG_AP is longer than 64 bytes long (104 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message UAVCAN_NODE_INFO is longer than 64 bytes long (124 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message OBSTACLE_DISTANCE is longer than 64 bytes long (174 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ODOMETRY is longer than 64 bytes long (239 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DEBUG_FLOAT_ARRAY is longer than 64 bytes long (260 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message STATUSTEXT_LONG is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message WHEEL_DISTANCE is longer than 64 bytes long (145 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Validation skipped for /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/uAvionix.xml. Parsing /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/uAvionix.xml Validation skipped for /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/icarous.xml. Parsing /home/oOHackFishOo/ardupilot/modules/mavlink/message_definitions/v1.0/icarous.xml Merged enum MAV_CMD Found 222 MAVLink message types in 4 XML files Generating C implementation in directory /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/GCS_MAVLink/include/mavlink/v2.0/ardupilotmega Generating C implementation in directory /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/GCS_MAVLink/include/mavlink/v2.0/common Generating C implementation in directory /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/GCS_MAVLink/include/mavlink/v2.0/uAvionix Generating C implementation in directory /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/GCS_MAVLink/include/mavlink/v2.0/icarous Copying fixed headers for protocol 2.0 to /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/GCS_MAVLink/include/mavlink/v2.0 [8/8] Linking build/Pixhawk1/modules/ChibiOS/libch.a [1/104] ChibiOS: Compiling crt0_v7m.S [2/104] ChibiOS: Compiling vectors.S [3/104] ChibiOS: Compiling chcoreasm_v7m.S [4/104] ChibiOS: Compiling ff.c [5/104] ChibiOS: Compiling ffunicode.c [6/104] ChibiOS: Compiling chcore.c [7/104] ChibiOS: Compiling chcore_v7m.c [8/104] ChibiOS: Compiling crt1.c [9/104] ChibiOS: Compiling chprintf.c [10/104] ChibiOS: Compiling memstreams.c [11/104] ChibiOS: Compiling nullstreams.c [12/104] ChibiOS: Compiling osal.c [13/104] ChibiOS: Compiling hal_adc_lld.c [14/104] ChibiOS: Compiling hal_can_lld.c [15/104] ChibiOS: Compiling hal_crypto_lld.c [16/104] ChibiOS: Compiling hal_dac_lld.c [17/104] ChibiOS: Compiling stm32_dma.c [18/104] ChibiOS: Compiling stm32_exti.c [19/104] ChibiOS: Compiling hal_pal_lld.c [20/104] ChibiOS: Compiling hal_i2c_lld.c [21/104] ChibiOS: Compiling hal_mac_lld.c [22/104] ChibiOS: Compiling hal_usb_lld.c [23/104] ChibiOS: Compiling hal_wspi_lld.c [24/104] ChibiOS: Compiling hal_rtc_lld.c [25/104] ChibiOS: Compiling hal_sdc_lld.c [26/104] ChibiOS: Compiling hal_i2s_lld.c [27/104] ChibiOS: Compiling hal_spi_lld.c [28/104] ChibiOS: Compiling hal_eicu_lld.c [29/104] ChibiOS: Compiling hal_gpt_lld.c [30/104] ChibiOS: Compiling hal_icu_lld.c [31/104] ChibiOS: Compiling hal_pwm_lld.c [32/104] ChibiOS: Compiling hal_st_lld.c [33/104] ChibiOS: Compiling hal_serial_lld.c [34/104] ChibiOS: Compiling hal_uart_lld.c [35/104] ChibiOS: Compiling hal_wdg_lld.c [36/104] ChibiOS: Compiling hal_lld.c [37/104] ChibiOS: Compiling stm32_isr.c [38/104] ChibiOS: Compiling nvic.c [39/104] ChibiOS: Compiling hal.c [40/104] ChibiOS: Compiling hal_adc.c [41/104] ChibiOS: Compiling hal_buffers.c [42/104] ChibiOS: Compiling hal_can.c [43/104] ChibiOS: Compiling hal_crypto.c [44/104] ChibiOS: Compiling hal_dac.c [45/104] ChibiOS: Compiling hal_eicu.c [46/104] ChibiOS: Compiling hal_gpt.c [47/104] ChibiOS: Compiling hal_i2c.c [48/104] ChibiOS: Compiling hal_i2s.c [49/104] ChibiOS: Compiling hal_icu.c [50/104] ChibiOS: Compiling hal_mac.c [51/104] ChibiOS: Compiling hal_mmc_spi.c [52/104] ChibiOS: Compiling hal_mmcsd.c [53/104] ChibiOS: Compiling hal_pal.c [54/104] ChibiOS: Compiling hal_pwm.c [55/104] ChibiOS: Compiling hal_queues.c [56/104] ChibiOS: Compiling hal_rtc.c [57/104] ChibiOS: Compiling hal_sdc.c [58/104] ChibiOS: Compiling hal_serial.c [59/104] ChibiOS: Compiling hal_serial_usb.c [60/104] ChibiOS: Compiling hal_sio.c [61/104] ChibiOS: Compiling hal_spi.c [62/104] ChibiOS: Compiling hal_st.c [63/104] ChibiOS: Compiling hal_trng.c [64/104] ChibiOS: Compiling hal_uart.c [65/104] ChibiOS: Compiling hal_usb.c [66/104] ChibiOS: Compiling hal_wdg.c [67/104] ChibiOS: Compiling hal_wspi.c [68/104] ChibiOS: Compiling chfactory.c [69/104] ChibiOS: Compiling chmboxes.c [70/104] ChibiOS: Compiling chmemcore.c [71/104] ChibiOS: Compiling chmemheaps.c [72/104] ChibiOS: Compiling chmempools.c [73/104] ChibiOS: Compiling chpipes.c [74/104] ChibiOS: Compiling chcond.c [75/104] ChibiOS: Compiling chdebug.c [76/104] ChibiOS: Compiling chdynamic.c [77/104] ChibiOS: Compiling chevents.c [78/104] ChibiOS: Compiling chmsg.c [79/104] ChibiOS: Compiling chmtx.c [80/104] ChibiOS: Compiling chregistry.c [81/104] ChibiOS: Compiling chschd.c [82/104] ChibiOS: Compiling chsem.c [83/104] ChibiOS: Compiling chstats.c [84/104] ChibiOS: Compiling chsys.c [85/104] ChibiOS: Compiling chthreads.c [86/104] ChibiOS: Compiling chtm.c [87/104] ChibiOS: Compiling chtrace.c [88/104] ChibiOS: Compiling chvt.c [89/104] ChibiOS: Compiling fatfs_diskio.c [90/104] ChibiOS: Compiling fatfs_syscall.c [91/104] ChibiOS: Compiling stubs.c [92/104] ChibiOS: Compiling board.c [93/104] ChibiOS: Compiling usbcfg.c [94/104] ChibiOS: Compiling usbcfg_dualcdc.c [95/104] ChibiOS: Compiling usbcfg_common.c [96/104] ChibiOS: Compiling flash.c [97/104] ChibiOS: Compiling malloc.c [98/104] ChibiOS: Compiling hrt.c [99/104] ChibiOS: Compiling stm32_util.c [100/104] ChibiOS: Compiling bouncebuffer.c [101/104] ChibiOS: Compiling watchdog.c [102/104] ChibiOS: Compiling posix.c [103/104] ChibiOS: Compiling ch.cpp [104/104] ChibiOS: Compiling syscalls_cpp.cpp ChibiOS: Done! C:\Program Files (x86)\GNU Tools ARM Embedded\6 2017-q2-update\bin\arm-none-eabi-ar.exe: creating modules/ChibiOS/libch.a [  9/609] Compiling libraries/AC_AttitudeControl/AC_AttitudeControl_Sub.cpp [ 10/609] Compiling libraries/AC_AttitudeControl/AC_AttitudeControl_Heli.cpp [ 11/609] Compiling libraries/AC_AttitudeControl/ControlMonitor.cpp [ 12/609] Compiling libraries/AC_AttitudeControl/AC_AttitudeControl_Multi.cpp Assembler messages: Fatal error: can’t create /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/AC_AttitudeControl/AC_AttitudeControl_Sub.cpp.0.o: No such file or directory Assembler messages: Fatal error: can’t create /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/AC_AttitudeControl/AC_AttitudeControl_Heli.cpp.0.o: No such file or directory Assembler messages: Fatal error: can’t create /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/AC_AttitudeControl/ControlMonitor.cpp.0.o: No such file or directory Assembler messages: Fatal error: can’t create /home/oOHackFishOo/ardupilot/build/Pixhawk1/libraries/AC_AttitudeControl/AC_AttitudeControl_Multi.cpp.0.o: No such file or directory Waf: Leaving directory `/home/oOHackFishOo/ardupilot/build/Pixhawk1’ Build failed -> task in ‘objs/AC_AttitudeControl’ failed with exit status 1 (run with -v to display more information) -> task in ‘objs/AC_AttitudeControl’ failed with exit status 1 (run with -v to display more information) -> task in ‘objs/AC_AttitudeControl’ failed with exit status 1 (run with -v to display more information) -> task in ‘objs/AC_AttitudeControl’ failed with exit status 1 (run with -v to display more information) Please any one can help me on this. Thank you very much"
182,Problem with setting up SITL on window,4,"Hi, I followed the instructions on *, than proceed to this page, *. Everything goes find but I stuck on “Build with Waf” stage. When I finish installing waf base on *, and I install it under C:\cygwin64\home\abc\ardupilot. However, when I key in the lines below into Cygwin(x64) $ cd ~/ardupilot $ python waf the error message is: Waf: Entering directory /home/abc/ardupilot/build' [1/1] Creating waf -> preparing 'tmp-waf-2.0.18' Waf: Leaving directory/home/abc/ardupilot/build’ Build failed Traceback (most recent call last): File “/home/abc/ardupilot/.waf-2.0.18-96675f149f50dab16c9e2e6aaf5e787b/waflib/Task.py”, line 350, in process ret = self.run() File “/home/abc/ardupilot/wscript”, line 262, in create_waf for node in up_node.find_dir(‘waflib’).ant_glob(incl=[’.py’, 'Tools/.py’, ‘extras/*.py’]): AttributeError: ‘NoneType’ object has no attribute ‘ant_glob’ I am unable to build and I am unable to ./waf configure --board Pixhawk1. When I tried to type: ./waf configure --board Pixhawk1, I have the feedback below: waf [commands] [options] Main commands (example: ./waf build -j4) build    : executes the build clean    : cleans the project configure: configures the project dist     : makes a tarball for redistributing the sources distcheck: checks if the project compiles (tarball from ‘dist’) distclean: removes build folders and data install  : installs the targets on the system list     : lists the targets to execute step     : executes tasks in a step-by-step fashion, for debugging uninstall: removes the targets installed Options: –version             show program’s version number and exit -c COLORS, --color=COLORS whether to use colors (yes/no/auto) [default: auto] -j JOBS, --jobs=JOBS  amount of parallel jobs (8) -k, --keep            continue despite errors (-kk to try harder) -v, --verbose         verbosity level -v -vv or -vvv [default: 0] –zones=ZONES         debugging zones (task_gen, deps, tasks, etc) -h, --help            show this help message and exit –make-waf            creates the waf script –interpreter=INTERPRETER specify the #! line on top of the waf file –sign                make a signed file –zip-type=ZIP        specify the zip type [Allowed values: bz2 gz xz] –make-batch          creates a convenience waf.bat file (done automatically on win32 systems) –set-version=SETVER  sets the version number for waf releases (for the maintainer) –strip               shrinks waf (strip docstrings, saves 33kb) –nostrip             no shrinking –tools=ADD3RDPARTY   Comma-separated 3rd party tools to add, eg: “compat,ocaml” [Default: “compat15”] –coretools=CORETOOLS Comma-separated core tools to add, eg: “vala,tex” [Default: all of them] –prelude=PRELUDE     Code to execute before calling waf –namesfrom=NAMESFROM Obtain the file names from a model archive Configuration options: -o OUT, --out=OUT   build dir for the project -t TOP, --top=TOP   src dir for the project –prefix=PREFIX     installation prefix [default: ‘/usr/local/’] –bindir=BINDIR     bindir –libdir=LIBDIR     libdir Build and installation options: -p, --progress      -p: progress bar; -pp: ide output –targets=TARGETS   task generators, e.g. “target1,target2” Step options: –files=FILES       files to process, by regexp, e.g. “/main.c,/test/main.o” Installation and uninstallation options: –destdir=DESTDIR   installation root [default: ‘’] -f, --force         force file installation –distcheck-args=ARGS arguments to pass to distcheck Python Options: –nopyc             Do not install bytecode compiled .pyc files (configuration) [Default:install] –nopyo             Do not install optimised compiled .pyo files (configuration) [Default:install] –nopycache         Do not use pycache directory to install objects [Default:auto] –python=PYTHON     python binary to be used [Default: /usr/bin/python] –pythondir=PYTHONDIR Installation path for python modules (py, platform- independent .py and .pyc files) –pythonarchdir=PYTHONARCHDIR Installation path for python extension (pyext, platform- dependent .so or .dylib files) waf: error: no such option: --board May I know is there any one can help with my problem so that I can get my SITL running on windows, thanks a lot.",Why are you configuring for a Pixhawk 1 board? From * it should be ./waf configure --board sitl.
183,SITL Monte Carlo Simulation,1,"Hi all, I am looking to set up a Monte Carlo simulation within the SITL environment. The idea is to reset the position of the vehicle at a set time interval (eg. every 20 seconds sim time), to a random location (within bounds), facing a random direction, with an fixed ground speed / RC input. Can anyone offer advice on how to approach this problem? Would it be possible to also reset the EKF on the fly, or would I be limited to DCM for navigation? Thanks in advance, Sam","I’m not sure you will get anything useful out of this; you can’t really skip around a live vehicle in position as you’re suggesting - all sorts of things will go wrong with EKF, so you would be limited to DCM.  I’m quite sure all sorts of things would go wrong even then… You can’t really “reset EKF on the fly”; it’s got a 10 second bootstrapping time you’d have to hack out, and all sorts of funky time-horizon buffers you’d need to purge… Perhaps if you set out what you’re trying to accomplish with your simulation…"
184,NameError: ''vehicle is not defined.,0, ,
185,Connect Pixhawk to RealFlight 8,0,"I am trying to import my Pixhawk parameters for an Octocopter hopefully via SITL into RealFlight 8, following this guide (*), but I do not have realflight-quad or an octo equivalent within MissionPlanner. Does anyone have this file, or have a suggestion on this task, or can someone suggest an alternative way to simulate my personal drone? Any help would be well appreciated.",
186,No map click position available,0,"Hello, Every time I try to click “Fly to” and set the altitude, I get a “No map click position available” error and the copter doesn’t move. I also get the error of ""Error in command [‘sethome’’]: ‘NoneType’ object has no attribute ‘getitem’ when I do “Set Home”. I tried doing ""guided   "", the the copter doesn’t do anything. I suspect there’s something wrong with my installation but I can’t figure out what. I’m using Ubuntu 14.04.4 LTS, Python 2.7.6, and python-wxgtk2.8. Thank you.",
187,Merged latest ArduCopter master and SITL stopped working,1,"Hello, After merging the latest master, the compilation for sitl was successful but something is wrong when running the simulator. This is what the console says:  ERROR: segmentation fault - aborting Running: sh dumpstack 3923 >segv_arducopter.3923.out 2>&1 Failed  And this is what the terminal says:  Waiting for heartbeat from tcp:127.0.0.1:5760 MAV> EOF on TCP socket Attempting reconnect [Errno 111] Connection refused sleeping [Errno 111] Connection refused sleeping Exception in thread main_loop: Traceback (most recent call last): File “/usr/lib/python2.7/threading.py”, line 801, in __bootstrap_inner self.run() File “/usr/lib/python2.7/threading.py”, line 754, in run self.__target(*self.__args, **self.__kwargs) File “/usr/local/bin/mavproxy.py”, line 868, in main_loop master.wait_heartbeat(timeout=0.1) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 496, in wait_heartbeat return self.recv_match(type=‘HEARTBEAT’, blocking=blocking, timeout=timeout) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 457, in recv_match m = self.recv_msg() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 420, in recv_msg s = self.recv(n) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 1222, in recv self.handle_eof() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 1206, in handle_eof self.reconnect() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 1245, in reconnect self.do_connect() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.3.7-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 1189, in do_connect raise e error: [Errno 111] Connection refused  I’m running everything on Windows Bash with Ubuntu 16.04. I updated MAVProxy to 1.8.8 and pymavlink to 2.3.7. Also, SITL works fine on my computer with previous versions of copter (for instance Copter-3.6). Is there anything else I must update on my system in order to get it working with the master? Thank you",Is this fault from an unmodified master? If you install gdb then that dumpstack may work and provide more information.
188,"Problems with ""APM: PreArm: EKF attitude is bad"" in Erle-Copter RL Example",0,"Hey there! I have some troubles with an example from Erle Robotics (its deprecated but i still hope to get it running) for the gazebo-gym (q-learning for hovering). I posted a topic earlier but it seems i have fixed this issue (*) and run into the next one. Im my Terminal is no error but the simulation doesn’t start. Meanwhile it seems that ArduCopter is trying to Arm or something and has some issues with it. I put in a Screenshot, *. I’m not very experienced with Ardupilot and only tested a few Tutorials from this website (which worked fine), i have no idea where is should look for a problem. Thanks in advance!",
189,Simulator suggestion for quadcopter,0,"Hi, I am looking for the SITL simulator for my new quadcopter model. I just wanted to know which simulator should I use? I should be able to perform the following tasks:  Create a new quadcopter model Perform flight test in different environments with arducopter Tuning and performance review ",
190,SITL vagrant up failure,1,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",That looks like a transient network issue - not able to reach a server. One thing you can do if this is happening a lot is to run a local proxy for the packages - it may make things more reliable. I use: (and run squid on that port)
190,SITL vagrant up failure,2,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","Thank you for answering peter. But could you explain more about it? I typed as you said into git-bash terminal and did again but same problem has occurred. I am new in linux,git and all kind of things so I’ve searched about it but I still don’t find appropriate answer. In google, they all use ubuntu and use sudo apt-get to install squid which can’t use in git-bash. I saw there is a way to use sudo and apt-get in git-bash but I think it is not a proper method to solve the problem. I am wondering that is it possible to run a local proxy with git or do I have to use another terminal like cygwin or ubuntu? Is there a article  from which I can get some information? Could you explain to me for more details? I really appreciate for your help."
190,SITL vagrant up failure,3,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",How many times have you tried bringing this machine up? This looks like it should have been a transient error. Suggest doing vagrant destroy -f and try bring it up again from scratch and seeing if that works.
190,SITL vagrant up failure,4,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",I think I am doing this  almost 10 times. I reinstalled vagrant and virtualbox and do vagrant destroy -f and now this happens!
190,SITL vagrant up failure,5,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",This is really looking like significant networking issues. Try repeatedly running vagrant provision - at least that way you may eventually get everything downloaded!
190,SITL vagrant up failure,6,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",It seems like it works for first few times but it eventually ends in here  and remains same. Maybe is it time to find other ways which aren’t using vagrant? I really appreciate your help. Thank you.
190,SITL vagrant up failure,7,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","That’s real progress. And that’s a real bug in our build-a-Vagrant-instance script. Well, it was.  I’ve just pushed a fix up. Can you update and try again, please? In fact, you can probably continue with the vagrant instructions from where you’re up to - it’s basically finished the setup, and you can just vagrant ssh in etc etc."
190,SITL vagrant up failure,8,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","Thanks to you, I could finally finish vagrant up! So I tried to start running SITL with vagrant ssh -c “sim_vehicle.py -j 2 -v ArduCopter” and result is   It seems like it’s almost done.  What can I do to solve this problem?         "
190,SITL vagrant up failure,9,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!",Please try: I’m assuming your host operating system is Linux here.  Some DISPLAY environment variable seems to exist in the environment on the guest box - but it is invalid…  The -X here explicitly says to make your local display available to the guest machine.
190,SITL vagrant up failure,10,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","My host os is Windows 10 and I am using Git bash terminal. Do I have to install additional programs? Does vagrant shell in Docs mean another shell not git bash? But when I start a vagrant.exe file, nothing happens."
190,SITL vagrant up failure,11,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","OK, try “-x” instead of “-X” to disable ssh forwarding.  I’ve no idea how that DISPLAY environment variable is being set - I don’t use vagrant under windows here."
190,SITL vagrant up failure,12,"Hi, everyone. I’m following Setting up SITL using Vagrant *. But I have a problem when I do vagrant up as shown in a uploaded picture  and I am stuck in this for a day. What can I do to fix this problem? I’m using git-bash terminal and do all steps as described in wiki. Thank you.!","I don’t know reason but it failed again to download some files during a progress of vagrant up. I think(and wish) it would be a temporary problem. I’ll try it again a few days later. Thank you for your help, Peter."
191,SITL Setup Problem,1,"After following the instructions for setting up SITL from this page in the documentation: * I have hit a roadblock at:  * Whenever I try to run sim_vehicle.py in really any folder, I’ve tried quite a few… I always get some bash error where it doesn’t recognize that command. This is the error:  I cannot find videos with a real explanation for setting this stuff up or other websites so I am stuck. Any help you could provide would be awesome.   Thank you.","I’m on Ubuntu and dont know the difference between the Ubuntu and Windows version, but it seems that there is a path missing, maybe the ardupilot_path. You could try to target this .py directly, try: ../Tools/autotest/sim_vehicle.py --map --console"
191,SITL Setup Problem,2,"After following the instructions for setting up SITL from this page in the documentation: * I have hit a roadblock at:  * Whenever I try to run sim_vehicle.py in really any folder, I’ve tried quite a few… I always get some bash error where it doesn’t recognize that command. This is the error:  I cannot find videos with a real explanation for setting this stuff up or other websites so I am stuck. Any help you could provide would be awesome.   Thank you.","hi - I had the same problem last night, this article solved the problem #Thinking about this, your error is basically “not #found” which may mean that Cygwin #environment doesn’t know where to look for #sim_vehicle.sh. It is possible you missed this #line in the instructions: #Add the following line to the end of .bashrc #export PATH=$PATH:$HOME/ardupilot/Tools"
192,Use joystick to move the camera,0,"Hi, i have installed a SITL simulator on Linux with FilghtGear following the guide and it works. Now, i had an idea to move the camera, like a gimbal, while i’m fliyng. What i can do? For example, with a stick of the joystick, i want to zoom in/out or move up/down/left/right with the camera on flightgear. It’s possible? I have to intercept from MavProxy the channel of that stick and then use the telnet command of flightgear to move the camera? There is a simpler way? Thank you",
193,New flight mode not shown in MAVLink modes list (SITL),1,"Hello Ardupilot community! I have added a new flight mode to Copter, and I wanted to test it using SITL. However, although the code complied and SITL started, I couldn’t see my new mode in the modes list. I looked it up in the internet and I found many solutions… I tried to run python setup.py build install --user But it didn’t work. I also tried modifying mavlink/ardupilotmega.xml, and added manually the new flight mode, but still, it doesn’t appear in the modes’ list of MAVLink. Using mode #no of new mode also didn’t work. So what could be the issue? Thanks!","You need to change both pymavlink, ardupilot and Mavlink. I plan to do a code change that allows you to only change Mavlink. But you still need to recompile pymavlink and ardupilot. Would that be OK for you ?"
193,New flight mode not shown in MAVLink modes list (SITL),2,"Hello Ardupilot community! I have added a new flight mode to Copter, and I wanted to test it using SITL. However, although the code complied and SITL started, I couldn’t see my new mode in the modes list. I looked it up in the internet and I found many solutions… I tried to run python setup.py build install --user But it didn’t work. I also tried modifying mavlink/ardupilotmega.xml, and added manually the new flight mode, but still, it doesn’t appear in the modes’ list of MAVLink. Using mode #no of new mode also didn’t work. So what could be the issue? Thanks!","By changing Mavlink, are you referring to editing the file ardupilotomega.xml? I think that would be extremely useful. Just recompiling is simpler than changing the code, and would help a lot. So yeah, I guess this will be OK."
194,Roslaunch:error loading <rosparam> tag,1,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful","Hello, Could you share your apm.launch ?"
194,Roslaunch:error loading <rosparam> tag,2,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful",*
194,Roslaunch:error loading <rosparam> tag,3,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful","ok … So it seems that mavros got something broken … Did you try to update the package ? sudo apt update && sudo apt upgrade Otherwise, you could make a copy of the apm_config.yaml to correct it. Do : roscp mavros apm_config.yaml apm_config.yaml Then edit the apm_config.yaml you just create to remove startup_px4_usb_quirk: false Modify your local apm.launch to change <arg name=""config_yaml"" value=""$(find mavros)/launch/apm_config.yaml"" /> into <arg name=""config_yaml"" value=""apm_config.yaml"" />"
194,Roslaunch:error loading <rosparam> tag,4,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful","Modify the apm_config.yaml in /opt/ros/kinetic/share/mavros/launch, and follow this PR : *  It is just an extra space to remove. You will just need sudo for this modification. I thought it was already updated."
194,Roslaunch:error loading <rosparam> tag,5,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful","*,I tried both methods and failed, but as * said, there was one extra space before setpoint_raw in apm_config.yaml Now it works well:grinning: RRRRReally appreciate your help"
194,Roslaunch:error loading <rosparam> tag,6,"hi there, I tend to some ros-sitl but some error occurred First I use Ubuntu 16.04, ros-kinetic-desktop (NOT full), gazebo 8, mavros I cd to ArduCopter and use the line: sim_vehicle.py -v ArduCopter --console --map ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" the MAP has shown, and I followed the instruction on:*, changed the fcu_url to default=""udp://127.0.0.1:14551@14555"" and then opened a new terminal text:roslaunch apm.launch but the terminal showed like this:  i have tried to uninstall ros and re-install but didn’t work. As I am new to ros, I have no idea what the problem is. If someone can help me, I will be very grateful","ok, nice that you sort it out !"
195,SITL Changing Modes,1,When using SITL if i change mode to Loiter or Alt Hold the copter just descends and lands. Guided mode works fine. What could I be doing wrong. Thanks David Ardis,"did you set RC3 1500 ? If not, do it."
195,SITL Changing Modes,2,When using SITL if i change mode to Loiter or Alt Hold the copter just descends and lands. Guided mode works fine. What could I be doing wrong. Thanks David Ardis,How exactly can I do this is it a parameter in the full Parameter list? PS really new to simulator
195,SITL Changing Modes,3,When using SITL if i change mode to Loiter or Alt Hold the copter just descends and lands. Guided mode works fine. What could I be doing wrong. Thanks David Ardis,"hello, No that isn’t a parameter ! Guided mode is a an automatic mode like AUTO. Those don’t need RC radio to work. Loiter and Alt Hold are manual mode, you need an RC Radio to use it. You are seeing the copter going done when doing GUIDED -> Loiter mode change as you don’t have radio. The controller see 0 as throttle input and then shutdown the motor to 0 … On SITL, you should have a mavproxy terminal (normally that is where you are sending command to SITL). Mavproxy emulate RC radio input for SITL. In this terminal, using the command RC 3 1500 put the radio input 3 (throttle) to 1500 us (that is PWM value). At 1500 on throttle, the copter will hover."
195,SITL Changing Modes,4,When using SITL if i change mode to Loiter or Alt Hold the copter just descends and lands. Guided mode works fine. What could I be doing wrong. Thanks David Ardis,Thanks I have got it sorted getting confused between simulator in mission planners and SITL with mavproxy. There is no way to control throttle in simulator without a joystick
196,Ardupilot Copter Simulation with Gazebo,1,"Hi. In Gazebo simulations i had to give some throttle to takeoff after arming the copter in order to use GPS based modes. Otherwise, EKF2 does not give APM: EKF2 IMU0 is using GPS APM: EKF2 IMU1 is using GPS I had to takeoff and gain some altitude in order to EKF2 uses GPS. Is there a way to solve this? I don’t want to give rc override in the first place in order to able to use GPS modes. I am currently using ArduCopter V3.7.0-dev (ed160699) Thanks…","Hello *, is it possible to have the logs from this flight ? For the takeoff, do you use the takeoff service or do you just increase the throttle command ? Is the copter see “GPS satellite” signals before arming ?"
197,How do you start dronekit with a certain ArduCopter version?,1,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul","I know that a release specific SITL can be started with dronekit-sitl copter-X.X.X where X’s are for release numbers but not sure whether copter-3.6.7 exist as prebuilt or not. However you can build it from source. git clone https://github.com/ArduPilot/ardupilot.git will give you the whole repository. After the clone, you can list the tags with  git tag -l  and then checkout a specific tag: git checkout tags/<tag_name> Even better, checkout and create a branch (otherwise you will be on a branch named after the revision number of tag): $ git checkout tags/<tag_name> -b <branch_name> And tag name would be Copter-3.6.7 in your case. Please look at the following pages: * *"
197,How do you start dronekit with a certain ArduCopter version?,2,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul"," Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7?  We’ve started to compile up more recent binaries, but I do need to find time to modify dronekit-sitl to use them  In the meantime you can set a pair of environment variables to point to your own binaries. SITL_BINARY SITL_DEFAULTS_FILEPATH Something like this: SITL_DEFAULTS_FILEPATH=/home/pbarker/rc/ardupilot/Tools/autotest/default_params/copter-heli.parm SITL_BINARY=/home/pbarker/rc/ardupilot/build/sitl/bin/arducopter-heli python examples/vehicle_state/vehicle_state.py You should be able to download suitable SITL binaries from our firmware server… assuming you’re on x86-64 or arm32hf  Paul  Peter   Visit Topic or reply to this email to respond. You are receiving this because you enabled mailing list mode. To unsubscribe from these emails, click here.  Peter Barker                          |   Programmer,Sysadmin,Geek. pbarker@barker.dropbear.id.au	      |   You need a bigger hammer. :: It’s a hack! Expect underscores! - Nigel Williams"
197,How do you start dronekit with a certain ArduCopter version?,3,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul","Thanks Peter, it’s all good.  Running simulated missions is very helpful and a great feature. Thanks for your fine work,"
197,How do you start dronekit with a certain ArduCopter version?,4,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul",Another question: How do you modify and add to the parameters with which Dronekit and SITL start?
197,How do you start dronekit with a certain ArduCopter version?,5,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul",On your terminal: cd sudo nano .bashrc Add these following lines: SITL_DEFAULTS_FILEPATH=/home/$USER/ardupilot/Tools/autotest/default_params/copter-heli.parm SITL_BINARY=/home/$USER/ardupilot/build/sitl/bin/arducopter-heli I assumed that you pulled the git repository to your home folder. You can edit the lines as you like. Save and exit (press Ctrl + X and press y and press enter) Then close and open the terminal or: source .bashrc I think it should work.
197,How do you start dronekit with a certain ArduCopter version?,6,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul","Mustafa, I added the PATH lines at the end of the .bashrc file.  Still did not work. Maybe I added the parameters incorrectly.  I added these two, but there is no change in the simulated flight: RTL_ALT 475 WPNAV_SPEED_DN 300 I saw no apparent syntax in the copter.parm file other than a space between the parameter name and the value. Thank for any ideas."
197,How do you start dronekit with a certain ArduCopter version?,7,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul",.bashrc parameters are for the starting the simulation. What you want to set are the vehicle parameters. You should set them on the .parm file or your can set them manually in the mavproxy.py like: param set RTL_ALT 475 param set WPNAV_SPEED_DN 300 And check whether they are set or not using: param get RTL_ALT param get WPNAV_SPEED_DN Let me know if it works 
197,How do you start dronekit with a certain ArduCopter version?,8,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul","I tried setting the parameters in the copter.parm file (not the .bashrc) and there was no change. I’ll try setting them manually tomorrow and report back here. Thanks again,"
197,How do you start dronekit with a certain ArduCopter version?,9,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul",But it should change the parameters. May be you are editing the wrong .parm file. Please be sure. Regards…
197,How do you start dronekit with a certain ArduCopter version?,10,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul","The script I am running starts dronekit-sitl with this command: /usr/local/bin/dronekit/sitl/copter… …and some arguments for home location and initial heading. If starting dronekit-sitl that way, which parameter file does it use?"
197,How do you start dronekit with a certain ArduCopter version?,11,"Am using Dronekit 2.8.1 and Dronekit-SITL 3.2.0. How do I get dronekit to start with ArduCopter 3.6.7? Thanks, Paul",I do not know about that since i am using sim_vehicle.py to build the SITL from source. Here’s the sample command: sim_vehicle.py --add-param-file /home/m/ardupilot/Tools/autotest/default_params/gazebo-zephyr.parm -v ArduPlane -f gazebo-zephyr -I0 You may change the parameter file to anything that you desired.
198,Xplane10 with mission planner use raptor 30 v2 Module cant not let work my sitting mission,1,hi have anybody use Xplane with mission planner and use raptor 30 v2 Module for sitl before ?im can connect XP10 with mission planner but im cant Send mission command for Xplane10 let raptor 30 v2 fly im already try 1month…if somebody know how to do plz help me,"Hi igor. Please give us more detail about what does not seem right? Also provide us the commands you are trying to do and the outputs, etc. Regards…"
198,Xplane10 with mission planner use raptor 30 v2 Module cant not let work my sitting mission,2,hi have anybody use Xplane with mission planner and use raptor 30 v2 Module for sitl before ?im can connect XP10 with mission planner but im cant Send mission command for Xplane10 let raptor 30 v2 fly im already try 1month…if somebody know how to do plz help me,"*  im use XP10 with MissionPlanner do  SITL already can connect  *  im use XP10 with MissionPlanner do  SITL already can connect  *  And im path planning and can update *  but after i want to let Helicopter (raptor 30 v2 ) fly ,but I don’t know  my settings are wrong? cant let Helicopter working  im dont kmow how to setting here         "
198,Xplane10 with mission planner use raptor 30 v2 Module cant not let work my sitting mission,3,hi have anybody use Xplane with mission planner and use raptor 30 v2 Module for sitl before ?im can connect XP10 with mission planner but im cant Send mission command for Xplane10 let raptor 30 v2 fly im already try 1month…if somebody know how to do plz help me,"how are u Mustafa_Gokce nice to meet u ,sorry Disturb your time. very thanks u help me im really dont know how to let my raptor 30 v2 cant use SITL work on XPLANE10 im dont know where setting are worng…"
199,Copter Simulation with Ardupilot and Gazebo from source,1,"Hi. I want to compile the ArduCopter from Ardupilot source with removing from all other extra codes (such as ArduPlane, hardware librarires, etc) to only leave the codes used to simulate a copter in the simulation (Gazebo environment). For final, i should be able to start my Ardupilot firmware from only compiled cpp files and now i have only the necessary codes. Is there an easy way to do this? Where should i begin? Thanks…","No need to remove anything at all. ArduCopter SITL does not contain any Plane, Rover or Sub code. There is nothing in there that you need to remove or simplify. Just compile or download a “AdruCopter SITL” and run that together with Gazebo. Documentation can (as always) be found with google “ArduCopter SITL gazebo”: * * the pre-compiled SITL can be found here: *"
199,Copter Simulation with Ardupilot and Gazebo from source,2,"Hi. I want to compile the ArduCopter from Ardupilot source with removing from all other extra codes (such as ArduPlane, hardware librarires, etc) to only leave the codes used to simulate a copter in the simulation (Gazebo environment). For final, i should be able to start my Ardupilot firmware from only compiled cpp files and now i have only the necessary codes. Is there an easy way to do this? Where should i begin? Thanks…","As you can read from * reply, when you compile SITL you also define which vehicle you’re building for, so that you won’t get mixed vehicles on a single binary."
199,Copter Simulation with Ardupilot and Gazebo from source,3,"Hi. I want to compile the ArduCopter from Ardupilot source with removing from all other extra codes (such as ArduPlane, hardware librarires, etc) to only leave the codes used to simulate a copter in the simulation (Gazebo environment). For final, i should be able to start my Ardupilot firmware from only compiled cpp files and now i have only the necessary codes. Is there an easy way to do this? Where should i begin? Thanks…",The documentation also descries how to compile from source.
200,X plane 10 SITL disarms after a few seconds of arming,1,"hello, I am new to ardupilot and using it research where I need to hold a helicopter at an altitude constant while I give inputs, I have connected x plane 10  and mission planner but once I arm the helicopter it arms successfully for a couple of seconds and then im *  mediately disarms.  also when i change fight mode it just gives me an error saying unable to change flight mode.  can someone help me with this problem?  Thanks in advance.         ","After arming, simply give some throttle like: rc 3 1500 from mavproxy.py CLI. This should work "
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",1,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul","by default it uses the Cygwin home directory, to move to c drive it would be cd /cygdrive/c (i think) then cd to the ardupilot directory."
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",2,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul","OK, cool.  Where do I go from here? Thanks Peter,"
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",3,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul",Where ever you put the directory looks like it would be cd Users/Paul_3/home/ardupilot or someting close You can get the full path from the folder properties
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",4,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul","I never put the ardupilot directory - it was not mentioned in the installation instructions. Is that an extra step? Thanks again,"
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",5,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul",you need to download the code using git *
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",6,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul","Thanks Peter. I see where this is going and I will not go further - I fear it may become an endless series of pestering questions at each new step. It would of course be nice if there was a simulator that you could simply install and run your Mission plans. Thanks again and sorry for the questions,"
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",7,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul","There is a simulator in mission planner, * Really you only need to do the method you were attempting if you plan on making changes to the code."
201,"""No such file or directory"" Please help with Arducopter simulator on Windows 10",8,"I am pretty sure I followed the installation instructions on this page and the Cygwin64 and MAVProxy pages it referenced: * But I get this error message when I attempt to run the simulator: What did I do wrong or miss?  Please give details because I do not know computer jargon too well. Thanks, Paul",Found and used the simulator built into Mission Planner.  It is exactly what I needed.
202,Battery config in SITL?,1,"Hello, I’d like to configure a SITL ArduCopter system to have the same battery specs as the flight vehicle I’ll be working on. Perhaps I’m being dumb- but I’m not seeing that. Can someone point me to a config file/manual/place in the code that I could set up the simulation to ‘use’ a 6S battery? TIA…",SIM_BAT_VOLT parameter ?
202,Battery config in SITL?,2,"Hello, I’d like to configure a SITL ArduCopter system to have the same battery specs as the flight vehicle I’ll be working on. Perhaps I’m being dumb- but I’m not seeing that. Can someone point me to a config file/manual/place in the code that I could set up the simulation to ‘use’ a 6S battery? TIA…","Dang- that’ll do it, thanks. I missed the SIM_* parameters…"
203,Connecting Mission Planner to SITL in VirtualBox,1,"Hi, I’ve set up a virtual Ubuntu 16.04 in VirtualBox on my Windows 10 host. In the virtual machine SITL is running fine with the ArduCopter source from git. Now I want to connect Mission Planner 1.3.62 via UDP with SITL, but that doesn’t work so far. When I set Mission Planner to UDP at port 14550 it either keeps connecting forever without success or it shows “Connect Failed” with the following exception: * SITL itself seems to work fine, at least inside the VM I can receive the UDP packets: * Therefore I assume that there is rather a networking problem between Windows and VirtualBox. In VirtualBox I have set up a NAT with port forwarding for port 14550 and I have disabled all firewalls in Windows, but no success yet. Any help would be highly appreciated!","Is it an option for you to bridge the virtual machine to the host’s subnet rather than using NAT? I find that “just works” rather than having to fiddle with routing through a NAT. Can you ping the host’s IP from the virtual machine? You could post the output from “ipconfig /all” on Windows and ifconfig on the virtual machine, and the command used to configure the output from SITL (either on the sim_vehicle.py command line or with the “output add” command). Maybe something will be apparent from that."
203,Connecting Mission Planner to SITL in VirtualBox,2,"Hi, I’ve set up a virtual Ubuntu 16.04 in VirtualBox on my Windows 10 host. In the virtual machine SITL is running fine with the ArduCopter source from git. Now I want to connect Mission Planner 1.3.62 via UDP with SITL, but that doesn’t work so far. When I set Mission Planner to UDP at port 14550 it either keeps connecting forever without success or it shows “Connect Failed” with the following exception: * SITL itself seems to work fine, at least inside the VM I can receive the UDP packets: * Therefore I assume that there is rather a networking problem between Windows and VirtualBox. In VirtualBox I have set up a NAT with port forwarding for port 14550 and I have disabled all firewalls in Windows, but no success yet. Any help would be highly appreciated!","Thanks a lot for your reply! Eventually I got it working. The solution was to append --out=udp:XXX.X.X.X:14550 when running sim_vehicle.py with XXX.X.X.X being the host’s ip address. Now it works with NAT even without port forwarding configured. Should it normally run without that parameter? Or is this the usual way how it works? Then we might want to add it to the documentation. On * there is described a parameter --viewerip=XXX.X.X.X, but this wasn’t accepted by sim_vehicle.py."
203,Connecting Mission Planner to SITL in VirtualBox,3,"Hi, I’ve set up a virtual Ubuntu 16.04 in VirtualBox on my Windows 10 host. In the virtual machine SITL is running fine with the ArduCopter source from git. Now I want to connect Mission Planner 1.3.62 via UDP with SITL, but that doesn’t work so far. When I set Mission Planner to UDP at port 14550 it either keeps connecting forever without success or it shows “Connect Failed” with the following exception: * SITL itself seems to work fine, at least inside the VM I can receive the UDP packets: * Therefore I assume that there is rather a networking problem between Windows and VirtualBox. In VirtualBox I have set up a NAT with port forwarding for port 14550 and I have disabled all firewalls in Windows, but no success yet. Any help would be highly appreciated!","Viewerip is a parameter to the autotest script. I think the wiki is out of date on this, you want to use sim_vehicle.py and specifiy the GCS IP address either with the --out parameter, or in mavproxy with the “output add” command. I’ve never had much luck with autoconnect, I always specify the address."
203,Connecting Mission Planner to SITL in VirtualBox,4,"Hi, I’ve set up a virtual Ubuntu 16.04 in VirtualBox on my Windows 10 host. In the virtual machine SITL is running fine with the ArduCopter source from git. Now I want to connect Mission Planner 1.3.62 via UDP with SITL, but that doesn’t work so far. When I set Mission Planner to UDP at port 14550 it either keeps connecting forever without success or it shows “Connect Failed” with the following exception: * SITL itself seems to work fine, at least inside the VM I can receive the UDP packets: * Therefore I assume that there is rather a networking problem between Windows and VirtualBox. In VirtualBox I have set up a NAT with port forwarding for port 14550 and I have disabled all firewalls in Windows, but no success yet. Any help would be highly appreciated!","We explicitly check to see if we’re running under our Vagrant virtual machines here: *  I guess the point is that we don’t ordinarily want to spew this traffic all over the place - it can interfere with work being done on real vehicles at the same time, for example."
204,Hexacopter with SITL EKF malfunction,1,"I did smoke-test of 3.5.5 and 3.6.5 for Hexacopter in simulator, GUIDED mode mainly. Its EKF signals failures either before takeoff or during the flight. No matter how HEXA frame is modified, all the other parameters are default (taken from quad defaults). Same test with quadcopter frame produces no issues, EKF without warnings or malfunction. Only hexactoper fails during the takeoff or its flight is way off the track. Q: Does anybody experience the same problem using HEXA and SITL?",* is it correct that only quadcopter is supported in the SITL?
204,Hexacopter with SITL EKF malfunction,2,"I did smoke-test of 3.5.5 and 3.6.5 for Hexacopter in simulator, GUIDED mode mainly. Its EKF signals failures either before takeoff or during the flight. No matter how HEXA frame is modified, all the other parameters are default (taken from quad defaults). Same test with quadcopter frame produces no issues, EKF without warnings or malfunction. Only hexactoper fails during the takeoff or its flight is way off the track. Q: Does anybody experience the same problem using HEXA and SITL?","No, hexa should work."
205,No vehicle after starting SITL,1,"Hi.  I lost the copter from the simulator and I do not understand why. Everything worked and after the next assembly of the project ceased. I bring the assembly log. I do everything according to the instructions * The project is being built, but after launching an empty window appears with a map and console. QGC also does not see the vehicle. Ubuntu 18.04 LTS, ArduCopter 3.5 There is some build code: *","I solved my problem, made a rollback to the previous version of the project. A bit strange, since the project was compiled successfully"
205,No vehicle after starting SITL,2,"Hi.  I lost the copter from the simulator and I do not understand why. Everything worked and after the next assembly of the project ceased. I bring the assembly log. I do everything according to the instructions * The project is being built, but after launching an empty window appears with a map and console. QGC also does not see the vehicle. Ubuntu 18.04 LTS, ArduCopter 3.5 There is some build code: *",you should check that you didn’t have another instance running or something else on port 5760
206,Heli simulation problem,1,"* Hello friends I have a question in a long time. I am very embarrassed because it was not a problem before. I want to simulate a helicopter. It was very good in the past, there was no problem. But I wanted to run the simulation today, but I get this error message. Is it necessary to grab a virtual pixhawk and do an acceleration calibaration (joke) The motor interlock problem also annoys me. This one day will come up and one day will not. There are no rules, so we can not infer what is wrong.",I’ve moved this to Simulation so the right people can see it.  Good luck!
206,Heli simulation problem,2,"* Hello friends I have a question in a long time. I am very embarrassed because it was not a problem before. I want to simulate a helicopter. It was very good in the past, there was no problem. But I wanted to run the simulation today, but I get this error message. Is it necessary to grab a virtual pixhawk and do an acceleration calibaration (joke) The motor interlock problem also annoys me. This one day will come up and one day will not. There are no rules, so we can not infer what is wrong.","Check your INS_ACCOFFS_X, _Y, and _Z for all instances. They should be 0.001. The INS_ACCSCAL_X, _Y, and _Z for all instances should be 1.001. Also your ARMING_CHECK param should be zero. In the sim, if you don’t have a transmitter/joystick hooked up to mission planner, then you will get this message as the default state for the motor interlock is enabled. You have to set it through MAVLink if you don’t have a joystick hooked up. Hope this helps."
206,Heli simulation problem,3,"* Hello friends I have a question in a long time. I am very embarrassed because it was not a problem before. I want to simulate a helicopter. It was very good in the past, there was no problem. But I wanted to run the simulation today, but I get this error message. Is it necessary to grab a virtual pixhawk and do an acceleration calibaration (joke) The motor interlock problem also annoys me. This one day will come up and one day will not. There are no rules, so we can not infer what is wrong.","Hello Bill I have solved this problem Solved the accel cali problem by setting arming check to 0, solved the motor interlock message by adjusting the min, trim and max values ​​of servo(number8) output But this time another problem occurred. When i try to start the mission, i see flight mode change failed. I have often seen this error message on my real heli. But for whatever reason, I do not know if this is happening."
206,Heli simulation problem,4,"* Hello friends I have a question in a long time. I am very embarrassed because it was not a problem before. I want to simulate a helicopter. It was very good in the past, there was no problem. But I wanted to run the simulation today, but I get this error message. Is it necessary to grab a virtual pixhawk and do an acceleration calibaration (joke) The motor interlock problem also annoys me. This one day will come up and one day will not. There are no rules, so we can not infer what is wrong.","Hi Bill! I brought good news !! I was successful in the simulation flight. The problem was that the simulation was very simple, Mission Creation - Upload - Arming - Mission Start But now, the way I succeeded is very difficult. rc8 Set all min, max, trim values ​​to 1500 and arming And change the min value to 1400 That way, i can change the mode and start the mission all the way - without the phrase flight mode change failed. I do not know why I’m a beginner, I do not know why it’s solved this way. But is not there something easier?"
207,The copter does not move on the map?,1,The copter does not move on the map? I got the copter to move now I am not shure what made it not work. I have gotten the Rascal to take off but no other planes in jsbsim or aeromatic++ When I fallowed these instructions some things seemed to update. But the copter does not move on the map? *,"There is a timeout of a few seconds on “arm throttle”, so if you don’t set “mode auto” quickly enough it will disarm. Perhaps that was it?"
207,The copter does not move on the map?,2,The copter does not move on the map? I got the copter to move now I am not shure what made it not work. I have gotten the Rascal to take off but no other planes in jsbsim or aeromatic++ When I fallowed these instructions some things seemed to update. But the copter does not move on the map? *,your probably right. That sounds like it.
208,How to simulate GPS Spoofing,1,"i have chosen Ardupilot SITL to analyse how the copter autopilot would react to GPS spoofing attacks. I would like to simulate such GPS spoofing attack by providing a fake GPS position to the autopilot. After reading thought the SITL wiki i still not understand, how GPS data is provided to the autopilot. If i take the standard setup (on linux), i assume that GPS is provided by the vehicle sim? What would i have to do, to inject a faked GPS stream (NMEA ?) to the autopilot? How can i get acces to the true simulated copter position? Any help would be highly appreciated.",The true simulated copter position is given by the SIMSTATE mavlink message (#*). You can retrieve it by streaming SRX_EXTRA1.
208,How to simulate GPS Spoofing,2,"i have chosen Ardupilot SITL to analyse how the copter autopilot would react to GPS spoofing attacks. I would like to simulate such GPS spoofing attack by providing a fake GPS position to the autopilot. After reading thought the SITL wiki i still not understand, how GPS data is provided to the autopilot. If i take the standard setup (on linux), i assume that GPS is provided by the vehicle sim? What would i have to do, to inject a faked GPS stream (NMEA ?) to the autopilot? How can i get acces to the true simulated copter position? Any help would be highly appreciated.","As a newbie i still have to learn a few things, so the info does not help much. from the Wiki about the  * i understand that when i follow the instructions in the Wiki the sim_vehicle.py script will start mavproxy and arducopter. is it correct, that arducopter includes both, the ardupilot code (autopilot) and also the vehicle simulation? I assume that the the vehicle simulation would produce the true position and also the simulated GPS position? If this is correct i would like to intercept the simulated GPS position sent from vehicle simulation part to the autopilot. Could this be achieved without code modification in the SITL environment? Or could i try to disable the GPS but connect the sim to another GPS source?"
208,How to simulate GPS Spoofing,3,"i have chosen Ardupilot SITL to analyse how the copter autopilot would react to GPS spoofing attacks. I would like to simulate such GPS spoofing attack by providing a fake GPS position to the autopilot. After reading thought the SITL wiki i still not understand, how GPS data is provided to the autopilot. If i take the standard setup (on linux), i assume that GPS is provided by the vehicle sim? What would i have to do, to inject a faked GPS stream (NMEA ?) to the autopilot? How can i get acces to the true simulated copter position? Any help would be highly appreciated.","And I was thinking about it， I was flying with two gps, and there was a big difference between the two gps positions, which caused the crash, so I was looking for a feature that might be able to emulate the ability to enter two gps virtual data."
209,SITL + FrSky telemetry to yaapu,0,"I wanted to run the * script on my Horus while using SITL. I haven’t seen this documented anywhere so here’s what I did. The * program runs in “Air Mode” on a Teensy32 Arduino. It converts MAVLink telemetry from the USB port on the SITL computer via an FTDI cable to FrSky telemetry which is sent to the S.Port pin on an FrSky receiver. The Horus is bound to this receiver. Both the receiver and the Arduino run from the 5V line in the FTDI cable. The MavlinkToPassthru repository has a binary for the Teensy32 so setting this up was just a matter of loading the binary using the Arduino IDE. In a second USB port I have an FrSky * dongle, bound to the same Horus model, with SITL configured to use this as joystick input. This would all be simpler if the S.Port pin on the XSR-SIM worked for telemetry, but as far as I can tell it doesn’t at the moment. *",
210,APM quadcopter 3D simulation/ AI traning,1,"Hello, I have a project on AI/object avoidance and i am trying to find a direction here. I plan to run a 3D drone simulation using SITL and gazebo to train my drone. I would like to ask:  Do i need to program the dynamics of the drone if i am using gazebo with ROS? If ROS have the dynamics of quadcopter, then i just need give instruction to the drone? in the end can i transfer the program to my drone after the drone is done training? or is it just for simulation? do i need anything else other than gazebo/ROS, SITL to train my drone?  Thanks guys. Drone using APM2.6 as flight controller. plan to use Raspi to control the flight controller.","Hello, I think you can look at this*, and the blog posts * and *. I think what ayushgaud is doing is very similar to what you want to do."
211,SITL quad plane how was it compiled or made? What if I want to use openvsp aero or auto,0,SITL quad plane how was it compiled or made? What if I want to use openvsp aero or auto…? *,
212,Cannot start SITL as docker ENTRYPOINT,1,"Hello! I am trying to create a SITL docker image with MAVROS + Arducopter SITL. Managed to install everything successfully, but I cannot get SITL to run on startup. I have created a simple script start-ardupilot.bash: * If I try to run this as the container ENTRYPOINT by putting * in my Dockerfile the SITL startup fails with the following error: * However, if I start a container instance and launch a bash shell, running the script from this shell works fine. Any ideas on what might be the issue are greatly appreciated!",Resolved by using docker run with the -t flag.
212,Cannot start SITL as docker ENTRYPOINT,2,"Hello! I am trying to create a SITL docker image with MAVROS + Arducopter SITL. Managed to install everything successfully, but I cannot get SITL to run on startup. I have created a simple script start-ardupilot.bash: * If I try to run this as the container ENTRYPOINT by putting * in my Dockerfile the SITL startup fails with the following error: * However, if I start a container instance and launch a bash shell, running the script from this shell works fine. Any ideas on what might be the issue are greatly appreciated!",Does our documentation need fixing?
212,Cannot start SITL as docker ENTRYPOINT,3,"Hello! I am trying to create a SITL docker image with MAVROS + Arducopter SITL. Managed to install everything successfully, but I cannot get SITL to run on startup. I have created a simple script start-ardupilot.bash: * If I try to run this as the container ENTRYPOINT by putting * in my Dockerfile the SITL startup fails with the following error: * However, if I start a container instance and launch a bash shell, running the script from this shell works fine. Any ideas on what might be the issue are greatly appreciated!","It might be helpful to point out that the simulator for some reason cannot be run as a forked process, which seems to be the actual issue here. Starting the script with & or not using the -t flag seems to produce the same issue."
213,Reaflight_Quad Param File Missing,0,Greetings everyone! I have been excited to use realflight 8 with ardupilot recently and want to get my setup up and running. I have a question though regarding the realflight_quad param file mentioned in the wiki documentation instructions. It does not show up on the recent version of mission planner (1.3.59.3). It is not viewable in the drop down list. I noticed it is not included in the MASTER_SITL folder that one can download for different real flight models. Would anyone happen to know the location of the realflight_quad param file? If so could you point me in the right direction. Thanks in advance!,
214,"Gazebo stuck at ""Preparing your world...""",1,"Hi everyone, I am trying to launch Gazebo-8 simulator via WSL - Ubuntu 16.04 installed on Windows 10 with Xming. I have installed Gazebo as described here: * (ardupilot tutorial - *- seems to be a bit messy, but hopefully I have everything covered). Everything went OK and the program starts, but stays like that forever: * And here’s an output of Ubuntu terminal after I call Gazebo: * Should I worry about those warnings? The “Sleep time…” seems to be a common problem with low clock resolution (400ns) of Ubuntu running from Windows. I’ve found some reference to this problem in Google that there’s a bug with custom worlds and renaming it to “default” should help - but it didn’t (*). Other suggestions state that it just takes time to download the worlds at the first time, but waiting for about an hour didn’t change anything. Then I set up SITL (forgotten to do it before Gazebo) and this one seems to be working well. Do you have any suggestions what could’ve gone wrong here?","Hello, Did you try to launch just gazebo on WSL ? I am not it works … Try gazebo --verbose . It should launch an empty world an validate that everything is working. But it looks like the first to warning you get will prevent you to going further …"
214,"Gazebo stuck at ""Preparing your world...""",2,"Hi everyone, I am trying to launch Gazebo-8 simulator via WSL - Ubuntu 16.04 installed on Windows 10 with Xming. I have installed Gazebo as described here: * (ardupilot tutorial - *- seems to be a bit messy, but hopefully I have everything covered). Everything went OK and the program starts, but stays like that forever: * And here’s an output of Ubuntu terminal after I call Gazebo: * Should I worry about those warnings? The “Sleep time…” seems to be a common problem with low clock resolution (400ns) of Ubuntu running from Windows. I’ve found some reference to this problem in Google that there’s a bug with custom worlds and renaming it to “default” should help - but it didn’t (*). Other suggestions state that it just takes time to download the worlds at the first time, but waiting for about an hour didn’t change anything. Then I set up SITL (forgotten to do it before Gazebo) and this one seems to be working well. Do you have any suggestions what could’ve gone wrong here?","Hello, It looks like your PC issue to me , Gazebo does require high computing power as I described at the first of repository with quoting myself, Gazebo has requirements  Native Ubuntu Xenial(16.04 LTS) able to run full 3D graphics. Note : Virtual Machine such as VMWare Player does not support full 3D graphics.  Gazebo require a computer that can run full 3D graphics along with the physics engine, it may not seem to require much computation but it does both on CPU & GPU. Just run gazebo --verbose as khancyr said, I bet it won’t be able to start or very slow even with the empty world."
214,"Gazebo stuck at ""Preparing your world...""",3,"Hi everyone, I am trying to launch Gazebo-8 simulator via WSL - Ubuntu 16.04 installed on Windows 10 with Xming. I have installed Gazebo as described here: * (ardupilot tutorial - *- seems to be a bit messy, but hopefully I have everything covered). Everything went OK and the program starts, but stays like that forever: * And here’s an output of Ubuntu terminal after I call Gazebo: * Should I worry about those warnings? The “Sleep time…” seems to be a common problem with low clock resolution (400ns) of Ubuntu running from Windows. I’ve found some reference to this problem in Google that there’s a bug with custom worlds and renaming it to “default” should help - but it didn’t (*). Other suggestions state that it just takes time to download the worlds at the first time, but waiting for about an hour didn’t change anything. Then I set up SITL (forgotten to do it before Gazebo) and this one seems to be working well. Do you have any suggestions what could’ve gone wrong here?","Thanks for your responses. Yes, I’ve tried running gazebo alone and it gives exactly the same result. I don’t think that PC should be an issue as it’s a quite new i7-powered machine, but possibly Windows’ Subsystem doesn’t support full 3D graphics (similarly as VMWare Player you’ve mentioned). I’ve googled that Xming server has some bugs, and indeed: using VcXsrv instead solved the first two warnings (about screen resources and XCB error). Now there are only the warnings about “skipping sleep” and queue limits being reached (“Queue limit reached for topic /gazebo/default/physics/contacts” and later “Queue limit reached for topic /gazebo/default/user_camera/pose”). I’m wondering if this low clock resolution is not the cause of my issues, but it seems to be a problem with WSL that I cannot hurdle… will try a native Linux later."
215,Connecting NMEA Stream to UART using virtual tty's,0,"Hello, I would like to add a simulated GPS to SITL runing on my ubuntu machine. I created a virtual pair of com-ports using the socat command: sudo socat -d -d pty,link=/dev/myttySim,raw,echo=0 pty,link=/dev/myttyGPS,raw,echo=0 i start the sim with: sim_vehicle.py -A “–uartB=uart:/dev/myttySim” – console --map i can see some stuff being written to this port doing a cat on /dev/ttyGPS. But somehow i do not manage to make my sim accept the NMEA stream i write on this interface. Does this port require some special protocol or should it accept plain NMEA? Any suggestions?",
216,Adding gimbal to simulate,1,"Hello, I want to simulate a drone with gimbal using ROS  in Ubuntu, I am new in these topics, I could not be sure about procedure that I should follow, Where should I start ? Could you help me please ? Best regards,","The wiki is you friend !  * for the simulation, * for virtual gimbal and * for how to connect with ROS !"
216,Adding gimbal to simulate,2,"Hello, I want to simulate a drone with gimbal using ROS  in Ubuntu, I am new in these topics, I could not be sure about procedure that I should follow, Where should I start ? Could you help me please ? Best regards,","Hello *, Thank you so much for your answer, After see map and console I tried directly  Adding a virtual gimbal part and then I got error ‘‘unable to find parameter RC6_FUNCTION’’ for each one. Specify a servo-based mount: param set MNT_TYPE 1 Set RC output 6 as pan servo: param set RC6_FUNCTION 6 Set RC output 8 as roll servo: param set RC7_FUNCTION 8 I  searched but I could not find any good solution, Is there any missing part? I dont know what is the problem,"
217,SITL and Comm Port,1,Using SITL and Mission Planner for Windows is it possible to output Mavlink messages to a serial port I am new to testing in SITL Thanks David Ardis,Yes. Use CTRL+F in Mission Planner to open the advanced screen. Then click the Mavlink button and fill in the serial port details. Then use the Connect button to start the stream to the serial port.
217,SITL and Comm Port,2,Using SITL and Mission Planner for Windows is it possible to output Mavlink messages to a serial port I am new to testing in SITL Thanks David Ardis,Stephen Thanks ithat just what i was looking for Is there any documents on what all these burttons do.
217,SITL and Comm Port,3,Using SITL and Mission Planner for Windows is it possible to output Mavlink messages to a serial port I am new to testing in SITL Thanks David Ardis,"* There’s documentation for Mission Planner at * Unfortunately, the CTRL+F window is not documented."
217,SITL and Comm Port,4,Using SITL and Mission Planner for Windows is it possible to output Mavlink messages to a serial port I am new to testing in SITL Thanks David Ardis,I have got the Mavlink outputting to the serial port and is working as i can feed the data to another computer. What mavlink protocol is the serial output using and can it be changed. I would like to be using Mavlink 1.
218,Question about how to obtain MAVLink log (Reference values),0,"Hello, all. As far as I know, ArduCopter also supports vehicle’s state logs via MAVLink (not SD card). Out of them, I want to get not only vehicle’s sensor measurement values but also references (r(t) = reference and x(t) = sensor measurement  where e(t) = r(t) - x(t) ) Some of them can be obtained. However, I could not get all of reference values. (e.g., roll, pitch reference values are logged. However, position, velocity reference values are not logged via MAVLink). In the MAVLink message definition (I am not sure whether it is a standard even for ArduCopter), I found that there is some definition for reference (e.g., POSITION_TARGET_LOCAL_NED in the link * ) However, I couldn’t find its data in the MAVLink log. Is there a way to get such all of reference values? especially w/o source code modification? Thank you",
219,HITL for Copter,0,"Hello, What was actually the reason to stop supporting HITL for copters from version 2.9? How complicate is to bring it back and what should be done for this?",
220,A mistake in circle mode,1,"Today I tried Mission planner simulation function. After selecting multirotor, MP downloaded SITL software and began running. I wanted to simulate Circle mode and the SITL did the requirement. But despite my expectation that roll angle remains almost stable, the roll angle was changing all the time the copter was circling. I’ve found that the copter’s nose instead of pointing to the circle center, it was pointed to another fixed direction. I think this is a mistake of the SITL, because it is defined clearly that the nose of the vehicle pointed at the center.",It depends on the YAW_BEHAVIOUR parameter and depends on the DO_SET_ROI command. So … sorry it is not a bug.
220,A mistake in circle mode,2,"Today I tried Mission planner simulation function. After selecting multirotor, MP downloaded SITL software and began running. I wanted to simulate Circle mode and the SITL did the requirement. But despite my expectation that roll angle remains almost stable, the roll angle was changing all the time the copter was circling. I’ve found that the copter’s nose instead of pointing to the circle center, it was pointed to another fixed direction. I think this is a mistake of the SITL, because it is defined clearly that the nose of the vehicle pointed at the center.","Thank you for the reply. I’ve checked the WP_YAW_BEHAVIOUR parameter. It is 2, that means it points to the next waypoint, and DO_SET_ROI command also appears only in a mission. But in the simulation, I only took off, then changed mode to circle, I didn’t define any mission. I did the same with the real multicopter, and it behaves the way defined in circle mode, not like the way of the simulation."
220,A mistake in circle mode,3,"Today I tried Mission planner simulation function. After selecting multirotor, MP downloaded SITL software and began running. I wanted to simulate Circle mode and the SITL did the requirement. But despite my expectation that roll angle remains almost stable, the roll angle was changing all the time the copter was circling. I’ve found that the copter’s nose instead of pointing to the circle center, it was pointed to another fixed direction. I think this is a mistake of the SITL, because it is defined clearly that the nose of the vehicle pointed at the center.","Hi Amicar, I think that what you said about the yaw may be true only if the copter is in a mission. If you select circle by mode switch, the nose should point to the center. I’ve tested this fact with a real quadcopter. So this is a bug of SITL, because it doesn’t simulate what the hardware does in the reality."
221,SITL + Gazebo + Gimbal,0,Hi everyone. I’d like to connect SITL with a gimbal in gazebo in order to test different control strategies. Anyone know if it’s possible? Thanks.,
222,SITL broken when trying to update pymavlink,0,"This is a follow-up to the last issue I posted linked below * I tried to upgrade and update the pymavlink and MavProxy using the following sudo pip install --upgrade pymavlink MAVProxy Which results in the following failure In file included from src/lxml/etree.c:661:0: src/lxml/includes/etree_defs.h:14:31: fatal error: libxml/xmlversion.h: No such file or directory compilation terminated. Compile failed: command ‘x86_64-linux-gnu-gcc’ failed with exit status 1 creating tmp cc -I/usr/include/libxml2 -c /tmp/xmlXPathInit4fhSFx.c -o tmp/xmlXPathInit4fhSFx.o /tmp/xmlXPathInit4fhSFx.c:1:26: fatal error: libxml/xpath.h: No such file or directory compilation terminated. Could not find function xmlCheckVersion in library libxml2. Is libxml2 installed? error: command ‘x86_64-linux-gnu-gcc’ failed with exit status 1 Can’t roll back lxml; was not uninstalled I’ve tried installing libxml2-dev and libxslt1-dev as well and I’m continuing to see fail to fetch in the package installation. ""  404  Not Found [IP: 91.189.91.23 80] Err * wily-security/main libxml2-dev amd64 2.9.2+zdfsg1-4ubuntu0.4 404  Not Found [IP: 91.189.91.23 80] E: Failed to fetch *  404  Not Found [IP: 91.189.91.23 80] E: Failed to fetch *  404  Not Found [IP: 91.189.91.23 80] E: Failed to fetch *  404  Not Found [IP: 91.189.91.23 80] E: Failed to fetch *  404  Not Found [IP: 91.189.91.23 80] E: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing? "" the apt-get update with fix-missing or otherwise doesn’t seem to help either. Now when I run my simulator I see the following STABILIZE> Mode STABILIZE Exception in thread main_loop: Traceback (most recent call last): File “/usr/lib/python2.7/threading.py”, line 810, in __bootstrap_inner self.run() File “/usr/lib/python2.7/threading.py”, line 763, in run self.__target(*self.__args, **self.__kwargs) File “/usr/local/bin/mavproxy.py”, line 783, in main_loop master.wait_heartbeat() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.2.2-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 385, in wait_heartbeat return self.recv_match(type=‘HEARTBEAT’, blocking=blocking) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.2.2-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 346, in recv_match m = self.recv_msg() File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.2.2-py2.7-linux-x86_64.egg/pymavlink/mavutil.py”, line 320, in recv_msg msg = self.mav.parse_char(s) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.2.2-py2.7-linux-x86_64.egg/pymavlink/dialects/v10/ardupilotmega.py”, line 9727, in parse_char self.__callbacks(m) File “/usr/local/lib/python2.7/dist-packages/pymavlink-2.2.2-py2.7-linux-x86_64.egg/pymavlink/dialects/v10/ardupilotmega.py”, line 9704, in __callbacks self.callback(msg, *self.callback_args, **self.callback_kwargs) File “/usr/local/lib/python2.7/dist-packages/MAVProxy/modules/mavproxy_link.py”, line 460, in master_callback mavutil.mavlink.MAV_TYPE_DODECAROTOR]: AttributeError: ‘module’ object has no attribute ‘MAV_TYPE_DODECAROTOR’ Any help is appreciated.",
223,Custom mavlink messages lost in SITL,1,"Hey all, I’ve been getting the SITL for Copter up and running with a build of Copter which includes a custom Mavlink message. My code at first was causing the link to dropout and I noticed that I was experiencing a packet loss of around 4.1% when this happened. I was able to figure out that issue had something to do with too frequent calls to the SITL HAL(at least that’s what fixed the problem) but now I’m still seeing the packet loss and I believe it’s my costum messages that aren’t being sent over MAVPROXY. My intuition is that I need to update message definitions in the Mavproxy, however I can’t find where the .xml files would be in the system. If I’m going down the wrong path to solve this advice would be appreciated or any insight as to what causes loss of links in the SITL HAL. If there is a .xml I need to adjust in my Ubuntu box for custom messages where would it be located such that I can actually modify it? Much appreciated","Hello, Yes Mavproxy will discard unknown message. If you haven’t update message at system level, it is surely the cause of message lose you see. Currently, I use pymavlink installer to do this update : get pymavlink with git clone. put your message xml somewhere. Then * it should regenerate all header for mavproxy. There may be a simplier solution. I will update the wiki when I get it"
223,Custom mavlink messages lost in SITL,2,"Hey all, I’ve been getting the SITL for Copter up and running with a build of Copter which includes a custom Mavlink message. My code at first was causing the link to dropout and I noticed that I was experiencing a packet loss of around 4.1% when this happened. I was able to figure out that issue had something to do with too frequent calls to the SITL HAL(at least that’s what fixed the problem) but now I’m still seeing the packet loss and I believe it’s my costum messages that aren’t being sent over MAVPROXY. My intuition is that I need to update message definitions in the Mavproxy, however I can’t find where the .xml files would be in the system. If I’m going down the wrong path to solve this advice would be appreciated or any insight as to what causes loss of links in the SITL HAL. If there is a .xml I need to adjust in my Ubuntu box for custom messages where would it be located such that I can actually modify it? Much appreciated","Okay thanks, If I’m running the Simulator from the ardupilot directory, where do I need to run this command, I’m getting the following error.  Directory ‘.’ is not installable. File ‘setup.py’ not found. Exception information: Traceback (most recent call last): File “/usr/lib/python2.7/dist-packages/pip/basecommand.py”, line 122, in main status = self.run(options, args) File “/usr/lib/python2.7/dist-packages/pip/commands/install.py”, line 283, in run InstallRequirement.from_line(name, None)) File “/usr/lib/python2.7/dist-packages/pip/req.py”, line 147, in from_line raise InstallationError(“Directory %r is not installable. File ‘setup.py’ not found.” % name) InstallationError: Directory ‘.’ is not installable. File ‘setup.py’ not found.  I suppose I need to be where the pymavlink is in my ardupilot directory."
223,Custom mavlink messages lost in SITL,3,"Hey all, I’ve been getting the SITL for Copter up and running with a build of Copter which includes a custom Mavlink message. My code at first was causing the link to dropout and I noticed that I was experiencing a packet loss of around 4.1% when this happened. I was able to figure out that issue had something to do with too frequent calls to the SITL HAL(at least that’s what fixed the problem) but now I’m still seeing the packet loss and I believe it’s my costum messages that aren’t being sent over MAVPROXY. My intuition is that I need to update message definitions in the Mavproxy, however I can’t find where the .xml files would be in the system. If I’m going down the wrong path to solve this advice would be appreciated or any insight as to what causes loss of links in the SITL HAL. If there is a .xml I need to adjust in my Ubuntu box for custom messages where would it be located such that I can actually modify it? Much appreciated","I found the proper location to run the command in my modules/mavlink/pymavlink folder, I don’t know why my previous find didn’t show that. Now I’m getting another error running that command. Can’t roll back lxml; was not uninstalled higher up I saw the following ** make sure the development packages of libxml2 and libxslt are installed ** so I did the following sudo apt-get install libxml2-dev libxslt1-dev sudo pip install lxml but I’m still getting the same error."
224,Sim_vehicle.py Error using SITL with Vagrant,1,"Hello everyone, I have been setting up SITL using Vagrant following this *. My VM is artful32 and following the steps I end up in /Vagrant/ArduCopter and run sim_vehicle.py -j 2 using the absolute reference /vagrant/Tools/autotest/sim_vehicle.py -j -2. This returns the following error. * After reviewing this forum I found similar issues where the solution has been to run git submodule update --init --recursive. I retried while making sure that I ran git submodule update --init --recursive both as a regular user and using sudo. Both times I received the same error. After going through the forums I have been unable to find a similar issue so I thought I would post. Please let me know if you have any suggestions. Thanks, Ben",Using sudo where not required can horrendously break things… Does /vagrant/modules/waf/waf-light exist? Note that the instructions do include a direction to do the git submodule update --init --recursive within the Vagrant environment.
224,Sim_vehicle.py Error using SITL with Vagrant,2,"Hello everyone, I have been setting up SITL using Vagrant following this *. My VM is artful32 and following the steps I end up in /Vagrant/ArduCopter and run sim_vehicle.py -j 2 using the absolute reference /vagrant/Tools/autotest/sim_vehicle.py -j -2. This returns the following error. * After reviewing this forum I found similar issues where the solution has been to run git submodule update --init --recursive. I retried while making sure that I ran git submodule update --init --recursive both as a regular user and using sudo. Both times I received the same error. After going through the forums I have been unable to find a similar issue so I thought I would post. Please let me know if you have any suggestions. Thanks, Ben",I tried using git submodule update --init --recurisve before trying it with sudo. I will have to go back because on an old forum post there was a recommendation to use sudo. I checked and waf-light does no exist in the specified folder. One thing I do notice is that I receive no confirmation in the bash prompt that the update is doing anything. No text is show on the screen and it typically runs in <1 second. I’ve included a picture of my /vagrant/modules/waf/waf-light folder as well of me running git submodule update --init --recursive. Yeah I saw that the instructions direct you are supposed to git submodule update --init --recursive… I just missed it the first time.
224,Sim_vehicle.py Error using SITL with Vagrant,3,"Hello everyone, I have been setting up SITL using Vagrant following this *. My VM is artful32 and following the steps I end up in /Vagrant/ArduCopter and run sim_vehicle.py -j 2 using the absolute reference /vagrant/Tools/autotest/sim_vehicle.py -j -2. This returns the following error. * After reviewing this forum I found similar issues where the solution has been to run git submodule update --init --recursive. I retried while making sure that I ran git submodule update --init --recursive both as a regular user and using sudo. Both times I received the same error. After going through the forums I have been unable to find a similar issue so I thought I would post. Please let me know if you have any suggestions. Thanks, Ben","OK, a couple more things to try: ls -la /vagrant/.git (make sure nothing is owned by root) git submodule status git submodule deinit -f --all; git submodule update --init --recursive The permissions on that directory are horrendous…"
224,Sim_vehicle.py Error using SITL with Vagrant,4,"Hello everyone, I have been setting up SITL using Vagrant following this *. My VM is artful32 and following the steps I end up in /Vagrant/ArduCopter and run sim_vehicle.py -j 2 using the absolute reference /vagrant/Tools/autotest/sim_vehicle.py -j -2. This returns the following error. * After reviewing this forum I found similar issues where the solution has been to run git submodule update --init --recursive. I retried while making sure that I ran git submodule update --init --recursive both as a regular user and using sudo. Both times I received the same error. After going through the forums I have been unable to find a similar issue so I thought I would post. Please let me know if you have any suggestions. Thanks, Ben","Sorry it took a while to get back to you, had a busy weekend. So it looks like I have read/write permissions on my user for /vagrant/.git though it also looks like submodule doesn’t exist."
225,Arducopter SITL invariant of wall clock time?,0,"Hello Copter Simulation forum, I would like to develop an application controlling an Arducopter.  In conjunction with the physical system, I’d like to use Arducopter SITL to help me make more total flights and crash the physical system less.  In the course of development, I expect the application controller wall clock runtime to vary in computational expense from the very short to the very long. In the detail below, I have tested some variations of stock autotest tests.  The variations seem to show that adding time.sleep changes simulation results.  I was hoping for my tests, simulation results would be invariant of time.sleep. Two questions:    Can Arducopter SITL be driven to produce the same behavior from run to run regardless of how much wall clock time passes?     If yes, then what is the best example code or documentation illustrating the required APIs?    Thanks in advance, Jeff Henrikson Detail Ardupilot version: ardupilot source on github, master branch, commit 4b24a6 on Mon Jul 9 22:26:49 2018 Scenario My hypothesis for how I will test my application controller with SITL is to write tests that connect to a SITL process like this one over TCP port 5760: * In order to understand time semantics of Arducopter SITL, I have started by experimenting with this file: * I can run the file as follows, and get changes to tests to respond: * I have run the wait_altitude call here in three different variations: * Variations Variation 1 Make the 30 second timeout explicit instead of a default argument. Expected result: Altitude OK. Actual result: Altitude OK. * Variation 2 Change the timeout to be 1 second. Expected result: Failed to attain altitude range. Actual result: Failed to attain altitude range. * Variation 3 Change the timeout to be 1 second, and precede with a 30 second time.sleep. Expected result: Failed to attain altitude range, same as Variation 2. Actual result: Failed to attain altitude range, but simulated height is up to 1020. *",
226,Gazebo simulator does not respond to command sent by mavproxy but SITL does,1,"I followed the steps * to install Gazebo-ardupilot plugin. When I launch SITL and Gazebo as mentioned in the documentation, Gazebo does not respond to the command sent to SITL. In SITL command line, the Gazebo class is compiled and loaded: [391/502] Compiling libraries/SITL/SIM_Gazebo.cpp SIM_VEHICLE: Using defaults from (/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm) S  IM_VEHICLE: Run ArduCopter SIM_VEHICLE: ""/home/soubhi/Desktop/ardupilot/Tools/autotest/run_in_terminal_window.sh"" ""ArduCopter"" ""/home/soubhi/Desktop/ardupilot/build/sitl/bin/arducopter"" ""-S"" ""-I0"" ""--home"" ""-35.363261,149.165230,584,353"" ""--model"" ""gazebo-iris"" ""--speedup"" ""1"" ""--defaults"" ""/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm"" SIM_VEHICLE: Run MavProxy SIM_VEHICLE: ""mavproxy.py"" ""--master"" ""tcp:127.0.0.1:5760"" ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" ""--mav10"" ""--map"" ""--console"" RiTW: Starting ArduCopter : /home/soubhi/Desktop/ardupilot/build/sitl/bin/arducopter -S -I0 --home -35.363261,149.165230,584,353 --model gazebo-iris --speedup 1 --defaults /home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm The output from Gazebo command line: Msg] Waiting for master. [Msg] Connected to gazebo master @ http://127.0.0.1:11345 [Msg] Publicized address: 192.168.1.112 [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Err] [Scene.cc:2928] Light [sun] not found. Use topic ~/factory/light to spawn a new light. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [ModelDatabase.cc:212] Unable to connect to model database using[*]. Only locally installed models will be available.[Err] [ModelDatabase.cc:394] Unable to get model name[http://gazebosim.org/models/brick_box_3x1x3] I even tried to open port 11345 in mavproxy: mavproxy.py --master=127.0.1:14550 --sitl 127.0.0.1:5501 --out 127.0.0.1:11345 Operating system: fedora Gazebo version: 7 SITL Ardupilot is latest one I will appreciate any help!","Hi * did you run this command gazebo --verbose worlds/iris_irlock_demo.world after copying your worlds from ardupilot_gazebo/gazebo_worlds to /usr/share/gazebo-7/worlds/? Also, you can try copying  ardupilot_gazebo/gazebo_models to ~/.gazebo/models"
226,Gazebo simulator does not respond to command sent by mavproxy but SITL does,2,"I followed the steps * to install Gazebo-ardupilot plugin. When I launch SITL and Gazebo as mentioned in the documentation, Gazebo does not respond to the command sent to SITL. In SITL command line, the Gazebo class is compiled and loaded: [391/502] Compiling libraries/SITL/SIM_Gazebo.cpp SIM_VEHICLE: Using defaults from (/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm) S  IM_VEHICLE: Run ArduCopter SIM_VEHICLE: ""/home/soubhi/Desktop/ardupilot/Tools/autotest/run_in_terminal_window.sh"" ""ArduCopter"" ""/home/soubhi/Desktop/ardupilot/build/sitl/bin/arducopter"" ""-S"" ""-I0"" ""--home"" ""-35.363261,149.165230,584,353"" ""--model"" ""gazebo-iris"" ""--speedup"" ""1"" ""--defaults"" ""/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm"" SIM_VEHICLE: Run MavProxy SIM_VEHICLE: ""mavproxy.py"" ""--master"" ""tcp:127.0.0.1:5760"" ""--sitl"" ""127.0.0.1:5501"" ""--out"" ""127.0.0.1:14550"" ""--out"" ""127.0.0.1:14551"" ""--mav10"" ""--map"" ""--console"" RiTW: Starting ArduCopter : /home/soubhi/Desktop/ardupilot/build/sitl/bin/arducopter -S -I0 --home -35.363261,149.165230,584,353 --model gazebo-iris --speedup 1 --defaults /home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/copter.parm,/home/soubhi/Desktop/ardupilot/Tools/autotest/default_params/gazebo-iris.parm The output from Gazebo command line: Msg] Waiting for master. [Msg] Connected to gazebo master @ http://127.0.0.1:11345 [Msg] Publicized address: 192.168.1.112 [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Err] [Scene.cc:2928] Light [sun] not found. Use topic ~/factory/light to spawn a new light. [Wrn] [msgs.cc:1793] Conversion of sensor type[imu] not suppported. [Wrn] [ModelDatabase.cc:212] Unable to connect to model database using[*]. Only locally installed models will be available.[Err] [ModelDatabase.cc:394] Unable to get model name[http://gazebosim.org/models/brick_box_3x1x3] I even tried to open port 11345 in mavproxy: mavproxy.py --master=127.0.1:14550 --sitl 127.0.0.1:5501 --out 127.0.0.1:11345 Operating system: fedora Gazebo version: 7 SITL Ardupilot is latest one I will appreciate any help!",Finally it worked after many hours. I do not know what was the problem but after restarting the computer it starts working. Thank you!
227,Fcu_url: Address already in use,0,"I am trying to launch a gazebo environment with one erle-copter. I am launching mavros as follows: * I have the following fatal error: [FATAL] [1530614431.591097132, 26.102500000]: FCU: DeviceError:udp:bind: Address already in use ================================================================================REQUIRED process [uav/mavros-1] has died! process has finished cleanly log file: /home/avgi/.ros/log/5bf6e9ee-7ead-11e8-8303-844bf591bb91/uav-mavros-1*.log Initiating shutdown! thank for helping me!!!",
228,Quadcopter frame of reference in SITL,1,"Hi, This might be completely trivial, but I haven’t found an answer yet. I’m running Arducopter SITL with the command line $ ./ArduCopter.elf --home -35,149,584,270 --model quad I’m interfacing with the simulator through matlab and mission planner via TCP. I noticed that by default the x-y axes of the copter are oriented to coincide with the copter arms, such that zero yaw\heading points along the copter arm (orange line in image). This is a 45 degree shift from the reference frame I want to use, such that the zero heading will point along the blue line in the image (From my understanding, in the conventional body-fixed reference frame the x-y axes are rotated by a 45 degree angle from the copter arms).  *  I assume this all has to do with the model of the quadcopter that the SITL is simulating.  How do I rectify this?  I want to avoid compensating all my rotations with a 45 degree yaw angles shift.  Thanks!","Hello, Default quad vehicle is in + configuration, use -f X instead for a x quad configuration !"
228,Quadcopter frame of reference in SITL,2,"Hi, This might be completely trivial, but I haven’t found an answer yet. I’m running Arducopter SITL with the command line $ ./ArduCopter.elf --home -35,149,584,270 --model quad I’m interfacing with the simulator through matlab and mission planner via TCP. I noticed that by default the x-y axes of the copter are oriented to coincide with the copter arms, such that zero yaw\heading points along the copter arm (orange line in image). This is a 45 degree shift from the reference frame I want to use, such that the zero heading will point along the blue line in the image (From my understanding, in the conventional body-fixed reference frame the x-y axes are rotated by a 45 degree angle from the copter arms).  *  I assume this all has to do with the model of the quadcopter that the SITL is simulating.  How do I rectify this?  I want to avoid compensating all my rotations with a 45 degree yaw angles shift.  Thanks!","I Tried $ ./ArduCopter.elf -w -M x Creating model x at speed 1.0 But I get the same result, a ‘+’ model. Note that I looked at the param list and indeed FRAME_TYPE=1. Anything else I should check?"
228,Quadcopter frame of reference in SITL,3,"Hi, This might be completely trivial, but I haven’t found an answer yet. I’m running Arducopter SITL with the command line $ ./ArduCopter.elf --home -35,149,584,270 --model quad I’m interfacing with the simulator through matlab and mission planner via TCP. I noticed that by default the x-y axes of the copter are oriented to coincide with the copter arms, such that zero yaw\heading points along the copter arm (orange line in image). This is a 45 degree shift from the reference frame I want to use, such that the zero heading will point along the blue line in the image (From my understanding, in the conventional body-fixed reference frame the x-y axes are rotated by a 45 degree angle from the copter arms).  *  I assume this all has to do with the model of the quadcopter that the SITL is simulating.  How do I rectify this?  I want to avoid compensating all my rotations with a 45 degree yaw angles shift.  Thanks!","After looking at it some more, the graphical representation of the quad in mission planner didn’t change, but the coordinate system did rotate by 45 degrees. I also had to change the compass orientation to YAW90, otherwise reported attitude was off by 90 degrees."
229,Streaming SIMSTATE over SR2 via TCP connection,0,"Hi, I’m trying to simulate an optical range finder given the simulated state of the quadcopter. To do this, I am trying to retrieve the simulated state using mavlink. I am connecting to the SITL over TCP on serial port 2. I set SR2_EXTRA1 to 10 Hz and I expected to receive a SIMSTATE message, however none are arriving. Are there any other parameters I need to change? Thanks!",
230,Setup SITL problem,1,"I follow the steps in this page to set up my  SITL * all goes well,but when I cd to my ArduCopter directory and  input the command sim_vehicle.py -j4 --map --console I got the build error somthing like this: lib/libArduCopter_libs.a(SoloGimbalEKF.cpp.0.o): In function SoloGimbalEKF::reset()': SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0x4a): undefined reference to__warn_memset_zero_len’ SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0xae): undefined reference to __warn_memset_zero_len' SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0x112): undefined reference to__warn_memset_zero_len’ lib/libArduCopter_libs.a(SoloGimbalEKF.cpp.0.o): In function SoloGimbalEKF::RunEKF(float, Vector3<float> const&, Vector3<float> const&, Vector3<float> const&)': SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF6RunEKFEfRK7Vector3IfES3_S3_+0xf8): undefined reference to__warn_memset_zero_len’ collect2: error: ld returned 1 exit status Waf: Leaving directory `/home/lzq/src/APM/ardupilot/build/sitl’ Build failed -> task in ‘bin/arducopter-quad’ failed (exit status 1): {task 140400983664352: cxxprogram AP_Rally.cpp.14.o,AP_State.cpp.14.o,ArduCopter.cpp.14.o,Attitude.cpp.14.o,Copter.cpp.14.o,GCS_Mavlink.cpp.14.o,Log.cpp.14.o,Parameters.cpp.14.o,UserCode.cpp.14.o,afs_copter.cpp.14.o,arming_checks.cpp.14.o,avoidance_adsb.cpp.14.o,baro_ground_effect.cpp.14.o,capabilities.cpp.14.o,commands.cpp.14.o,commands_logic.cpp.14.o,compassmot.cpp.14.o,compat.cpp.14.o,control_acro.cpp.14.o,control_althold.cpp.14.o,control_auto.cpp.14.o,control_autotune.cpp.14.o,control_avoid_adsb.cpp.14.o,control_brake.cpp.14.o,control_circle.cpp.14.o,control_drift.cpp.14.o,control_flip.cpp.14.o,control_guided.cpp.14.o,control_guided_nogps.cpp.14.o,control_land.cpp.14.o,control_loiter.cpp.14.o,control_poshold.cpp.14.o,control_rtl.cpp.14.o,control_sport.cpp.14.o,control_stabilize.cpp.14.o,control_throw.cpp.14.o,crash_check.cpp.14.o,ekf_check.cpp.14.o,esc_calibration.cpp.14.o,events.cpp.14.o,failsafe.cpp.14.o,fence.cpp.14.o,flight_mode.cpp.14.o,heli.cpp.14.o,heli_control_acro.cpp.14.o,heli_control_stabilize.cpp.14.o,inertia.cpp.14.o,land_detector.cpp.14.o,landing_gear.cpp.14.o,leds.cpp.14.o,motor_test.cpp.14.o,motors.cpp.14.o,navigation.cpp.14.o,perf_info.cpp.14.o,position_vector.cpp.14.o,precision_landing.cpp.14.o,radio.cpp.14.o,sensors.cpp.14.o,setup.cpp.14.o,switches.cpp.14.o,system.cpp.14.o,takeoff.cpp.14.o,terrain.cpp.14.o,test.cpp.14.o,tuning.cpp.14.o -> arducopter-quad} [’/usr/lib/ccache/g++’, ‘-Wl,–gc-sections’, ‘-pthread’, ‘ArduCopter/AP_Rally.cpp.14.o’, ‘ArduCopter/AP_State.cpp.14.o’, ‘ArduCopter/ArduCopter.cpp.14.o’, ‘ArduCopter/Attitude.cpp.14.o’, ‘ArduCopter/Copter.cpp.14.o’, ‘ArduCopter/GCS_Mavlink.cpp.14.o’, ‘ArduCopter/Log.cpp.14.o’, ‘ArduCopter/Parameters.cpp.14.o’, ‘ArduCopter/UserCode.cpp.14.o’, ‘ArduCopter/afs_copter.cpp.14.o’, ‘ArduCopter/arming_checks.cpp.14.o’, ‘ArduCopter/avoidance_adsb.cpp.14.o’, ‘ArduCopter/baro_ground_effect.cpp.14.o’, ‘ArduCopter/capabilities.cpp.14.o’, ‘ArduCopter/commands.cpp.14.o’, ‘ArduCopter/commands_logic.cpp.14.o’, ‘ArduCopter/compassmot.cpp.14.o’, ‘ArduCopter/compat.cpp.14.o’, ‘ArduCopter/control_acro.cpp.14.o’, ‘ArduCopter/control_althold.cpp.14.o’, ‘ArduCopter/control_auto.cpp.14.o’, ‘ArduCopter/control_autotune.cpp.14.o’, ‘ArduCopter/control_avoid_adsb.cpp.14.o’, ‘ArduCopter/control_brake.cpp.14.o’, ‘ArduCopter/control_circle.cpp.14.o’, ‘ArduCopter/control_drift.cpp.14.o’, ‘ArduCopter/control_flip.cpp.14.o’, ‘ArduCopter/control_guided.cpp.14.o’, ‘ArduCopter/control_guided_nogps.cpp.14.o’, ‘ArduCopter/control_land.cpp.14.o’, ‘ArduCopter/control_loiter.cpp.14.o’, ‘ArduCopter/control_poshold.cpp.14.o’, ‘ArduCopter/control_rtl.cpp.14.o’, ‘ArduCopter/control_sport.cpp.14.o’, ‘ArduCopter/control_stabilize.cpp.14.o’, ‘ArduCopter/control_throw.cpp.14.o’, ‘ArduCopter/crash_check.cpp.14.o’, ‘ArduCopter/ekf_check.cpp.14.o’, ‘ArduCopter/esc_calibration.cpp.14.o’, ‘ArduCopter/events.cpp.14.o’, ‘ArduCopter/failsafe.cpp.14.o’, ‘ArduCopter/fence.cpp.14.o’, ‘ArduCopter/flight_mode.cpp.14.o’, ‘ArduCopter/heli.cpp.14.o’, ‘ArduCopter/heli_control_acro.cpp.14.o’, ‘ArduCopter/heli_control_stabilize.cpp.14.o’, ‘ArduCopter/inertia.cpp.14.o’, ‘ArduCopter/land_detector.cpp.14.o’, ‘ArduCopter/landing_gear.cpp.14.o’, ‘ArduCopter/leds.cpp.14.o’, ‘ArduCopter/motor_test.cpp.14.o’, ‘ArduCopter/motors.cpp.14.o’, ‘ArduCopter/navigation.cpp.14.o’, ‘ArduCopter/perf_info.cpp.14.o’, ‘ArduCopter/position_vector.cpp.14.o’, ‘ArduCopter/precision_landing.cpp.14.o’, ‘ArduCopter/radio.cpp.14.o’, ‘ArduCopter/sensors.cpp.14.o’, ‘ArduCopter/setup.cpp.14.o’, ‘ArduCopter/switches.cpp.14.o’, ‘ArduCopter/system.cpp.14.o’, ‘ArduCopter/takeoff.cpp.14.o’, ‘ArduCopter/terrain.cpp.14.o’, ‘ArduCopter/test.cpp.14.o’, ‘ArduCopter/tuning.cpp.14.o’, ‘-o/home/lzq/src/APM/ardupilot/build/sitl/bin/arducopter-quad’, ‘-Wl,-Bstatic’, ‘-Llib’, ‘-lArduCopter_libs’, ‘-Wl,-Bdynamic’, ‘-lm’] SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks could anyone give some tips,thanks!",I tried it on Ubuntu and it worked though the map would not show up. maybe try with a freshly cloned repository ? Cheers
230,Setup SITL problem,2,"I follow the steps in this page to set up my  SITL * all goes well,but when I cd to my ArduCopter directory and  input the command sim_vehicle.py -j4 --map --console I got the build error somthing like this: lib/libArduCopter_libs.a(SoloGimbalEKF.cpp.0.o): In function SoloGimbalEKF::reset()': SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0x4a): undefined reference to__warn_memset_zero_len’ SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0xae): undefined reference to __warn_memset_zero_len' SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF5resetEv+0x112): undefined reference to__warn_memset_zero_len’ lib/libArduCopter_libs.a(SoloGimbalEKF.cpp.0.o): In function SoloGimbalEKF::RunEKF(float, Vector3<float> const&, Vector3<float> const&, Vector3<float> const&)': SoloGimbalEKF.cpp:(.text._ZN13SoloGimbalEKF6RunEKFEfRK7Vector3IfES3_S3_+0xf8): undefined reference to__warn_memset_zero_len’ collect2: error: ld returned 1 exit status Waf: Leaving directory `/home/lzq/src/APM/ardupilot/build/sitl’ Build failed -> task in ‘bin/arducopter-quad’ failed (exit status 1): {task 140400983664352: cxxprogram AP_Rally.cpp.14.o,AP_State.cpp.14.o,ArduCopter.cpp.14.o,Attitude.cpp.14.o,Copter.cpp.14.o,GCS_Mavlink.cpp.14.o,Log.cpp.14.o,Parameters.cpp.14.o,UserCode.cpp.14.o,afs_copter.cpp.14.o,arming_checks.cpp.14.o,avoidance_adsb.cpp.14.o,baro_ground_effect.cpp.14.o,capabilities.cpp.14.o,commands.cpp.14.o,commands_logic.cpp.14.o,compassmot.cpp.14.o,compat.cpp.14.o,control_acro.cpp.14.o,control_althold.cpp.14.o,control_auto.cpp.14.o,control_autotune.cpp.14.o,control_avoid_adsb.cpp.14.o,control_brake.cpp.14.o,control_circle.cpp.14.o,control_drift.cpp.14.o,control_flip.cpp.14.o,control_guided.cpp.14.o,control_guided_nogps.cpp.14.o,control_land.cpp.14.o,control_loiter.cpp.14.o,control_poshold.cpp.14.o,control_rtl.cpp.14.o,control_sport.cpp.14.o,control_stabilize.cpp.14.o,control_throw.cpp.14.o,crash_check.cpp.14.o,ekf_check.cpp.14.o,esc_calibration.cpp.14.o,events.cpp.14.o,failsafe.cpp.14.o,fence.cpp.14.o,flight_mode.cpp.14.o,heli.cpp.14.o,heli_control_acro.cpp.14.o,heli_control_stabilize.cpp.14.o,inertia.cpp.14.o,land_detector.cpp.14.o,landing_gear.cpp.14.o,leds.cpp.14.o,motor_test.cpp.14.o,motors.cpp.14.o,navigation.cpp.14.o,perf_info.cpp.14.o,position_vector.cpp.14.o,precision_landing.cpp.14.o,radio.cpp.14.o,sensors.cpp.14.o,setup.cpp.14.o,switches.cpp.14.o,system.cpp.14.o,takeoff.cpp.14.o,terrain.cpp.14.o,test.cpp.14.o,tuning.cpp.14.o -> arducopter-quad} [’/usr/lib/ccache/g++’, ‘-Wl,–gc-sections’, ‘-pthread’, ‘ArduCopter/AP_Rally.cpp.14.o’, ‘ArduCopter/AP_State.cpp.14.o’, ‘ArduCopter/ArduCopter.cpp.14.o’, ‘ArduCopter/Attitude.cpp.14.o’, ‘ArduCopter/Copter.cpp.14.o’, ‘ArduCopter/GCS_Mavlink.cpp.14.o’, ‘ArduCopter/Log.cpp.14.o’, ‘ArduCopter/Parameters.cpp.14.o’, ‘ArduCopter/UserCode.cpp.14.o’, ‘ArduCopter/afs_copter.cpp.14.o’, ‘ArduCopter/arming_checks.cpp.14.o’, ‘ArduCopter/avoidance_adsb.cpp.14.o’, ‘ArduCopter/baro_ground_effect.cpp.14.o’, ‘ArduCopter/capabilities.cpp.14.o’, ‘ArduCopter/commands.cpp.14.o’, ‘ArduCopter/commands_logic.cpp.14.o’, ‘ArduCopter/compassmot.cpp.14.o’, ‘ArduCopter/compat.cpp.14.o’, ‘ArduCopter/control_acro.cpp.14.o’, ‘ArduCopter/control_althold.cpp.14.o’, ‘ArduCopter/control_auto.cpp.14.o’, ‘ArduCopter/control_autotune.cpp.14.o’, ‘ArduCopter/control_avoid_adsb.cpp.14.o’, ‘ArduCopter/control_brake.cpp.14.o’, ‘ArduCopter/control_circle.cpp.14.o’, ‘ArduCopter/control_drift.cpp.14.o’, ‘ArduCopter/control_flip.cpp.14.o’, ‘ArduCopter/control_guided.cpp.14.o’, ‘ArduCopter/control_guided_nogps.cpp.14.o’, ‘ArduCopter/control_land.cpp.14.o’, ‘ArduCopter/control_loiter.cpp.14.o’, ‘ArduCopter/control_poshold.cpp.14.o’, ‘ArduCopter/control_rtl.cpp.14.o’, ‘ArduCopter/control_sport.cpp.14.o’, ‘ArduCopter/control_stabilize.cpp.14.o’, ‘ArduCopter/control_throw.cpp.14.o’, ‘ArduCopter/crash_check.cpp.14.o’, ‘ArduCopter/ekf_check.cpp.14.o’, ‘ArduCopter/esc_calibration.cpp.14.o’, ‘ArduCopter/events.cpp.14.o’, ‘ArduCopter/failsafe.cpp.14.o’, ‘ArduCopter/fence.cpp.14.o’, ‘ArduCopter/flight_mode.cpp.14.o’, ‘ArduCopter/heli.cpp.14.o’, ‘ArduCopter/heli_control_acro.cpp.14.o’, ‘ArduCopter/heli_control_stabilize.cpp.14.o’, ‘ArduCopter/inertia.cpp.14.o’, ‘ArduCopter/land_detector.cpp.14.o’, ‘ArduCopter/landing_gear.cpp.14.o’, ‘ArduCopter/leds.cpp.14.o’, ‘ArduCopter/motor_test.cpp.14.o’, ‘ArduCopter/motors.cpp.14.o’, ‘ArduCopter/navigation.cpp.14.o’, ‘ArduCopter/perf_info.cpp.14.o’, ‘ArduCopter/position_vector.cpp.14.o’, ‘ArduCopter/precision_landing.cpp.14.o’, ‘ArduCopter/radio.cpp.14.o’, ‘ArduCopter/sensors.cpp.14.o’, ‘ArduCopter/setup.cpp.14.o’, ‘ArduCopter/switches.cpp.14.o’, ‘ArduCopter/system.cpp.14.o’, ‘ArduCopter/takeoff.cpp.14.o’, ‘ArduCopter/terrain.cpp.14.o’, ‘ArduCopter/test.cpp.14.o’, ‘ArduCopter/tuning.cpp.14.o’, ‘-o/home/lzq/src/APM/ardupilot/build/sitl/bin/arducopter-quad’, ‘-Wl,-Bstatic’, ‘-Llib’, ‘-lArduCopter_libs’, ‘-Wl,-Bdynamic’, ‘-lm’] SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks could anyone give some tips,thanks!","sorry，I have this question as you,do you have solved it or can you give me some suggestions? THANKS"
231,Hexacopter SITL,1,"Hello! I have a couple of questions about the Ardupilot SITL feature: Does it support hexacopter modeling? I’ve been able to run it as a quad and octacopter, but when I try to use a hexacopter frame it builds for a quad.",It does.  How are you invoking SITL?
232,Error while compiling SITL for ArduPilot,1,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.",Do not use make sitl -j4 use .\waf copter instead
232,Error while compiling SITL for ArduPilot,2,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.",I’ve found the error: had forgotten to run git submodule update --init --recursive correctly.
232,Error while compiling SITL for ArduPilot,3,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.",update your git sub modules in proper folder/location.
232,Error while compiling SITL for ArduPilot,4,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.",The recommended thing to is is run “sim_vehicle.py” from the Vehicle directory (like in /ArduPlane or in /ArduCopter) and it will handle all the submodule stuff
232,Error while compiling SITL for ArduPilot,5,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.","Hello I am also having the same problem, I want to simulate plane not copter, I used your command what you said with modification, but it give me error bash: .waf: command not found Please help me."
232,Error while compiling SITL for ArduPilot,6,"Hello, I get the following error while trying to compile SITL for ArduPilot. I’ve followed the instructions on how to run it on Windows available on the webpage *. I’d appreciate if somebody could give me a hand on this.",You need to follow the instructions on the * website and install a couple of packages in your computer first. On windows: or on linux: and .waf  is wrong. It has to be ./waf on linux or .\waf on windows.
233,SITL range finder always zero,1,"Hi, I have added a range finder to SITL, as described *. The rangefinder.distance value, which was not displayed before by QGroundControl is displayed now, but it is constant at 0, as is rangefinder.voltage.  APM: APM:Copter V3.5.5 (27229c83) APM: Frame: QUAD  What am I missing? Thanks",I followed those instructions and got a rangefinder.  Did you reboot SITL?
233,SITL range finder always zero,2,"Hi, I have added a range finder to SITL, as described *. The rangefinder.distance value, which was not displayed before by QGroundControl is displayed now, but it is constant at 0, as is rangefinder.voltage.  APM: APM:Copter V3.5.5 (27229c83) APM: Frame: QUAD  What am I missing? Thanks","Hi Peter, yes I did, and I do have a range finder now… it’s just not doing any range finding  I might have messed up some other parameters though, and QGC will not reset them to defaults… (“Store parameters not supported”, argh) Could you maybe share your params file so I can take a diff? I have attached mine. * (24.3 KB) Thank you."
233,SITL range finder always zero,3,"Hi, I have added a range finder to SITL, as described *. The rangefinder.distance value, which was not displayed before by QGroundControl is displayed now, but it is constant at 0, as is rangefinder.voltage.  APM: APM:Copter V3.5.5 (27229c83) APM: Frame: QUAD  What am I missing? Thanks","Ah OK, I found out what was wrong. I have been floored again  SITL uses map terrain data to simulate the ground, and I just had placed my vehicle “beneath the floor” in the locations file. I just needed to climb higher than that. After removing absolute-altitude,heading everything works as expected."
233,SITL range finder always zero,4,"Hi, I have added a range finder to SITL, as described *. The rangefinder.distance value, which was not displayed before by QGroundControl is displayed now, but it is constant at 0, as is rangefinder.voltage.  APM: APM:Copter V3.5.5 (27229c83) APM: Frame: QUAD  What am I missing? Thanks","Are the values always zero, then? Your parameter values certainly match the documentation. I wonder if the values you’re looking at are coming from DISTANCE_SENSOR rather than RANGEFINDER. QGC has a facility to look at packets from the autopilot - “mavlink inspector”, I think. Have a look through the messages and see if RANGEFINDER is present with sensible values…"
233,SITL range finder always zero,5,"Hi, I have added a range finder to SITL, as described *. The rangefinder.distance value, which was not displayed before by QGroundControl is displayed now, but it is constant at 0, as is rangefinder.voltage.  APM: APM:Copter V3.5.5 (27229c83) APM: Frame: QUAD  What am I missing? Thanks","Thank you, but I already figured it out, see above. Edit: I probably should have edited the first post, instead of double posting… my bad."
234,Gazebo simulation mac,0,"Does anyone know the situation fo simulating with gazebo on mac? Should it be possible with the linux code, or is someone working on it? Ive tried to run the cmake … of SwiftGust/ardupilot_gazebo on osx but just got  cmake … – Checking for module ‘bullet>=2.82’ –   No package ‘bullet’ found – Checking for module ‘bullet2.82>=2.82’ –   No package ‘bullet2.82’ found CMake Error at /usr/local/lib/cmake/gazebo/gazebo-config.cmake:102 (message): Error: Bullet > 2.82 not found, please install libbullet2.82-dev. Call Stack (most recent call first): CMakeLists.txt:11 (find_package) – Configuring incomplete, errors occurred! See also “/Users/Launchpad/ardupilot_gazebo/build/CMakeFiles/CMakeOutput.log”.  Ive got gazebo9 and bullet 2.87, but cant get it to work. Is it no use to try since it is all written for linux? Thanks, Magnus",
235,RSSI Modeling in SITL,1,"Hi all, I am new to ardupilot, I have a basic mathematical model of RSSI which I would like to include in SITL. Just looking for pointers on how I can go about doing this. Cheers, Sam","Hello, It will be a nice addition ! I think the simplier for now is to implement the get_rssi() for AP_HAL : * inside AP_HAL_SITL * To implement the rssi calculus, look on how it is done in AP_HAL_SITL/sitl_rangefinder.cpp for example ! For the submission, I invite you to look on the wiki at * and * if you don’t know git well ! Anyway, when you think it is ready submit a PR so everybody can look at it and help you to correct the last thing before merging ! I look forward from seeing you PR !"
236,Copter doesn't stop going up after take off,1,"Hi Everyone, I’m trying to run the example for takeoff of the arducopter, but at take off it continues to go up. After I do takeoff 5, for example, and checking the altitude by the  I get the following: * At this point the copter is way above the 5 meters and altittude doesn’t change even though the copter keeps going up. Also, I’m running the simulation in gazebo. I should add that if I try to take off to a lower altitude the same happens. For instance, if I try to take off to 2 I get a fixed altitude at 1.7 and the copter keeps going up. Cheers,",Hello Hugo . Did you solve this problem ? Please help to me 
236,Copter doesn't stop going up after take off,2,"Hi Everyone, I’m trying to run the example for takeoff of the arducopter, but at take off it continues to go up. After I do takeoff 5, for example, and checking the altitude by the  I get the following: * At this point the copter is way above the 5 meters and altittude doesn’t change even though the copter keeps going up. Also, I’m running the simulation in gazebo. I should add that if I try to take off to a lower altitude the same happens. For instance, if I try to take off to 2 I get a fixed altitude at 1.7 and the copter keeps going up. Cheers,",You should program the takeoff module separately and with some limits or clock. or else try to initiate land command.
236,Copter doesn't stop going up after take off,3,"Hi Everyone, I’m trying to run the example for takeoff of the arducopter, but at take off it continues to go up. After I do takeoff 5, for example, and checking the altitude by the  I get the following: * At this point the copter is way above the 5 meters and altittude doesn’t change even though the copter keeps going up. Also, I’m running the simulation in gazebo. I should add that if I try to take off to a lower altitude the same happens. For instance, if I try to take off to 2 I get a fixed altitude at 1.7 and the copter keeps going up. Cheers,","I had the same thing happen using Gazebo 7 and the ardupilot repo SITL with the ErleCopter. (I hadn’t noticed this with the base iris model) I changed the ardupilot code base to the erlecopter fork, gazebo branch and it worked fine: * -b gazebo"
236,Copter doesn't stop going up after take off,4,"Hi Everyone, I’m trying to run the example for takeoff of the arducopter, but at take off it continues to go up. After I do takeoff 5, for example, and checking the altitude by the  I get the following: * At this point the copter is way above the 5 meters and altittude doesn’t change even though the copter keeps going up. Also, I’m running the simulation in gazebo. I should add that if I try to take off to a lower altitude the same happens. For instance, if I try to take off to 2 I get a fixed altitude at 1.7 and the copter keeps going up. Cheers,","Hi * I’m sorry for such a long wait. I haven’t been working with ardupilot for a long time until recently. And of course as karma goes, I just had the same problem again when trying to set up a system in a new machine. I believe the that there might be some incompatibility with different versions of software, so I just rebuilt the ardupilot version I had in my old machine and it worked. As I still haven’t uploaded it to github I share here a link to the .tar.gz file. * Unzip that and try it. I should mention that I’m using mavproxy 1.6.1 on ubuntu 16.04LTS Hope it helps (however late) Cheers, Hugo"
237,Custom Simulator Integration,1,"Hi there, I’m new to the Ardupilot world so please be gentle  I’m trying to connect Arducoptor to a custom simulator and I’m having some difficulty. I’m using the last_letter and Gazebo integrations as inspiration, and connecting the simulator to Ardupilot over UDP. I have managed to send servo commands from ardupilot to my simulator. I’m now struggling with sending sensor messages the other direction. What is the minimum sensor information will Arducopter need to work, and what are the units/reference frames for these values? Is this information documented anywhere? Thanks, Peter","HI, You can try the * developed by * It looks very promissing"
237,Custom Simulator Integration,2,"Hi there, I’m new to the Ardupilot world so please be gentle  I’m trying to connect Arducoptor to a custom simulator and I’m having some difficulty. I’m using the last_letter and Gazebo integrations as inspiration, and connecting the simulator to Ardupilot over UDP. I have managed to send servo commands from ardupilot to my simulator. I’m now struggling with sending sensor messages the other direction. What is the minimum sensor information will Arducopter need to work, and what are the units/reference frames for these values? Is this information documented anywhere? Thanks, Peter",Thanks Eugene. I’ll take a look if I can get my hands on a license. How have you been getting on with it? Does it also work with ArduPlane?
238,Using Gazebo Simulator with SITL,0,Hello everybody to simulate a drone I use these two commands  *  how can i change … an  OCTO +  instead of defult vehicule  QUAD X  in a simulation  thanks !,
239,How to put two drones in one Gazebo simulation?,1,"Hello guys, I have went through some tutorials to run a Gazebo simulation with a drone in it. However, what I need is to have two drones in one Gazebo simulation and use two ROS to control it. In the control part I am going to use MATLAB Robotics System Toolbox to communicate with the two drones. Anybody has some ideas on how to finish that two drone simulation? Thanks, *","I have a resource about running Gazebo + Ardupilot SITL with multiple drone, Maybe it will be useful. * (266.4 KB)"
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),1,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","SITL uses MAVProxy as the GCS. MAVProxy isn’t yet compatible with Python 3.x, so you’ll need to run under Python 2.7. Otherwise use --no-mavproxy when runnig sim_vehicle.py and use a different GCS."
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),2,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","Dear * I created an environment with Python v2.7 into Condo and try to run SITL in this environment, but I got same error. Also I add Queue file into manually , at this time give other error ( such as: no readm() function ) . I will try with --no mavproxy."
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),3,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet",Yes it works--no-mavproxy and I use APMPlanner.  Do you know a easy way of takeoff ( like  arm throttle / takeoff 40)f in the APMPlanner . There is no takeoff command in quick actions tabs and also I could not be successful with waypoint . I set a takeoff point but I always get cmd 22 error and 400
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),4,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet",Queue is part of Python 2.7. Are you able to double-check you’re running 2.7? Are you able to get the vehicle to arm?
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),5,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","1 - My env_copter environment uses Python 2.7 2- Yes , I can arm , When the copter is stabilized or guided mode  GUIDED   AUTO "
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),6,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","Ok, if it won’t arm in AUTO mode, that could be due to a mission not being loaded"
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),7,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","I tried with a mission. I set a point as the take-off point, but the result is same. Thanks for support"
240,SITL & Miniconda (Linux [Ubuntu 16.04] ),8,"Hi I did the * setup for a project . After this installation, I can not run SITL. I have a few quesiton 1- Does SITL require Python 2.7 only ? 2- Does Miniconda change the path ? Because mavproxy.py is into miniconda/bin file Here * Also the error can be seen from picture above . Some packages and functions are not found Here Traceback (most recent call last): File “/home/mehmet/miniconda3/bin/mavproxy.py”, line 12, in  import serial, Queue, select ModuleNotFoundError: No module named ‘Queue’ SIM_VEHICLE: MAVProxy exited SIM_VEHICLE: Killing tasks Thanks for your time and help Regards Mehmet","I solved the issue , thanks for your support again"
241,Multiple quadcopters in a single SITL instance,0,"Hello, I have searched through few topics but didn’t got a straight forward result. Can I run multiple quadcopters in a single SITL instance at different locations few meters apart? I have been wishing to do it for quite some time, in order to test my mutli agent simulations",
242,"Using a RasPi3 to run STIL, can it be done?",1,Can I run STIL on a RasPi3? Does it have enough power for it?,"Sure, there’s even ready-to-go images that do it: *"
242,"Using a RasPi3 to run STIL, can it be done?",2,Can I run STIL on a RasPi3? Does it have enough power for it?,Nice!!  I’ll look at that tonight!  Thanks!
242,"Using a RasPi3 to run STIL, can it be done?",3,Can I run STIL on a RasPi3? Does it have enough power for it?,it doesn’t run anoymore …
242,"Using a RasPi3 to run STIL, can it be done?",4,Can I run STIL on a RasPi3? Does it have enough power for it?,"Sorry new location is: * I can’t work out how to add a redirect, I’ll try again! Update: I think I’ve worked out how to add the new links to the old location."
242,"Using a RasPi3 to run STIL, can it be done?",5,Can I run STIL on a RasPi3? Does it have enough power for it?,"So I got around to doing this, easier than I thought it would be. I loaded the image onto the micro SD card, fired it up, and checked to see it STIL was running, and it was, connected to it with Mission Planner, then flew the simulated quad around some airfield, even set up a waypoint mission, loaded it and ran it.  Very Cool!!! Now I just have to figure out how to change to Plane and fly that around. Also need to find a way to change the default location so I can fly around my location."
242,"Using a RasPi3 to run STIL, can it be done?",6,Can I run STIL on a RasPi3? Does it have enough power for it?,"Cool! To change to plane takes a bit of effort as the SITL firmware has to be recompiled.  Docs are here: * Basically, add a localconf parameter: ""maverick_dev::ardupilot::ardupilot_vehicle"": ""plane"" Then reconfigure: maverick configure Warning, this will take a while on a raspberry!  Been a long time since I tested this, hopefully it still works."
242,"Using a RasPi3 to run STIL, can it be done?",7,Can I run STIL on a RasPi3? Does it have enough power for it?,"I might give it a shot tonight, then just let it run all night, will update either way."
242,"Using a RasPi3 to run STIL, can it be done?",8,Can I run STIL on a RasPi3? Does it have enough power for it?,"I tried, but got an error. What file, and where is it, that needs to be edited. Also I wanted to change the start up location of STIL, and found the directions for SITL installed “normally” but where is the location file when Maverick installs it. p.s.  Very cool, SITL just works! connect via TCP and it works. Now to get my tracker to follow it."
242,"Using a RasPi3 to run STIL, can it be done?",9,Can I run STIL on a RasPi3? Does it have enough power for it?,"* So anywhere in the docs that refer to ‘localconf parameter’, it means ~/config/maverick/localconf.json So theoretically it should be in ~/config/dev/sitl.conf.  I say theoretically because I’m not sure I’ve ever actually tested it! *"
242,"Using a RasPi3 to run STIL, can it be done?",10,Can I run STIL on a RasPi3? Does it have enough power for it?,"OK, So I am able to change my start up location to what ever I want, but the “locations.txt” file is at “~/code/ardupilot/Tools/autotest/locations.txt”, no big deal. Changing to Arduplane is still not working for me. I added the line “maverick_dev::ardupilot::ardupilot_vehicle”: “plane” and I get an error, see attached image As you can see, I put the line right after the { , but I think that is the wrong spot. Rusty"
242,"Using a RasPi3 to run STIL, can it be done?",11,Can I run STIL on a RasPi3? Does it have enough power for it?,"Out of interest, did you try changing ~/config/dev/sitl.conf? Ah, no that’s right but you need to put a comma at the end of the line.  json is quite unforgiving…"
242,"Using a RasPi3 to run STIL, can it be done?",12,Can I run STIL on a RasPi3? Does it have enough power for it?,"I first tried changing the “Quad” to “Plane”  in  ~/config/dev/sitl.conf  But either it didn’t work or it crashed out. I’ll try again tonight and report better. As far as the json file…  Yeah, bit of a newbee with that, and I missed that part about the comma…   I’ll try tonight again…"
242,"Using a RasPi3 to run STIL, can it be done?",13,Can I run STIL on a RasPi3? Does it have enough power for it?,"Sorry, I meant changing LOCATION or CUSTOM_LOCATION in ~/config/dev/sitl.conf Yes this needs to match whatever you set in ‘maverick_dev::ardupilot::ardupilot_vehicle’. Unfortunately after setting that localconf parameter you have to recompile the firmware with maverick configure, then restarting SITL should work (theoretically)."
242,"Using a RasPi3 to run STIL, can it be done?",14,Can I run STIL on a RasPi3? Does it have enough power for it?,"OK, so I added the comma, and it ran mostly ok. There were some dependencies that were not resolved, but it looks like it changed the vehicle to ‘plane’ I connected with MP and saw a plane   However MP mow says it needs 3D accel calibration."
242,"Using a RasPi3 to run STIL, can it be done?",15,Can I run STIL on a RasPi3? Does it have enough power for it?,"Part 2 Ok, so I loaded Maverick on a RasPi Zero W, took a little work to find the IP address once it fired up, but I found it. (that is not a Maverick issue, but a RasPi zero W issue), but what configuring do I have to do to use it in flight as opposed to one being used as a GS??"
242,"Using a RasPi3 to run STIL, can it be done?",16,Can I run STIL on a RasPi3? Does it have enough power for it?,"OK little update, Got Maverick running now on a Raspi 3, and SITL is running. I can connect via TCP to the simulated copter and set a mission and have it fly it. Now what I need to do is have the MAVLink packets sent via a USB telemetry radio from the SITL to my Antenna Tracker that i am working on. How do I configure it to send MAVlink packets on tty/USB0 (the telemetry radio). With plain MAVProxy I think I would use “mavproxy.py --master=/dev/ttyUSB0”   but not sure how in Maverick…"
242,"Using a RasPi3 to run STIL, can it be done?",17,Can I run STIL on a RasPi3? Does it have enough power for it?,"When you login over the command line, it should tell you your IP address, eg: Or you can do maverick netinfo which will give you detailed info about each network interface. To use it for flight, I would recommend putting it in ‘flight’ mode, which turns off the dev services including all the SITL and associated ROS stuff: maverick configure --env=flight To turn it back into dev mode with all the SITL services: maverick configure --env=dev If you want to send mavlink packets back out, to broadcast over your radio, rather than receive from the radio, that’s not currently supported (and I don’t think that’s what the mavproxy master option is for either).  It’s a good idea though, if you raise a github issue (*) I’ll be happy to add the option."
242,"Using a RasPi3 to run STIL, can it be done?",18,Can I run STIL on a RasPi3? Does it have enough power for it?,"Ok,  i opened an issue,  #738 Thanks Rusty"
243,Building SITL for Heli/Coax configuration (Copter3.5) on Eclipse for Pixhawk on windows,1,"Hi, I would like to build SITL for Coax configuration  (Copter3.5) with Eclipse  on Win7 for Pixhawk hardware. May anyone have an expirience with building SITL with Eclipse on Windows? Thanks, Eugene",Why do you punish yourself like that ? 
243,Building SITL for Heli/Coax configuration (Copter3.5) on Eclipse for Pixhawk on windows,2,"Hi, I would like to build SITL for Coax configuration  (Copter3.5) with Eclipse  on Win7 for Pixhawk hardware. May anyone have an expirience with building SITL with Eclipse on Windows? Thanks, Eugene",Use the PX4 toolchain from * and/or * and/or *
243,Building SITL for Heli/Coax configuration (Copter3.5) on Eclipse for Pixhawk on windows,3,"Hi, I would like to build SITL for Coax configuration  (Copter3.5) with Eclipse  on Win7 for Pixhawk hardware. May anyone have an expirience with building SITL with Eclipse on Windows? Thanks, Eugene", I’m not a masochist… I just want to close a loop with custom fdm on simulink.
243,Building SITL for Heli/Coax configuration (Copter3.5) on Eclipse for Pixhawk on windows,4,"Hi, I would like to build SITL for Coax configuration  (Copter3.5) with Eclipse  on Win7 for Pixhawk hardware. May anyone have an expirience with building SITL with Eclipse on Windows? Thanks, Eugene","Hi *, Thank you for the advice! I already do this, but I am still looking for some help with that: I used a toolchain to open and build the ardupilot code with Eclipse on quad/heli configuration as it was explained on the site. How do I set a coax configuration and build it with a board configuration = sitl with Eclipse? Thank you Eugene"
244,SITL (X-Plane 10 + quadcopter),1,"Hi everyone, I am a newbie here. I wanted to know if it would be possible to use Mission planner + X-Plane and a real quadcopter simultaneously. I’d like to have the real quadcopter flying following the waypoints on Mission Planner and the X-Plane quadcopter flying at the same time on X-Plane ( following the same waypoints on Mission planner). Any help would be greatly appreciated thanks chris","Hi, as far as I know there is NO possibility to run quadcopter with sitl and xplane. In the past heli was working but don’t know if still the case. Plane works, I use it often. *"
245,ArduCopter HIL mode using Pixhawk4 with X-Plane 10 (QRO-X model),1,"Hey all, I’ve been tasked with getting HIL mode working with the ArduCopter firmware. Currently my setup is a PX4 based Avionics board and I’m planning on using the *, discussed in the link, in X-Plane 10 for my simulation environment. I’m currently using a custom GCS for my controller and can send sensor data through the GCS or through another program which connects via USB to the APM in my hardware set-up. I want to know several things regarding the deprecated HIL_MODE and my understanding is mostly from reading other forum posts as to what the issues with having HIL_MODE not working.   What has caused HIL_MODE to stop working since the introduction of Inertial Navigation? * from the ArduPilot source archive states that since 2.9 the HIL mode hasn’t been supported. Specifically I want to know if this is a technical limitation of the Inertial Navigation or was not updated due a lack of interest in the HIL mode for Copter.   Is there a better simulation environment I could/should use? I’m currently using the X-Plane 10 environment because my group was able to get it working with the HIL for ArduPlane using the Hilstar glider. I’ve read a couple differing posts on building my own quadcopter on X-plane forums and have seen Gazebo as a recommended simulator for Quads in SITL. Any guidance or advice on simulation environment is appreciated.   What guidance on Parameter setting can I find on the site for HIL_MODE? Thr QRO_X model I’m planning to use came with two sets of parameters and I’m not sure which is appropriate, so I’d like to have something to give me a better understanding of the parameters with respect to HIL_Mode.   Any modifications I make to the firmware to get this working will be pushed back into the main project for others to use.",So an update on HIL_MODE work. I’ve been able to get the hil_support to work and compile however the pre-arm check fails due to the AHRS not being healthy. Those who are familiar with the code should know this is happening due to the ekf_starttime and imu_sampletime not being far enough apart in time (should be 1000ms). I’m going to move on to working with some of the Avoidance stuff however getting the HIL_MODE working is still something I’d like to help with. Additionally I’ve got X-Plane 10 working with the QRO-X model and talking to our GCS over Mavlink. I believe I’m sending all 4 of the throttle controls back to the simulator however it seems like maybe I’m doing something that is making them all the same value in the model. As a result what it does is takes off quick and hard then stays in the air flying randomly around. If anyone has any input on how to better handle the AHRS in HIL_MODE advice would be appreciated.
246,Gazebo with LiDAR,1,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Hello *, concerning the instability with your hokuyo lidar sensor, I had the same problem than you. In the model of the sensor, try to set the inertia to really low value. It fixed this problem for me. * About the communication, I guess we followed the same *. I succeed to add the sensor to my model like you did, and to add the sensor range in the packet which is send back to ArduPilot (mostly by un-commenting some line in ArduPilotPlugin.cc), but I have no clue how to read the value in SITL (they should read other value but I don’t get how it is interacting and where I have to go to read my sensor range…). Did you succeed to send the DISTANCE_SENSOR message to your ardupilot code ? Regards, Quentin"
246,Gazebo with LiDAR,2,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Thanks for the info on the stability. I went down several paths trying to get gazebo send a DISTANCE_SENSOR message. My latest attempt is to get a ROS sensor up and convert it through mavros back to ardupilot. I haven’t to this point used ROS, so I followed the Erle Robotics tutorial on setting up Gazebo with ROS and their plugins. ErleRobotics has a flight controller that natively supports ROS and runs APM. I got their environment up and running with the ErleCopter and lidar light. I have the ROS topic for the lidar publishing, and mavros enabled and the plugin configured to subscribe to ROS rangefinder messages and publish a distance sensor… it isn’t coming in, however, nor is it showing up on wireshark. One big negative about the Erle Robotics stuff is they seem to clone everything, modify it and not keep current with the latest elsewhere. Ardupilot is on 3.4, which I think distance sensor messages started being supported in 3.5… It would be nice if I could get it working natively with the current plugin and gazebo rather than having to use a big custom environment that is older (I had to downgrade to Ubuntu Trusty and make an insanely fat Docker image to get this working with tons of clones/compiles of their branches.) Looking at the rangefinder section, it only supports one sensor, which I need 8 in different orientations to represent the lightware. So, it is either heavily modify that plugin with custom stuff to get it to work or get ROS to send the mavlink message I need and deal with all of the custom branches that are out of date. No, I haven’t seen how they parse that message on the SITL side, seems they must ingest that custom message type and output mavlink at some point… hopefully."
246,Gazebo with LiDAR,3,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Hello, Sorry for the long response time… I haven’t use gazebo plugin since long time. The current version doesn’t have support for rangefinder nor 360 lidar. The simplier for now will be to use MAVROS to send the data to SITL. You can find how to connect SITL to mavros here : * and how to use mavlink rangefinder type with mavros here : *"
246,Gazebo with LiDAR,4,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Wow, that document is very useful. I figured out most of it by scanning the code, except for the ID needing to match the ardupilot side. I’m not sure what ID that is referring to. I just set the id to 0 since it is currently the only sensor I have on the model. Do I need to register/create a lidar in SITL somewhere? Thanks for the response, that is kindof what I’m attempting now. I am trying to setup gazebo7 with the packaged version of mavros on kinetic, xenial, so I can use arducopter 3.5. My current code base is against dronekit, so I need the plugin to connect to SITL and simulate in gazebo, so I plan on making my own catkin environment borrowing a bunch from elsewhere to create the quad and sensors in URDF. (I have an SDF model of an iris and lidar, but that is in SDF, and I am under the impression that I will need to go URDF for the ROS route.) In summary, I plan on using ROS to simulate the lidar, which should integrate with gazebo_ros to interact with the simulation and mavros to send the distance_sensor over to the FCU, which will forward it to my code. The plugin will be used to connect the SITL to gazebo and control flight, etc. Does this sound reasonable?"
246,Gazebo with LiDAR,5,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","I agree with about ErleRobotics, it is outdated… The tutorial is well done, but downgrading to a lower version of ArduPilot and Gazebo to make it works doesn’t make sense for me. ROS is also a really powerful tool, however it requires a lot of knowledge to make it works properly, which I do not have yet. I’ll be glad to get some news from you if you succeed in the settings of your sensor. Using the plugin of * and without working with ROS, I succeed to get the data of the sensor back to SITL for simulation. I created a new * of the plugin to use a sensor (mainly uncomment lines) and add a new sensor in the model file. On the ArduPilot side I modified the code based on * branch, but I think the version of ardupilot should works if it’s modified correctly. To understand what’s happening, have a look to these files:  libraries/SITL/SITL h and cpp: contains the struct sitl_fdm which contains all the sensor receive from the simulation (a “range” is already implemented) libraries/SITL/SIM_Gazebo h and cpp: communication with gazebo plugin. The struct fdm_packet in header file have to match the packet of the plugin on the gazebo side ! You can read your value in the function recv_fdm libraries/SITL/SIM_Aircraft h and cpp: parent of SIM_Gazebo. Contains the fonction fill_fdm which is call by libraries/AP_HAL_SITL/SITL_State.cpp which will send the data to the appropriate pin number (with sitl_rangefinder.cpp in my case)  Really brief explanation, but it can help if you have to understand the ArduPilot side. I mainly understand the code by checking what has been edited in the branch of Aurelien. You may also have a look as it seems that they implemented a ROS communication."
246,Gazebo with LiDAR,6,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Update: I updated to copter 3.5 with the original Aurelien plugin. I managed to get an SDF model with a modified hokuyo lidar to output on ros and show up in gazebo. Still having issues getting mavros to send the message. (Not showing up in wireshark and my application isn’t getting it) It is connecting over tcp to the FCU and UDP to the GCS. I’m not seeing any mavlink traffic to the FCU, but the GCS has quite a bit. Looking at the distance_sensor mavros plugin code, it is sending it to the FCU… Edit: Did some logging and it looks like it is never getting the range_cb, even though I can echo the topic and the type of message is correct (and I verified the subscribed topic name.) Edit2: This is partially solved. I re-read the document khancyr provided and had missed that I needed to publish on /mavros/distance_sensor/range rather than /range. I am now getting the subscribed message, but it isn’t showing up over in my application."
246,Gazebo with LiDAR,7,"I successfully connected copter to Gazebo using the ardupilot_gazebo_plugin. I managed to get it to fly, but I am having two issues. I am trying to integrate a lidar on the iris model. I have the SF40c, but anything that approximates that is ok. Basically I want DISTANCE_SENSOR mavlink messages from gazebo based on the environment. Without any modification, I get one sensor message pointed at a pitch of 270. I assume this is the IMU reporting altitude? I only see an IMU and an odometry_sensor. I managed to link a hokuyo lidar using a modified iris sdf file, however, it doesn’t report to ardupilot with a DISTANCE_SENSOR message. It also seems to make the iris amazingly unstable and causes a crash. I tried lowering the mass to 0.000001, but it still does this. Looking at the rendered rays, it doesn’t look like it is quite fixed to the body as it seems to lag behind the body, causing an oscillation. Anyway, there is an ardpilot issue here and perhaps a gazebo issue. This being an ardupilot forum, I’m mainly wondering what I need to do to get that DISTANCE_SENSOR message over to my ardupilot code.","Finally got a working solution. Ended up moving away from using DISTANCE_SENSOR messages due to the limitation of the number of sensors and their directions built into ArduCopter. I used the ROS laser plugin to generate a LaserScan message and created a ROS emulator for the Lightware where I implemented some of its feature set via services. This emulator takes the raw feed from the gazebo plugin and does post processing to emulate things like search light, etc. I then just consumed the data natively in my companion app rather than funneling it through the flight controller."
247,Simulate a Nano drone without GPS with IR sensors,1,"I want to make a project regarding nano drones. The drones are programmed in such a way that it is connected to wifi or Bluetooth and it will scan the whole room and doesn’t strike to walls(IR sensors). It will scan the faces in such a way that the image which will match the drone will land on that palm of that person whose image is matched. Topics covered in this Image Processing IR sensor’s programming(don’t strike the walls ) Automation(no controller required). I am having computer science background, Tell me which model of Ardupilot Frame Motor size is required?",A “SkyViper v2450 GPS” with a couple of lightweight IR range sensors should get the job done. You will need a fast PC.
248,Copter does not hover in Gazebo when LIDAR sensor attached on top,1,"Hello, I managed to run the Arducopter SITL with Gazebo. Now when I fixed the Hokuyo sensor on the top of the frame, the copter does not hover and crashes after takeoff. I think it is due to the weight of the sensor. Is there any settings to balance it ?","I am having the same issue with the iris. I lowered the mass quite a bit, but that doesn’t seem to help. You can copy and mess with the hokuyo sdf file to play with the mass, etc. I also tried the velodyne and that was more stable, but very heavy. Have you gotten anywhere on this? Are you getting DISTANCE_SENSOR messages on the arducopter side for the hokuyo?"
248,Copter does not hover in Gazebo when LIDAR sensor attached on top,2,"Hello, I managed to run the Arducopter SITL with Gazebo. Now when I fixed the Hokuyo sensor on the top of the frame, the copter does not hover and crashes after takeoff. I think it is due to the weight of the sensor. Is there any settings to balance it ?","Hi, Yes I fixed that by changing the inertia values(ixx, iyy and izz) in model.sdf file to 0.0001."
249,Current state of GAZEBO simulations? Problems with current branch,1,What’s the current state of Gazebo simulation? I have built this branch of gazebo: https://bitbucket.org/osrf/gazebo/branch/ardupilot_merge_gazebo8 and I was able to connect using: gazebo worlds/iris_arducopter_demo.world and frame: sim_vehicle.py -f gazebo-iris but copter crashes immediately after taking off (using guided mode or loiter). What’s wrong? How to run this plugin?,I’m using this one currently with some success: * Edit: Seems like it is merged now as well in 8.0.
250,Simulating Throw in SITL,1,"Hi, I would like to simulate a vertical acceleration with SITL. I’m sure it’s possible somehow, I just could not figure out how yet. I’m also not sure how that would be implemented. Is there a way to configure SITL after it is launched? Maybe for changing some wind parameters or something similar? I would need to trigger a short acceleration after starting it up. I have not had time so work through the code yet, but I thought before I do maybe someone already implemented it. Or point me in the right direction, how something like this could be done. Cheers",* 
250,Simulating Throw in SITL,2,"Hi, I would like to simulate a vertical acceleration with SITL. I’m sure it’s possible somehow, I just could not figure out how yet. I’m also not sure how that would be implemented. Is there a way to configure SITL after it is launched? Maybe for changing some wind parameters or something similar? I would need to trigger a short acceleration after starting it up. I have not had time so work through the code yet, but I thought before I do maybe someone already implemented it. Or point me in the right direction, how something like this could be done. Cheers","Thank you, I wonder how I missed that. "
251,Sim_vehicle.py build failed,1,"Hi all, When I’m trying to build SITL I get the error below. I already tried the installation script using powershell and I also  tried manual installation. Both are giving the same output. Is there anyone who knows how to solve this or has the same problem? Thanks for the help. u0105330@SET-L-ME-P15038 /cygdrive/c/testmap/ardupilot/ArduCopter $ sim_vehicle.py SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/cygdrive/c/testmap/ardupilot/modules/waf/waf-light” “configure” “ –board” ""sitl"" Setting top to                           : /cygdrive/c/testmap/ardupilot Setting out to                           : /cygdrive/c/testmap/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for need to link with librt     : not necessary Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.14 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.14 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled Checking for program ‘rsync’                   : /usr/bin/rsync ’configure’ finished successfully (11.348s) SIM_VEHICLE: Building SIM_VEHICLE: “/cygdrive/c/testmap/ardupilot/modules/waf/waf-light” “build” “–ta rget” ""bin/arducopter"" Waf: Entering directory /cygdrive/c/testmap/ardupilot/build/sitl' Waf: Leaving directory/cygdrive/c/testmap/ardupilot/build/sitl’ Build failed Traceback (most recent call last): File “/cygdrive/c/testmap/ardupilot/modules/waf/waflib/Runner.py”, line 270, i n task_status return tsk.runnable_status() File “Tools/ardupilotwaf/git_submodule.py”, line 75, in runnable_status out = self.generator.bld.cmd_and_log(cmd, quiet=Context.BOTH, cwd=self.cwd) File “/cygdrive/c/testmap/ardupilot/modules/waf/waflib/Context.py”, line 453, in cmd_and_log raise e WafError: Command (’/usr/bin/git’, ‘submodule’, ‘status’, ‘–recursive’, ‘–’, ‘ /cygdrive/c/testmap/ardupilot/modules/gtest’) returned 1 SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks","Hi, The log you posted states that git failed. To further debug this I would run the git command that failed and see what output comes from  $ git submodule status --recursive – /cygdrive/c/testmap/ardupilot/modules/gtest  I personally run SITL under Linux, so my setup does not really compare, but I have to invoke the simulate.py from within the Tools/autotest folder, while being in the ArduCopter folder, like  …/Tools/autotest/sim_vehicle.py  Maybe that helps."
252,Using SILT results for other flight controls,0,"Hi everyone, we have a “Matrice 100” from DJI , I’m trying to understand if I can use the results of the flights that simulate with SITL for our drone ? would they be same for real conditions?(reliable) can I apply the path planning developments that I want to do for a simulated drone  to our drone , regardless of its difference ? thanks in advance",
253,--instance in dronekit-sitl,0,Does the --instance  work? I am trying to run two dronekit-sitl in separate windows and trying to use the --instance in order to chenge the TCP and udp ports being used but the parameter seems to have no effect. The 2nd sitl fails because the port is in use. Any ideas?,
254,Traceback error SITL setup,1,"Hello ive been trying to setup SITL to test out this UAV ive been designing. I have been using this page: * to set it up on the RaspberryPi 3 that I am using as a companion computer for my pxhawk. Whenever I attempt to run: pi@raspberrypi-JamesHanlon:~/ardupilot/ArduCopter $ sim_vehicle.py -w I get: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/pi/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Traceback (most recent call last): File “/home/pi/ardupilot/Tools/autotest/sim_vehicle.py”, line 936, in  do_build(vehicle_dir, cmd_opts, frame_infos) File “/home/pi/ardupilot/Tools/autotest/sim_vehicle.py”, line 357, in do_build return do_build_waf(opts, frame_options) File “/home/pi/ardupilot/Tools/autotest/sim_vehicle.py”, line 323, in do_build_waf run_cmd_blocking(“Configure waf”, cmd_configure, check=True) File “/home/pi/ardupilot/Tools/autotest/sim_vehicle.py”, line 436, in run_cmd_blocking p = subprocess.Popen(cmd, **kw) File “/usr/lib/python2.7/subprocess.py”, line 390, in init errread, errwrite) File “/usr/lib/python2.7/subprocess.py”, line 1024, in _execute_child raise child_exception OSError: [Errno 2] No such file or directory SIM_VEHICLE: Killing tasks I am not too knowledgeable when it comes to  ardupilot and im not sure if the problem is that im using a raspberry pi or just my error somewhere. Any help would be greatly appreciated."," SIM_VEHICLE: “/home/pi/ardupilot/modules/waf/waf-light” “configure” ""–board"" ""sitl"" Traceback (most recent call last): . . OSError: [Errno 2] No such file or directory  Did you run this line from those instructions? git submodule update --init --recursive"
255,Energy consumption,1,"* Hi all, When simulating the aurducopter, I would like to check current /energy consumption, but not sure about the units? the vertical axis shown amps/hr? and what are the units here for energy consumed? Any help will be greatly appreciated, thanks much","ArduCopter at the present time does not have a direct energy calculation. I use the logging functions in my Castle ESC’s for that. With the logs from Copter you would have to use mAh or amp-hours, which is not energy (in watt-hours). But the watt-hours could be calculated by taking total amp-hour consumption times average voltage. You could update your APM Planner2 application for Ubuntu to 2.0.25, which is the latest. For some reason the latest on the firmware site is only there for Mac OSX. I have a build available for either 32 or 64-bit Ubuntu 16.04 here. If you are running an older version of Ubuntu then stick with what you have, as there will be dependency issues. * 2.0.25 has much enhanced graphing for logs."
255,Energy consumption,2,"* Hi all, When simulating the aurducopter, I would like to check current /energy consumption, but not sure about the units? the vertical axis shown amps/hr? and what are the units here for energy consumed? Any help will be greatly appreciated, thanks much","Chris, thanks much for your response. So, what data the logs from Copter use to plot the energy consumption graph? thanks mcuh"
255,Energy consumption,3,"* Hi all, When simulating the aurducopter, I would like to check current /energy consumption, but not sure about the units? the vertical axis shown amps/hr? and what are the units here for energy consumed? Any help will be greatly appreciated, thanks much",If you want to graph energy consumption I would use amps x volts x hours (watt-hours). For instance an amp load of say 20 amps average @ 25 volts average for .5 hours would be ~250 watt-hours.
256,SITL Build Failure on Linux,1,"Hi all, I am an absolute beginner when it comes to Linux. I just installed VirtualBox in order to run Ubuntu 14.04 and it seems to be working fine. I then followed the steps for building SITL * and referenced * as well. The last step I successfully completed was inputting . ~/.bashrc. When I try executing the next command inside the arducopter directory, sim_vehicle.py -w, I get a long error message and I think this is the most relevant part: * According to the YouTube tutorial I linked above, that [331/688] should continue increasing in value until complete, resulting in a successful build. Again, I am an absolute beginner in Linux and I am hoping there is a simple fix for this that I am overlooking due to inexperience. Any help is greatly appreciated. Please let me know what other information I should provide. Cheers.",weird it looks you miss the right toolchain… . Try “sudo apt install build-essential g++” and “sudo apt update & & sudo apt upgrade & & sudo apt full-upgrade” to update everything (could be a little long to download everything)
256,SITL Build Failure on Linux,2,"Hi all, I am an absolute beginner when it comes to Linux. I just installed VirtualBox in order to run Ubuntu 14.04 and it seems to be working fine. I then followed the steps for building SITL * and referenced * as well. The last step I successfully completed was inputting . ~/.bashrc. When I try executing the next command inside the arducopter directory, sim_vehicle.py -w, I get a long error message and I think this is the most relevant part: * According to the YouTube tutorial I linked above, that [331/688] should continue increasing in value until complete, resulting in a successful build. Again, I am an absolute beginner in Linux and I am hoping there is a simple fix for this that I am overlooking due to inexperience. Any help is greatly appreciated. Please let me know what other information I should provide. Cheers.","Hey khancyr, thanks for the reply. I ran the following commands (which took around 15 minutes in total) but still receive the same error:"
256,SITL Build Failure on Linux,3,"Hi all, I am an absolute beginner when it comes to Linux. I just installed VirtualBox in order to run Ubuntu 14.04 and it seems to be working fine. I then followed the steps for building SITL * and referenced * as well. The last step I successfully completed was inputting . ~/.bashrc. When I try executing the next command inside the arducopter directory, sim_vehicle.py -w, I get a long error message and I think this is the most relevant part: * According to the YouTube tutorial I linked above, that [331/688] should continue increasing in value until complete, resulting in a successful build. Again, I am an absolute beginner in Linux and I am hoping there is a simple fix for this that I am overlooking due to inexperience. Any help is greatly appreciated. Please let me know what other information I should provide. Cheers.","[FIXED] I eventually updated my version of Linux from 14.04 to 14.04 LTS, followed the same steps for setting up SITL according to the documentation and everything worked perfectly."
257,Convert APM to sumulator,1,hello world How I can Convert APM to sumulator by Arduino - code - ???,Don’t. Just use SITL: it’s a simulator.
257,Convert APM to sumulator,2,hello world How I can Convert APM to sumulator by Arduino - code - ???,but I need this ? can you help me ?
257,Convert APM to sumulator,3,hello world How I can Convert APM to sumulator by Arduino - code - ???,"Explain what you want to achieve, and why. Then figure out the best way to do it. You’ve jumped straight to a solution that probably isn’t suitable for you problem, and probably won’t achieve what you think it will."
257,Convert APM to sumulator,4,hello world How I can Convert APM to sumulator by Arduino - code - ???,How can make Hardware-in-the-loop simulation - HIL - simulation by Arduino useing APM How can I make this??
257,Convert APM to sumulator,5,hello world How I can Convert APM to sumulator by Arduino - code - ???,"Hello, We currently only support SITL and not HIL . Moreover APM board aren’t supported from long time"
258,Very Stupid Question!,1,I am trying to obtain current (flight load) in amps vs flight time graph for a copter. How do I get that ??,"Hello, Use battery monitor and you will have your consumption : see *"
259,Multiple Drones with Omnet++ simulator,1,"Hi guys, I’m trying to simulate a swarm of drones by integrating ardupilot into the Omnet++ simulation environment attempt to minimize changes to ardupilot code. Examining the ardupilot’s source code (arducopter sketch) I noticed a global variable “Copter copter;” inside Copter.cpp file that depict drone itself and is used in serveral files. In Omnet++ I have one process which controls the whole simulation and makes multiple instances of drones, so AFAIK I must make the copter variable local in order to avoid having the same global variable shared between drones. Unfortunately this change lead to modify several code inside ardupilot project. Someone can tell me if there is an alternative approach to resolve this problem? Thanks in advance",Run each instance in a separate process.  Use the existing SITL communication mechanisms to communicate with each vehicle.  See sim_vehicle.py to see how it invokes the ArduPilot SITL binary.
260,Installation Issue,0,"Issue details I am following the installation guide as on the * I am stuck at this point : Download and make ardupilot Using Windows 10 git submodule update --init --recursive Everytime I fore this command on cygwin after following all the prior instructions it fails with following output: hp@LAPTOP-59TH2EJC ~/ardupilot $ git submodule update --init --recursive Submodule ‘modules/PX4Firmware’ (git://github.com/ArduPilot/PX4Firmware.git) registered for path 'modules/PX4Firmware’ Submodule ‘modules/PX4NuttX’ (git://github.com/ArduPilot/PX4NuttX.git) registered for path 'modules/PX4NuttX’ Submodule ‘modules/gbenchmark’ (git://github.com/google/benchmark.git) registered for path 'modules/gbenchmark’ Submodule ‘gtest’ (git://github.com/ArduPilot/googletest) registered for path 'modules/gtest’ Submodule ‘modules/mavlink’ (git://github.com/ArduPilot/mavlink) registered for path 'modules/mavlink’ Submodule ‘modules/uavcan’ (git://github.com/ArduPilot/uavcan.git) registered for path 'modules/uavcan’ Submodule ‘modules/waf’ (git://github.com/ArduPilot/waf.git) registered for path 'modules/waf’ Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware’… Cloning into ‘/home/hp/ardupilot/modules/PX4NuttX’… Cloning into ‘/home/hp/ardupilot/modules/gbenchmark’… Cloning into ‘/home/hp/ardupilot/modules/gtest’… Cloning into ‘/home/hp/ardupilot/modules/mavlink’… Cloning into ‘/home/hp/ardupilot/modules/uavcan’… Cloning into ‘/home/hp/ardupilot/modules/waf’… Submodule path ‘modules/PX4Firmware’: checked out '0384802e81330751f39550a0804357d8b04f278a’ Submodule ‘Tools/gencpp’ (*) registered for path 'modules/PX4Firmware/Tools/gencpp’ Submodule ‘Tools/genmsg’ (*) registered for path 'modules/PX4Firmware/Tools/genmsg’ Submodule ‘mavlink/include/mavlink/v1.0’ (git://github.com/mavlink/c_library.git) registered for path 'modules/PX4Firmware/mavlink/include/mavlink/v1.0’ Submodule ‘src/lib/DriverFramework’ (*) registered for path 'modules/PX4Firmware/src/lib/DriverFramework’ Submodule ‘src/lib/ecl’ (*) registered for path 'modules/PX4Firmware/src/lib/ecl’ Submodule ‘src/lib/matrix’ (*) registered for path 'modules/PX4Firmware/src/lib/matrix’ Submodule ‘src/modules/uavcan/libuavcan’ (git://github.com/UAVCAN/libuavcan.git) registered for path 'modules/PX4Firmware/src/modules/uavcan/libuavcan’ Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/gencpp’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/gencpp’ failed Failed to clone ‘Tools/gencpp’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/genmsg’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/genmsg’ failed Failed to clone ‘Tools/genmsg’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/mavlink/include/mavlink/v1.0’… Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/DriverFramework’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/DriverFramework’ failed Failed to clone ‘src/lib/DriverFramework’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/ecl’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/ecl’ failed Failed to clone ‘src/lib/ecl’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/matrix’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/src/lib/matrix’ failed Failed to clone ‘src/lib/matrix’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/src/modules/uavcan/libuavcan’… Cloning into ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/gencpp’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/PX4Firmware/Tools/gencpp’ failed Failed to clone ‘Tools/gencpp’ a second time, aborting Submodule path ‘modules/PX4NuttX’: checked out '1bcae90b334206c92d57298f5b957247a8f3a85e’ Submodule path ‘modules/gbenchmark’: checked out '006d23ccca1375a973b7fae0cc351cedb41b812a’ Submodule path ‘modules/gtest’: checked out 'c99458533a9b4c743ed51537e25989ea55944908’ Submodule path ‘modules/mavlink’: checked out 'a722c139a07ac39b8941db58496ce74942088785’ Submodule ‘pymavlink’ (git://github.com/ArduPilot/pymavlink.git) registered for path 'modules/mavlink/pymavlink’ Cloning into ‘/home/hp/ardupilot/modules/mavlink/pymavlink’… Submodule path ‘modules/mavlink/pymavlink’: checked out '6135d77151a775603c58c4d41d8b42ad28f461c4’ Submodule path ‘modules/uavcan’: checked out '9d75eba870e3b3935346229267ecee2c499f6575’ Submodule ‘dsdl’ (*) registered for path 'modules/uavcan/dsdl’ Submodule ‘libuavcan/dsdl_compiler/pyuavcan’ (*) registered for path 'modules/uavcan/libuavcan/dsdl_compiler/pyuavcan’ Cloning into ‘/home/hp/ardupilot/modules/uavcan/dsdl’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/uavcan/dsdl’ failed Failed to clone ‘dsdl’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/uavcan/libuavcan/dsdl_compiler/pyuavcan’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/uavcan/libuavcan/dsdl_compiler/pyuavcan’ failed Failed to clone ‘libuavcan/dsdl_compiler/pyuavcan’. Retry scheduled Cloning into ‘/home/hp/ardupilot/modules/uavcan/dsdl’… fatal: Unable to find remote helper for 'https’ fatal: clone of ‘*’ into submodule path ‘/home/hp/ardupilot/modules/uavcan/dsdl’ failed Failed to clone ‘dsdl’ a second time, aborting Submodule path ‘modules/waf’: checked out '73163ef5c117a51f29546d17c2bb2041aecefcdd’ Failed to recurse into submodule path 'modules/PX4Firmware’ Failed to recurse into submodule path ‘modules/uavcan’ Version I am using the latest versions of MAVProxy and cygwin ###Note While installing cygwin , there was no package which exactly matched : automake | Devel | automake: Wrapper scripts for automake and aclocal so to be safe, I installed all packages with automake. Please help me out. I have tried this process several times.Thanking you in anticipation",
261,ArdruCopter SITL Build Error,0,"I am trying to setup SITL for ArduCopter and am having some problems.  I am on Windows, running in Cygwin.  I am running:  make sitl -j4 I have had to fix a couple of PATH errors during the UAVCAN build and now I am having problems just after the Mavgen: success, in the build_rules.mk file. Here is the error below, just after Mavgen: success. mavgen: success %% compat.o %% ArduCopter.o %% control_drift.o In file included from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/test.h:48:0, from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink.h:25, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS_MAVLink.h:90, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS.h:8, from Copter.h:37, from compat.cpp:1: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h: In function ‘uint16_t mavlink_msg_test_types_pack(uint8_t, uint8_t, mavlink_message_t*, char, const char*, uint8_t, uint16_t, uint32_t, uint64_t, int8_t, int16_t, int32_t, int64_t, float, double, const uint8_t*, const uint16_t*, const uint32_t*, const uint64_t*, const int8_t*, const int16_t*, const int32_t*, const int64_t*, const float*, const double*)’: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h:165:75: error: too few arguments to function 'uint16_t mavlink_finalize_message(mavlink_message_t*, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t)' return mavlink_finalize_message(msg, system_id, component_id, MAVLINK_MSG_ID_TEST_TYPES_LEN, MAVLINK_MSG_ID_TEST_TYPES_CRC); ^ compilation terminated due to -Wfatal-errors. make: *** [C:/cygwin/home/harri/ardupilot/mk/build_rules.mk:12: /tmp/ArduCopter.build/compat.o] Error 1 make: *** Waiting for unfinished jobs… In file included from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/test.h:48:0, from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink.h:25, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS_MAVLink.h:90, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS.h:8, from Copter.h:37, from ArduCopter.cpp:76: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h: In function ‘uint16_t mavlink_msg_test_types_pack(uint8_t, uint8_t, mavlink_message_t*, char, const char*, uint8_t, uint16_t, uint32_t, uint64_t, int8_t, int16_t, int32_t, int64_t, float, double, const uint8_t*, const uint16_t*, const uint32_t*, const uint64_t*, const int8_t*, const int16_t*, const int32_t*, const int64_t*, const float*, const double*)’: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h:165:75: error: too few arguments to function 'uint16_t mavlink_finalize_message(mavlink_message_t*, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t)' return mavlink_finalize_message(msg, system_id, component_id, MAVLINK_MSG_ID_TEST_TYPES_LEN, MAVLINK_MSG_ID_TEST_TYPES_CRC); ^ compilation terminated due to -Wfatal-errors. make: *** [C:/cygwin/home/harri/ardupilot/mk/build_rules.mk:12: /tmp/ArduCopter.build/ArduCopter.o] Error 1 In file included from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/test.h:48:0, from /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink.h:25, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS_MAVLink.h:90, from /home/harri/ardupilot/libraries/GCS_MAVLink/GCS.h:8, from Copter.h:37, from control_drift.cpp:1: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h: In function ‘uint16_t mavlink_msg_test_types_pack(uint8_t, uint8_t, mavlink_message_t*, char, const char*, uint8_t, uint16_t, uint32_t, uint64_t, int8_t, int16_t, int32_t, int64_t, float, double, const uint8_t*, const uint16_t*, const uint32_t*, const uint64_t*, const int8_t*, const int16_t*, const int32_t*, const int64_t*, const float*, const double*)’: /home/harri/ardupilot/modules/mavlink/pymavlink/generator/C/include_v1.0/test/mavlink_msg_test_types.h:165:75: error: too few arguments to function 'uint16_t mavlink_finalize_message(mavlink_message_t*, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t)' return mavlink_finalize_message(msg, system_id, component_id, MAVLINK_MSG_ID_TEST_TYPES_LEN, MAVLINK_MSG_ID_TEST_TYPES_CRC); ^ compilation terminated due to -Wfatal-errors. make: *** [C:/cygwin/home/harri/ardupilot/mk/build_rules.mk:12: /tmp/ArduCopter.build/control_drift.o] Error 1",
262,SITL setup --- Setting up SITL using Vagrant,1,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.",Hello friends: i continued troubleshooting and tried in different laptop and facing the same error. ‘vagrant up’ is throwing same error i.e. “The requested URL returned error: 404 Not Found”. here are the logs … * (7.3 KB) Pls. help.
262,SITL setup --- Setting up SITL using Vagrant,2,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.",Try going for zesty32 instead.
262,SITL setup --- Setting up SITL using Vagrant,3,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.","zesty32 is working well for me I am hesitant to move it forward from yakkety in master, however, as I know zesty has trouble flashing PixHawks.  It is possible someone is using yakkety for that. Note that the original problem here appears to be random moving of images around out on the internet.  Yay cloud!  Moving to zesty just works around this problem."
262,SITL setup --- Setting up SITL using Vagrant,4,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.","Thanks Peter: this zeskty32 works but now I am facing below error while following *. ubuntu@ubuntu-zesty:~$ git submodule update --init --recursive fatal: Not a git repository (or any of the parent directories): .git Please check complete logs here, * (6.9 KB)"
262,SITL setup --- Setting up SITL using Vagrant,5,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.", Thanks Peter: this zeskty32 works but now I am facing below error while following step-5. ubuntu@ubuntu-zesty:~$ git submodule update --init --recursive fatal: Not a git repository (or any of the parent directories): .git  You need to change directories to where the ardupilot repository is - probably “cd /vagrant”
262,SITL setup --- Setting up SITL using Vagrant,6,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.","Hello Peter: I was unable to do “cd /vagrant” after “vagrant ssh”. I removed/deleted “aurdupilot_default_xxx” running instance from VM VirtualBox Manager and then retry “vagrant up”… NOW, this is running since last 24 hrs (slowly) and currently at below output … … ==> default: Preparing to unpack …/096-javascript-common_11_all.deb … … Pls. help as this is an abnormal delay for ‘vagrant up’. Do u have similar log saved where u can check above line and estimate how much time left?. is it worth waiting for this installation to finish?."
262,SITL setup --- Setting up SITL using Vagrant,7,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.","Hello Peter and All: I am still struggling on this issue. ‘vagrant up’ crashed and the laptop was totally un-responsive / jammed. I managed to take below snapshot which may help to guess what went wrong. Aftef rebooting the laptop , i found this log file under arducopter root directory.* (55.9 KB) . I would really appreciate your help to fix this."
262,SITL setup --- Setting up SITL using Vagrant,8,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.",SITL installation successfully completed. Tested by connecting to MP and simulating a simple mission. All OK. Thanks to you and community for this wonderful setup. Just sharing my observations… 1/ I was struggling initially on my old laptop (2GB RAM !) 2/ change the laptop to high end gaming laptop (32 GB RAM etc.). took around 20 minutes to finish ‘vagrant up’. Attached are the logs for reference. * (426.0 KB)
262,SITL setup --- Setting up SITL using Vagrant,9,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help."," Hello Peter: I was unable to do “cd /vagrant” after “vagrant ssh”. I removed/deleted “aurdupilot_default_xxx” running instance from VM VirtualBox Manager and then retry “vagrant up”… NOW, this is running since last 24 hrs (slowly) and currently at below output …  Did this ever come up for you?"
262,SITL setup --- Setting up SITL using Vagrant,10,"I am following * step-4: ‘vagrant up’ gave me following error…* (1.1 KB) I then edited /ardupilot/Vagrantfile and changed (config.vm.box = “ubuntu/yakkety32”) to (config.vm.box = “ubuntu/trusty64”)…reason: Vagrantfile is working OK for git cloned ‘ardupilot_wiki’. Now ‘vagrant up’ output is more meaningful but that too end up with some error, see this log * (23.8 KB) Although I tried to ignore above error and went to step-5, … vagrant ssh and then error while doing git.? can anyone suggest if wiki steps are ok and updated … please help.","Hello Peter: Yes , I have setup SITL successfully. I already *."
263,How to two-way communicate between MAVProxy in WIN 7 and SITL in ubuntu 14.04 of a same computer?,0,"I have built SITL simulation in my ubuntu ,which successfully running “simvehicle.py --console --map” ,please see  following figure 1.The question is there is no reaction in my MAVProxy in WIN 7 （see following figure 2 ）.The ubuntn and MAVProxy working in a same computer. I don’t know what should i do？ *  ",
264,More Thrust for a simulated High Performance Waypoint Quadcopter,0,"I have overcome the 45 deg pitch limitation by multiplying the pitch by 2. ArduCopter/control_auto.cpp: void Copter::auto_spline_run() attitude_control->input_euler_angle_roll_pitch_yaw(wp_nav->get_roll(), 2.0*wp_nav->get_pitch(), get_auto_heading(), true, get_smoothing_gain()); This gets the Pitch up to 56 degrees. But when I roll into a sharp turn or try to pitch more, the throttle maxes out at 100%, How do I set up set up an overpowered Quad that hovers at 10% throttle and flies fast in AUTO mode? MOT_THST_HOVER=0.1  and MOT_HOVER_LEARN=0.0 doen’t seem to change anything. Our UAVs with fly better slowly when they fly better faster. SITL is the best place to improve ARDUPilot as crashes don’t damage our vehicles… Ben Israel Genesis One Technologies",
265,Missing custom mavlink message at ground station,0,"I have added a new mavlink message in common.xml within Ardupilot. The new set of headers are made available to  QGroundControl as well as Ardupilot. When  Ardupilot is executed on SITL, I could debug and confirm that the message is sent out from Ardupilot, through the function “mavlink_helper.h/_mav_finalize_message_chan_send()”, however  I could not detect the new mavlink message at QGroundControl. I have seen other query responses saying MaxProxy/SITL might filter out the custom mavlink message. Could someone help me to update the MaxProxy to include the new mavlink message? Or if there is different solution, please let me know. Thanks!.",
266,Simulink Model of ArduCopter,1,"Hi there… I am new to the community but have been observing for some time. I’ve noticed in the past several have expressed interest in obtaining or building a Simulink model for the ArduCopter s/w that runs on many of our quads, etc. Does anyone know if this has been done? If not, is anyone interested in working together as a community to build a library that would allow many to simulate their own additions to the master ardupilot software?","I know it’s been a while, but have you started working towards this?"
266,Simulink Model of ArduCopter,2,"Hi there… I am new to the community but have been observing for some time. I’ve noticed in the past several have expressed interest in obtaining or building a Simulink model for the ArduCopter s/w that runs on many of our quads, etc. Does anyone know if this has been done? If not, is anyone interested in working together as a community to build a library that would allow many to simulate their own additions to the master ardupilot software?",Hi scott – I was able to succesfully model the quadcopter (based on 3DR Solo) but have not made any progress on the arducopter control algorithms. Do you have interest in this? Would you be able to contribute?
266,Simulink Model of ArduCopter,3,"Hi there… I am new to the community but have been observing for some time. I’ve noticed in the past several have expressed interest in obtaining or building a Simulink model for the ArduCopter s/w that runs on many of our quads, etc. Does anyone know if this has been done? If not, is anyone interested in working together as a community to build a library that would allow many to simulate their own additions to the master ardupilot software?","Aaron, I’m definitely interested; as for the ability to contribute, I’ve got matlab/simulink and some time (mostly on weekends). However, it will be a bit of learning project for me as I’ve got some background in controls, but limited experience in Simulink. I’m in the midst of a GNC certificate program and see this as an opportunity to apply it."
267,SITL w/Taranis more than 8 axes,0,"I’ve set up SITL on Ubuntu with my Taranis X9D+ as controller. It’s all working, except for one thing. I have a Taranis three position switch configured on RC channel 9, but the joystick driver seems to have a fixed idea that the Taranis is 8 axes and 24 buttons. This means RC9 is seen as a button with only two states which doesn’t work for a three position switch. I can’t see anywhere to change this - I’ve tried jstest-gtk and jscal. Any pointers would be greatly appreciated. Thank you.",
268,Settings SYSID_THISMAV doesn't change srcSystem in messages,1,"Hi! I’m trying to do a multi-copter simulation. I’ve got much of it working but want to visualize the different instances by having each output a stream to Mission Planner. Before it gets to Mission Planner I’m forwarding the various streams to a python script which outputs all messages out on the same port which MP listens on. Each SITL instance has it’s own SYSID_THISMAV set to something unique, at least according to dronekit (1,2,3…). However, in Mission Planner it only renders one copter with ‘1’ written over it at a time, flashing back and forth between two copters in different positions. I believe this has to do with the system ID somehow. Further evidence is that I can manually receive the mavlink messages from a system where SYSID has been set to say 20 from 1 (given in the default parameters file), and the message.get_srcSystem() header field remains 1 even after changing SYSID_THISMAV, so I can see why ArduCopter is might be getting confused. Is the header field for srcSystems not the same as the SYSID_THISMAV parameter? I can reproduce this with a pymavlink connection reading out the srcSystem field of messages passed form a mavproxy ground station to a ArduCopter instance. Further, the srcSystem in the mavlink message header changes if I change the SYSID_THISMAV in the default_params file…  I may change this a little later in execution and suspect I can get the visualization to work if I can force the srcSystem to update! thanks!",Are you rebooting the SITL instance after setting this variable?  It is required to have effect on Copter.
268,Settings SYSID_THISMAV doesn't change srcSystem in messages,2,"Hi! I’m trying to do a multi-copter simulation. I’ve got much of it working but want to visualize the different instances by having each output a stream to Mission Planner. Before it gets to Mission Planner I’m forwarding the various streams to a python script which outputs all messages out on the same port which MP listens on. Each SITL instance has it’s own SYSID_THISMAV set to something unique, at least according to dronekit (1,2,3…). However, in Mission Planner it only renders one copter with ‘1’ written over it at a time, flashing back and forth between two copters in different positions. I believe this has to do with the system ID somehow. Further evidence is that I can manually receive the mavlink messages from a system where SYSID has been set to say 20 from 1 (given in the default parameters file), and the message.get_srcSystem() header field remains 1 even after changing SYSID_THISMAV, so I can see why ArduCopter is might be getting confused. Is the header field for srcSystems not the same as the SYSID_THISMAV parameter? I can reproduce this with a pymavlink connection reading out the srcSystem field of messages passed form a mavproxy ground station to a ArduCopter instance. Further, the srcSystem in the mavlink message header changes if I change the SYSID_THISMAV in the default_params file…  I may change this a little later in execution and suspect I can get the visualization to work if I can force the srcSystem to update! thanks!",Ahh great - this should be in the docs! That requirement doesn’t appear to be listed somewhere I can find  (logical place might be * ?)
269,SITL ArduCopter: Automatic Disarming,1,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",How many seconds are we talking about? ArduCopter has an automatic disarm while on the ground.
269,SITL ArduCopter: Automatic Disarming,2,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",Its at 10 seconds. I was able to change it to 0 but I still cant get the copter to fly
269,SITL ArduCopter: Automatic Disarming,3,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",You mean that it still disarms even with DISARM_DELAY at 0?
269,SITL ArduCopter: Automatic Disarming,4,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",Sorry I should have specified clearly. If I changed the delay to 0 it will arm. But the problem now is I cant get the copter to fly
269,SITL ArduCopter: Automatic Disarming,5,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",Can you be more specific? What are you doing to make it fly?
269,SITL ArduCopter: Automatic Disarming,6,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?","Ok so this is for a research project. I am new to all this. I am trying to learn the simulator before working on the real thing. Trying to understand the commands. Pretty much get the feel for it. The problem is I cant get the simulator to work based on the Linux guide I was following. I load the mission and I am able to see the waypoints. I used “arm throttle” (after changing DISARM_DELAY to 0), then set the mode to auto. Nothing happens on the map. I have tried “takeoff” (50 meters) and there is no update based on a video I have watched. I am unsure if the simulator is working."
269,SITL ArduCopter: Automatic Disarming,7,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",I have no idea what you are doing wrong. But I would advise that for a first experience you should try Mission Planner (*).
269,SITL ArduCopter: Automatic Disarming,8,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?","After arming, raise your throttle to say 50%.  That should do the trick."
269,SITL ArduCopter: Automatic Disarming,9,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?","As * says, you need to raise the throttle to have auto mode trigger mission start. In mavproxy you would typically raise the throttle using an rc override: rc 3 1500"
269,SITL ArduCopter: Automatic Disarming,10,"Hello, I am following this guide to familiarize myself with MavProxy * What I am not understanding is what happens when you type the command “arm throttle.” Every time I would type it in is would disarm itself after a few seconds. During the time that it is arm and I type in “mode auto” nothing happens. The simulator sits still. Are there any pre setups to get the simulator working properly?",The default delay to disarm a motor is 15secs and you can only fly a copter in GUIDED mode. Other vehicles takeoff in AUTO.  I guess you are using SITL.
270,Setting the home at the start of SITL,1,"Hi To set the Home you can do with the parameter: -Home coordinates or with the parameter -L NameOfSavedCoordinates saved in locations.txt. Example: Ballarat=-37.598705,143.881744,485,165 The question may seem silly but what is the coordinate system? Why using 4 numbers? The first two longitude and latitude, which are the other two? What is the name of this coordinate system so i can move from one system to another? thx",I think I have the answer. -37.598705   --> latitude 143.881744  --> longitude 485                --> altitude 165                --> degrees respect north to where look at the drone
270,Setting the home at the start of SITL,2,"Hi To set the Home you can do with the parameter: -Home coordinates or with the parameter -L NameOfSavedCoordinates saved in locations.txt. Example: Ballarat=-37.598705,143.881744,485,165 The question may seem silly but what is the coordinate system? Why using 4 numbers? The first two longitude and latitude, which are the other two? What is the name of this coordinate system so i can move from one system to another? thx","Hi, I am trying to add to the locations.txt file. I have two valid format locations added to the file but when starting and calling either of these locations I get an unknown location error. Do I have to rebuild it all for these locations to be picked up? Thanks for any reply."
270,Setting the home at the start of SITL,3,"Hi To set the Home you can do with the parameter: -Home coordinates or with the parameter -L NameOfSavedCoordinates saved in locations.txt. Example: Ballarat=-37.598705,143.881744,485,165 The question may seem silly but what is the coordinate system? Why using 4 numbers? The first two longitude and latitude, which are the other two? What is the name of this coordinate system so i can move from one system to another? thx"," Hi, I am trying to add to the locations.txt file. I have two valid format locations added to the file but when starting and calling either of these locations I get an unknown location error. Do I have to rebuild it all for these locations to be picked up? Thanks for any reply.  No rebuild is required.  Try using a file in your home directory instead of modifying locations.txt: pbarker@bluebottle:~$ cat /home/pbarker/.config/ardupilot/locations.txt GSP=-35.207897,149.043640,550.840027,270 pbarker@bluebottle:~$"
270,Setting the home at the start of SITL,4,"Hi To set the Home you can do with the parameter: -Home coordinates or with the parameter -L NameOfSavedCoordinates saved in locations.txt. Example: Ballarat=-37.598705,143.881744,485,165 The question may seem silly but what is the coordinate system? Why using 4 numbers? The first two longitude and latitude, which are the other two? What is the name of this coordinate system so i can move from one system to another? thx","Thank you PBarker, solved the issue. Much appreciated."
271,Sim_vehicle.py error on linux,1,"Hello! I’m working on Setting up SITL on Linux.When I started SITL simulator: sim_vehicle.py -w Things went wrong: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/sophie/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Traceback (most recent call last): File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 980, in do_build(vehicle_dir, cmd_opts, frame_infos) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 566, in do_build return do_build_waf(opts, frame_options) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 532, in do_build_waf run_cmd_blocking(“Configure waf”, cmd_configure, check=True) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 645, in run_cmd_blocking p = subprocess.Popen(cmd, **kw) File “/usr/lib/python2.7/subprocess.py”, line 711, in init errread, errwrite) File “/usr/lib/python2.7/subprocess.py”, line 1343, in _execute_child raise child_exception OSError: [Errno 2] No such file or directory SIM_VEHICLE: Killing tasks Anybody help me?Thanks!",On ArduPilot top level directory do git submodule update --init modules/waf and then try again running sim_vehicle.
271,Sim_vehicle.py error on linux,2,"Hello! I’m working on Setting up SITL on Linux.When I started SITL simulator: sim_vehicle.py -w Things went wrong: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/sophie/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Traceback (most recent call last): File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 980, in do_build(vehicle_dir, cmd_opts, frame_infos) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 566, in do_build return do_build_waf(opts, frame_options) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 532, in do_build_waf run_cmd_blocking(“Configure waf”, cmd_configure, check=True) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 645, in run_cmd_blocking p = subprocess.Popen(cmd, **kw) File “/usr/lib/python2.7/subprocess.py”, line 711, in init errread, errwrite) File “/usr/lib/python2.7/subprocess.py”, line 1343, in _execute_child raise child_exception OSError: [Errno 2] No such file or directory SIM_VEHICLE: Killing tasks Anybody help me?Thanks!","Hi *, Have you been able to solve this problem? I’m having the same issue… thanks"
271,Sim_vehicle.py error on linux,3,"Hello! I’m working on Setting up SITL on Linux.When I started SITL simulator: sim_vehicle.py -w Things went wrong: SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/sophie/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Traceback (most recent call last): File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 980, in do_build(vehicle_dir, cmd_opts, frame_infos) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 566, in do_build return do_build_waf(opts, frame_options) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 532, in do_build_waf run_cmd_blocking(“Configure waf”, cmd_configure, check=True) File “/home/sophie/ardupilot/Tools/autotest/sim_vehicle.py”, line 645, in run_cmd_blocking p = subprocess.Popen(cmd, **kw) File “/usr/lib/python2.7/subprocess.py”, line 711, in init errread, errwrite) File “/usr/lib/python2.7/subprocess.py”, line 1343, in _execute_child raise child_exception OSError: [Errno 2] No such file or directory SIM_VEHICLE: Killing tasks Anybody help me?Thanks!","Hello *, Did you try to run it as a super user? (sudo?) Let me know, if this helps."
272,How to bring two instances of sim_vehicle.sh?,1,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Hello, Forget about Erle repository  and use : * and follow * I see you are using sudo … you shouldn’t need it . Now with correct ardupilot version you could use …/Tools/autotest/sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console --use-dir copter0 -I 0 and …/Tools/autotest/sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console --use-dir copter1 -I 1 Each command will launch a sitl instance of copter in a different directory : copter0 or copter1 The I parameter is the instance number. It will also update the UDP port for connexion to gazebo. For instance 0 : port out 9002 (data send to gazebo) and port in 9003 (data received from gazebo) For instance 1 : port out 9012 (data send to gazebo) and port in 9013 (data received from gazebo)"
272,How to bring two instances of sim_vehicle.sh?,2,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Hi *, I get the following: is this something obvious I’m missing? Thanks again, Hugo"
272,How to bring two instances of sim_vehicle.sh?,3,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Start over on a new directory by following : *
272,How to bring two instances of sim_vehicle.sh?,4,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Weird… when I do git submodule update --init --recursive Should I try to clone it directly using git clone? Hope I’m not bothering too much. Thanks, Hugo"
272,How to bring two instances of sim_vehicle.sh?,5,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",you need internet access
272,How to bring two instances of sim_vehicle.sh?,6,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",I have internet access… but using eduroam… can it be it?
272,How to bring two instances of sim_vehicle.sh?,7,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",you can try to change the .gitmodules files at the root of ardupilot directory (ctrl-h to make it appear) by :  [submodule “modules/PX4Firmware”] path = modules/PX4Firmware url = * [submodule “modules/PX4NuttX”] path = modules/PX4NuttX url = * [submodule “modules/uavcan”] path = modules/uavcan url = * [submodule “modules/waf”] path = modules/waf url = * [submodule “modules/gbenchmark”] path = modules/gbenchmark url = * [submodule “modules/mavlink”] path = modules/mavlink url = * [submodule “gtest”] path = modules/gtest url = * 
272,How to bring two instances of sim_vehicle.sh?,8,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Actually it might be because of eduroam… I used my phone as hotspot and tried it. It’s working… once it finishes I’ll continue with the rest of the instructions. Let’s see if I can start sim_vehicle.py…
272,How to bring two instances of sim_vehicle.sh?,9,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Nope…
272,How to bring two instances of sim_vehicle.sh?,10,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","It miss waf … but you should have it if your submodules were correctly installed. if you do ./waf configure , what is the ouput?"
272,How to bring two instances of sim_vehicle.sh?,11,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Here it is
272,How to bring two instances of sim_vehicle.sh?,12,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",weird … Are ./waf copter and sim_vehicle.py -v ArduCopter working ?
272,How to bring two instances of sim_vehicle.sh?,13,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Pfff… no! throwing a whole bunch of erros:
272,How to bring two instances of sim_vehicle.sh?,14,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","What OS are you using and version ? What computer type : ARM, x86-x64 ? what is your gcc version : gcc --version ? (We will finish by solve everthing ^^)"
272,How to bring two instances of sim_vehicle.sh?,15,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",I’m using Ubuntu 16.04.02 LTS on x86_x64 machine
272,How to bring two instances of sim_vehicle.sh?,16,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",ok so you should have isnan … I lack of idea on what the problem is … I will try to ask others. Could you use “sudo apt install build-essential ccache g++ gawk git make wget” just to be sure that g++ was installed ? you did a fresh git clone on ardupilot repo right ? (git clone *)
272,How to bring two instances of sim_vehicle.sh?,17,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",yes…g++ is installed and yes I did a fresh git clone on the ardupilot repo from that link…
272,How to bring two instances of sim_vehicle.sh?,18,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Hey *, I found this discussion in google group where apparently there are issues with gcc 5.4 and isnan (*). The suggestion that solved the problem was ""Adding -DCMAKE_CXX_FLAGS=""-std=c++11"" to the cmake command line is probably the easiest way."" How can I do this for ardupilot? also note that in ./waf configure in my previous post it yields Cheers, Hugo"
272,How to bring two instances of sim_vehicle.sh?,19,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","We are already C++11 . What I don’t understand is that I am also on ubuntu 16.04 with same gcc version. Lets clean everything : sudo ccache -C ./waf distclean Reboot computer (to clear ram etc.) and then ./waf configure, you should have  ╰─$ waf configure Setting top to                           : /home/khancyr/Workspace/ardupilot Setting out to                           : /home/khancyr/Workspace/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/lib/ccache/g++ Checking for ‘gcc’ (C compiler)          : /usr/lib/ccache/gcc Checking for need to link with librt     : not necessary Checking for HAVE_CMATH_ISFINITE         : yes Checking for HAVE_CMATH_ISINF            : yes Checking for HAVE_CMATH_ISNAN            : yes Checking for NEED_CMATH_ISFINITE_STD_NAMESPACE : yes Checking for NEED_CMATH_ISINF_STD_NAMESPACE    : yes Checking for NEED_CMATH_ISNAN_STD_NAMESPACE    : yes Checking for header endian.h                   : yes Checking for header byteswap.h                 : yes Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.12 Checking for program ‘python’                  : /usr/bin/python Checking for python version >= 2.7.0           : 2.7.12 Source is git repository                       : yes Update submodules                              : yes Checking for program ‘git’                     : /usr/bin/git Checking for program ‘size’                    : /usr/bin/size Benchmarks                                     : disabled Unit tests                                     : enabled ’configure’ finished successfully (0.969s) "
272,How to bring two instances of sim_vehicle.sh?,20,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",sorry *… still get the same…
272,How to bring two instances of sim_vehicle.sh?,21,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Ok *, I’ve got some news I tried on a clean install of ubuntu 16.04 LTS (same gcc version and some computer architecture) and I was able to compile running  just ../Tools/autotest/sim_vehicle.py -v ArduCopter running ./waf configure in the ardupilot folder already discovers isnan i still get it is only when I remove --use-dir copter0 that I’m able to compile with all the other options. do you think there might be any reason in particular for this to happen? also… the map doesn’t appear… cheers, Hugo"
272,How to bring two instances of sim_vehicle.sh?,22,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo",Ok! So… if I am at directiry ardupilot/Arducopter and run it shows what was described in the previous post… but if I run only sim_vehicle.py -v ArduCopter -f gazebo-iris -m --mav10 --map --console --use-dir copter0 -I 0 i get deleted --mav10 and it worked but sitll map didn’t show… uprgaded mavproxy version it seems to be working! =D
272,How to bring two instances of sim_vehicle.sh?,23,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","Nice ! About the …/Tools/autotest/ it was because your were using it before. Normally, if you follow the wiki, you should have sim_vehicle.py to your path! According to your screen, it should be working with gazebo ! Launching default iris world should work !"
272,How to bring two instances of sim_vehicle.sh?,24,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","when I launch the default iris world roslaunch ardupilot_sitl_gazebo_plugin iris_spawn.launch straight from the ardupilot_sitl_gazebo_plugin I get these messages in in the roslaunch window: Continuously, over and over again… while on the mavproxy window I keep getting this: Any ideas? Thanks, Hugo"
272,How to bring two instances of sim_vehicle.sh?,25,"Hi everyone, I’m trying to bring up to instances of sim_vehicle.sh by doing, in a first terminal: ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 and in second terminal ../Tools/autotest/sim_vehicle.sh -j 4 -f gazebo -I 0 however, after I run the second command the I get the message on the xTerm window saying: failed to bind port 9002 to receive fdm from Gazebo over and over again I attach a picture below  * Is there something obvious I’m missing?! Thank you very much, Hugo","and start a quadcopter in gazebo the connection doesn’t happen… and I sure I’m changing the port to 127.0.0.1:5770 Also I should add, it works with the option -I 0 and the port set to 127.0.0.1:5760 thanks"
273,Error while running sim_vehicle.py OSError: [Errno 90] Directory not empty:,0,* After following all the steps from * I ran sim vehicle.py using the following command : python sim_vehicle.py -j4 --map --console -v ArduCopter and it it giving the above error But when I go to the particular directory it is empty. Anybody facing a similar issue? Any solution to this particular problem?,
274,SITL ArduCopter connect to c_uart_interface,0,Hi everyone ! I’m trying to test my c_uart_interface code in sitl with arducopter.elf like it’s descripted in the * and * but I got problems to connect my code to the simulator. I’ve tried : uart_name = (char*)“5760”; and uart_name = (char*)“14550”; but it doesn’t work. Someone can explain me how to make the connection with each other ? Thanks in advance,
275,Swarming in SITL,1,"Hi First thanks for all the work you provide with SITL, it’s very fun! I’ve installed SITL on my computer (Windows 8.1) thanks to this tutorial : [color=#0000FF]* It works fine for one copter with any Ground Control Station (Mission Planner, QGroundControl or APM Planner) Now I’m trying to run multiple copter SITL (drone swarming). Now I can do it with only 2 copter, with two Cygwin terminal :  sim_vehicle_1.sh -j4 -I 1 then setting “param set SYSID_THISMAV 1” in MAVProxy console and rebooting sim_vehicle_2.sh -j4 -I 2 then setting “param set SYSID_THISMAV 2” in MAVProxy console and rebooting I’ve also modifies this file to have different UDP adress (line 412).  So I’ve some questions :  First, i would like to set directly the SYSID_THISMAV parameters with sim_vehicle.sh file. Is it possible? when I use option -w to wipe EEPROM, I get the line “usage: param <fetch…” on MAVProxy but everything seems ok? Second, how to add more ArduCopter ? When I use a other terminal it doesn’t work ? Is it possible to generate a second copter directly with a script ?  Best regards Boris","Did you manage to solve this problem. If yes, can you please provide solution. Thank you in advance. "
275,Swarming in SITL,2,"Hi First thanks for all the work you provide with SITL, it’s very fun! I’ve installed SITL on my computer (Windows 8.1) thanks to this tutorial : [color=#0000FF]* It works fine for one copter with any Ground Control Station (Mission Planner, QGroundControl or APM Planner) Now I’m trying to run multiple copter SITL (drone swarming). Now I can do it with only 2 copter, with two Cygwin terminal :  sim_vehicle_1.sh -j4 -I 1 then setting “param set SYSID_THISMAV 1” in MAVProxy console and rebooting sim_vehicle_2.sh -j4 -I 2 then setting “param set SYSID_THISMAV 2” in MAVProxy console and rebooting I’ve also modifies this file to have different UDP adress (line 412).  So I’ve some questions :  First, i would like to set directly the SYSID_THISMAV parameters with sim_vehicle.sh file. Is it possible? when I use option -w to wipe EEPROM, I get the line “usage: param <fetch…” on MAVProxy but everything seems ok? Second, how to add more ArduCopter ? When I use a other terminal it doesn’t work ? Is it possible to generate a second copter directly with a script ?  Best regards Boris",Hi! Is this problem solved? This is where I am stuck as well.
276,How to communicate between the flightgear on the host and the simulator on the virtual machine,0,"I want to link flightgear(mac) on host and simulator on virtual machine(ubuntu) After executing “fg_quad_view.sh” on the host machine, “sim_vehicle.py -j4 --console” was executed on the virtual machine, but flightgear does not move even if you move the simulator with the command. Where can I set communication when flightgear and the simulator are running in different environments? In addition, we executed ""output add ***.***.***.***:5503 ""after simulator execution and sent data to the host PC. At this time, we confirmed that the message was received from the virtual machine to the host PC with UDP reception tool. But flightgear did not respond at all.",
277,Mission feature is affected once geofence is enabled,1,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?",*
277,Mission feature is affected once geofence is enabled,2,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?",*
277,Mission feature is affected once geofence is enabled,3,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?",It’s probably crossing the geofence and so it goes home.
277,Mission feature is affected once geofence is enabled,4,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?","Hello, Nope I don’t think that is the reason. Please see this video. * I uploaded this just now. I think you will get a better understanding. I really am wondering how this is possible. I also tried a larger geofence, which shows a similar behaviour."
277,Mission feature is affected once geofence is enabled,5,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?","If you had showed the MAVProxy window, we might get an idea, this way I can’t say anything about it."
277,Mission feature is affected once geofence is enabled,6,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?",Have a look at this video *. I have simulated a similar environment.
277,Mission feature is affected once geofence is enabled,7,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?","OK, I’ll need to see the log, there is no clue in the MAVProxy window that I can see."
277,Mission feature is affected once geofence is enabled,8,"Hello All, I am working on a Linux System. I had setup the SITL environment and started testing the features one by one. The Mission feature by giving way points runs perfectly without a geofence. But after a geofence has been enabled, when the copter crosses a line formed my two way points. It switches to RTL. I am not sure as to why this happens. Any suggestions?","However after trying to get this right last night, I found that the geofence and waypoints work fine just upto a certain distance/terrain on the map. And after that the copter heads back to RTL. I feel there is some default setting that gets activated when the geofence is enabled. This default setting does not allow the copter to fly beyond a certain area, thus making it come back to RTL irrespective of its position. I tried giving waypoints really close to the default start position and made a small geofence around them as well. It just worked fine. So I am guessing that there is some default parameter getting activated here. Any ideas??"
278,Xplane mission planner datarefs,0,"Hi, I am using mission planner to fly my helicopter in the xplane and it flies great. But, I have some questions which are as follows,  Xplane data can be extracted using datarefs, for example,   ‘sim/joystick/FC_roll’(* - listof all datarefs)  Now, when the mission planner is controlling the helicopter which of the datarefs are mapped to the mission planner control inputs to control the model helicopter. i am using a computer generated signal from matlab to do some tests while using the mission planner PIDS to hold the heli in hover, i would like to record the actual signal going into the xplane model, i.e., (signal generated by the matlab+pid signal controlling it)  How do improve the data rate and frame rate ? right now it is running at   data rate:23-27 fps frame rate:550-650 fps  thank you",
279,Battery / landing,1,"Having used ArduPilot / MavProxy / SITL for about an hour, these are some novice questions. Working through the ‘Setting up SITL’ guide, I have 2 questions:  The battery depletes fairly quickly. Where do I set the simulator’s battery level? As a first test I do a very basic takeoff and go into circle mode. As soon as I activate circle mode, the vehicle descends and end up landing. Shouldn’t it maintain altitude in circle mode? ",HI Jack… I am facing a similar issue… Did you happen to find a solution to it?
279,Battery / landing,2,"Having used ArduPilot / MavProxy / SITL for about an hour, these are some novice questions. Working through the ‘Setting up SITL’ guide, I have 2 questions:  The battery depletes fairly quickly. Where do I set the simulator’s battery level? As a first test I do a very basic takeoff and go into circle mode. As soon as I activate circle mode, the vehicle descends and end up landing. Shouldn’t it maintain altitude in circle mode? ","Sorry, no - in the end I gave up on the SITL and just went flying with the real hardware."
280,How to execute example sketch using SITL on Linux,1,"I am trying to understand Copter code and started with advise listed here * I would like to try the code in SITL which is up and running fine on my linux machine. I can load waypoints and the copter flies etc. On the above linked page, I followed * I have started sim_vehicle.py in another window. Does the --upload flag above have any result here? The example expects that I am building for px4. I tried to execute INS_Generic binary on the console with * But that leads to segmentation fault. Is there a way I can run example code on sitl?",I now built example code for navio2 board which I have and it all runs fine there. So the question is can I somehow run the code on SITL? That would make experimentation much faster.
280,How to execute example sketch using SITL on Linux,2,"I am trying to understand Copter code and started with advise listed here * I would like to try the code in SITL which is up and running fine on my linux machine. I can load waypoints and the copter flies etc. On the above linked page, I followed * I have started sim_vehicle.py in another window. Does the --upload flag above have any result here? The example expects that I am building for px4. I tried to execute INS_Generic binary on the console with * But that leads to segmentation fault. Is there a way I can run example code on sitl?","The SITL environment provided by sim_vehicle.py is only designed to be used by a full ardupilot build. It doesn’t work with the examples. The example sketches provided in * might work with SITL, but you would need to write up the scripts yourself. Those scripts are designed to be run directly on the hardware (Pixhawk, Navio, etc). Interestingly, there’s no segmentation fault if you run it with a plane model. If you are able to connect it to a simulation backend, you might be able to get it working."
280,How to execute example sketch using SITL on Linux,3,"I am trying to understand Copter code and started with advise listed here * I would like to try the code in SITL which is up and running fine on my linux machine. I can load waypoints and the copter flies etc. On the above linked page, I followed * I have started sim_vehicle.py in another window. Does the --upload flag above have any result here? The example expects that I am building for px4. I tried to execute INS_Generic binary on the console with * But that leads to segmentation fault. Is there a way I can run example code on sitl?",I’m actually interested in this as well. When you say you need to write up the scripts you’re talking about correctly starting up the simulator and connecting the example sketch to the appropriate ports?
280,How to execute example sketch using SITL on Linux,4,"I am trying to understand Copter code and started with advise listed here * I would like to try the code in SITL which is up and running fine on my linux machine. I can load waypoints and the copter flies etc. On the above linked page, I followed * I have started sim_vehicle.py in another window. Does the --upload flag above have any result here? The example expects that I am building for px4. I tried to execute INS_Generic binary on the console with * But that leads to segmentation fault. Is there a way I can run example code on sitl?","Hi Miguel, Yes. As Stephen said, sim_vehicle.py is designed to run the full simulation, not the examples - so you need to start them on your own. Also, the examples are made to be run on real boards, but it is possible they’ll run with SITL too."
280,How to execute example sketch using SITL on Linux,5,"I am trying to understand Copter code and started with advise listed here * I would like to try the code in SITL which is up and running fine on my linux machine. I can load waypoints and the copter flies etc. On the above linked page, I followed * I have started sim_vehicle.py in another window. Does the --upload flag above have any result here? The example expects that I am building for px4. I tried to execute INS_Generic binary on the console with * But that leads to segmentation fault. Is there a way I can run example code on sitl?",* once this PR (*) gets merged you should be able to run the example code on SITL. Hope that helps! 
281,Heartbeat not received regularly & compare positions,1,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?",I think the answer for my second question is *.
281,Heartbeat not received regularly & compare positions,2,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Hi, ArduPilot should send about one heartbeat per second. You can see the heartbeat packets in MAVProxy console by writing watch HEARTBEAT. Regarding knowing the reached destination, as talked earlier, you need to rely on the information ArduPilot sends regularly, Guided mode doesn’t have any message telling it reached a location."
281,Heartbeat not received regularly & compare positions,3,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Thanks * for your reply. I run watch HEARTBEAT in MAVProxy and saw the in and out hearbeat but I don’t know why I’m not receiving them regularly. As I said, sometimes I receive them every 1 seconds, sometimes I receive 2 heartbeats in 2 minutes and sometimes I don’t receive any heartbeat. Although I receive other messages, like POSITION_NED regularly! Here is my receiving function What can be the problem?"
281,Heartbeat not received regularly & compare positions,4,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?",I’ve got no idea 
281,Heartbeat not received regularly & compare positions,5,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Please provide a complete working (minimal!) example program which demonstrates the problem. I can see bufIndex isn’t zeroed in the fragment you gave, but without having all the code it is hard to tell if that’s a fault or not!"
281,Heartbeat not received regularly & compare positions,6,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Thanks * for your reply. I removed all parts irrelevant to the heartbeat problem and following is the minimal working example program. When I run it, onetime the heartbeat message is received each 1 second regularly. One other time I re-run the program and it receives heartbeat but in irregular basis, e.g., once each 3 or 4 or 2 seconds. One other time I re-run the program and it doesn’t receive any heartbeat messages. NavControl.h NavControl.cpp"
281,Heartbeat not received regularly & compare positions,7,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Sorry, your example doesn’t compile for me - missing header.  Please also provide build instructions suitable for Linux; std::function isn’t defined for me. I did notice that you’re incorrectly using MAVLINK_MAX_PAYLOAD_LEN where you should be using MAVLINK_MAX_PACKET_LEN You also need to use uint16_t for that offsets into a buffer containing a mavlink packet. Also, you’re not checking recvfrom()'s return value for -1"
281,Heartbeat not received regularly & compare positions,8,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","Sorry for the missing headers. Now this is a complete version. I’ve changed MAVLINK_MAX_PAYLOAD_LEN to be MAVLINK_MAX_PACKET_LEN and I’m checking recfrom()'s return value. I don’t understand what do you mean with th offsets part. Running this version, I don’t receive any heartbeat messages but I receive other messages from MAVProxy. CMakeLists.txt To build the project"
281,Heartbeat not received regularly & compare positions,9,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?","OK, a small amount of hackery required this time to get your example running. There were a few issues with your example code.  I’ve hacked it around a bit and the modified example below quite happily shows a regular heartbeat for a SITL instance running on the same machine.  Suggest you use diff to see the changes I’ve made to your NavControl.cpp Note that this is just hackery to get something that works "
281,Heartbeat not received regularly & compare positions,10,"My code sends MAVLink messages to MAVProxy via UDP. Everything is working fine but I don’t receive heartbeat signals from MAVProxy regularly. Sometimes I run the code and it doesn’t receive any heartbeat message from MAVProxy. Sometimes I run the code and it receives two or three heartbeats in 2 minutes. My program sends heartbeat message every second.  I tried calling the function that receive messages from MAVProxy every 1000 ms, 500 ms and 100 ms. I think I should receive heartbeat in regular basis, right? The other point is, I send SET_POSITION_TARGET_LOCAL_NED to make the copter fly 10 meters North for example. How can I check if the copter reached its destination. I tried comparing NED and INT positions before sending the command and afterwards but this doesn’t look like the right way to do that. Is there some other way?",Many thanks Peter for your time. I really appreciate your help
282,"Xplane 10, Xplane-heli, SITL and Mission Planner Problem",1,"Hello people! I am trying to run SITL with Xplane’s Bell Ranger and Mission Planner, following carefully the instructions and video from * given here  * With Mission Planner version 1.3.48 build 1 and SITL’s Arducopter 3.6 dev, I was not able to successfully run the SITL - at least not everything.  Connection with Xplane (v 10.51 r2, via Steam) was good I was at least able to get to AltHold and Loiter and have the helicopter somewhat loitering / hovering (horrible swaying but it stayed aloft). I’m using the param file from here http://uav.tridgell.net/XPlane/   The problem comes when I tried to get the helicopter into AUTO mode, it stubbornly refuses - throwing up errors like “Failsafe: Terrain Data Missing” and then disarm (even though I’ve disabled the param TERRAIN_ENABLE) and “Missing Takeoff Cmd” (even though I’ve included a takeoff command). I’ve also tried a few things:  With the exact same setup, I was able to get SITL to work with Xplane’s SITL. Getting into Auto and running the mission wasn’t a problem. Flew beautifully. Get the heli up in the air Loitering and then switch to auto - however, error “Failsafe: Terrain Data Missing” comes up I tried running exact version of MIssion Planner in Tridge’s video here https://www.youtube.com/watch?v=JNNSoMrAFn4 and older MP versions as well, BUT mission planner still downloaded ArduCopter 3.6 dev ; same problem persisted I tried looking around for way to change MP’s SITL firmware version but to no avail.  Could someone point to a direction that I can debug or figure out? I’ve kinda ran out of options here. Thank you! OngTianChangYonah *  Flight Mode Change Failed Error  *  Flight Mode Change Failed Error due to Missing Takeoff Cmd  *  Failsafe: Terrain Data Missing error  *  The sample flight plan that I’m using  *  Flight Plan received confirmation  *  Loiter Hover at 71 meters with no issue ","If it can fly Loiter mode then it should also be able to fly AUTO. My guess is that the mission hasn’t been uploaded correctly to the virtual vehicle.  From MP’s flight planner screen try downloading the mission (i.e. Read WPS button) and make sure it’s just what you expect. For example, the “mission takeoff” error messages clearly means the first mission command is not a takeoff. The “missing terrain data” is most often caused by the altitude type for the mission commands is set to “Terrain” although in the screen shot above it’s pretty clearly “Relative” so I can’t explain that except to think maybe you haven’t pushed the “Write WPs” button… although that seems unlikely."
282,"Xplane 10, Xplane-heli, SITL and Mission Planner Problem",2,"Hello people! I am trying to run SITL with Xplane’s Bell Ranger and Mission Planner, following carefully the instructions and video from * given here  * With Mission Planner version 1.3.48 build 1 and SITL’s Arducopter 3.6 dev, I was not able to successfully run the SITL - at least not everything.  Connection with Xplane (v 10.51 r2, via Steam) was good I was at least able to get to AltHold and Loiter and have the helicopter somewhat loitering / hovering (horrible swaying but it stayed aloft). I’m using the param file from here http://uav.tridgell.net/XPlane/   The problem comes when I tried to get the helicopter into AUTO mode, it stubbornly refuses - throwing up errors like “Failsafe: Terrain Data Missing” and then disarm (even though I’ve disabled the param TERRAIN_ENABLE) and “Missing Takeoff Cmd” (even though I’ve included a takeoff command). I’ve also tried a few things:  With the exact same setup, I was able to get SITL to work with Xplane’s SITL. Getting into Auto and running the mission wasn’t a problem. Flew beautifully. Get the heli up in the air Loitering and then switch to auto - however, error “Failsafe: Terrain Data Missing” comes up I tried running exact version of MIssion Planner in Tridge’s video here https://www.youtube.com/watch?v=JNNSoMrAFn4 and older MP versions as well, BUT mission planner still downloaded ArduCopter 3.6 dev ; same problem persisted I tried looking around for way to change MP’s SITL firmware version but to no avail.  Could someone point to a direction that I can debug or figure out? I’ve kinda ran out of options here. Thank you! OngTianChangYonah *  Flight Mode Change Failed Error  *  Flight Mode Change Failed Error due to Missing Takeoff Cmd  *  Failsafe: Terrain Data Missing error  *  The sample flight plan that I’m using  *  Flight Plan received confirmation  *  Loiter Hover at 71 meters with no issue ","I’ve reproduced the issue with AUTO mode, and I’ll look at a fix. I have found a workaround though - change your AHRS_EKF_TYPE to 2 and you can takeoff in AUTO fine. EKF 10 works fine once you are flying, but there is a bug (related to EKF origin I think) that stops an AUTO takeoff."
282,"Xplane 10, Xplane-heli, SITL and Mission Planner Problem",3,"Hello people! I am trying to run SITL with Xplane’s Bell Ranger and Mission Planner, following carefully the instructions and video from * given here  * With Mission Planner version 1.3.48 build 1 and SITL’s Arducopter 3.6 dev, I was not able to successfully run the SITL - at least not everything.  Connection with Xplane (v 10.51 r2, via Steam) was good I was at least able to get to AltHold and Loiter and have the helicopter somewhat loitering / hovering (horrible swaying but it stayed aloft). I’m using the param file from here http://uav.tridgell.net/XPlane/   The problem comes when I tried to get the helicopter into AUTO mode, it stubbornly refuses - throwing up errors like “Failsafe: Terrain Data Missing” and then disarm (even though I’ve disabled the param TERRAIN_ENABLE) and “Missing Takeoff Cmd” (even though I’ve included a takeoff command). I’ve also tried a few things:  With the exact same setup, I was able to get SITL to work with Xplane’s SITL. Getting into Auto and running the mission wasn’t a problem. Flew beautifully. Get the heli up in the air Loitering and then switch to auto - however, error “Failsafe: Terrain Data Missing” comes up I tried running exact version of MIssion Planner in Tridge’s video here https://www.youtube.com/watch?v=JNNSoMrAFn4 and older MP versions as well, BUT mission planner still downloaded ArduCopter 3.6 dev ; same problem persisted I tried looking around for way to change MP’s SITL firmware version but to no avail.  Could someone point to a direction that I can debug or figure out? I’ve kinda ran out of options here. Thank you! OngTianChangYonah *  Flight Mode Change Failed Error  *  Flight Mode Change Failed Error due to Missing Takeoff Cmd  *  Failsafe: Terrain Data Missing error  *  The sample flight plan that I’m using  *  Flight Plan received confirmation  *  Loiter Hover at 71 meters with no issue ",I’ve pushed a fix to master. Auto now works again with EKF 10
282,"Xplane 10, Xplane-heli, SITL and Mission Planner Problem",4,"Hello people! I am trying to run SITL with Xplane’s Bell Ranger and Mission Planner, following carefully the instructions and video from * given here  * With Mission Planner version 1.3.48 build 1 and SITL’s Arducopter 3.6 dev, I was not able to successfully run the SITL - at least not everything.  Connection with Xplane (v 10.51 r2, via Steam) was good I was at least able to get to AltHold and Loiter and have the helicopter somewhat loitering / hovering (horrible swaying but it stayed aloft). I’m using the param file from here http://uav.tridgell.net/XPlane/   The problem comes when I tried to get the helicopter into AUTO mode, it stubbornly refuses - throwing up errors like “Failsafe: Terrain Data Missing” and then disarm (even though I’ve disabled the param TERRAIN_ENABLE) and “Missing Takeoff Cmd” (even though I’ve included a takeoff command). I’ve also tried a few things:  With the exact same setup, I was able to get SITL to work with Xplane’s SITL. Getting into Auto and running the mission wasn’t a problem. Flew beautifully. Get the heli up in the air Loitering and then switch to auto - however, error “Failsafe: Terrain Data Missing” comes up I tried running exact version of MIssion Planner in Tridge’s video here https://www.youtube.com/watch?v=JNNSoMrAFn4 and older MP versions as well, BUT mission planner still downloaded ArduCopter 3.6 dev ; same problem persisted I tried looking around for way to change MP’s SITL firmware version but to no avail.  Could someone point to a direction that I can debug or figure out? I’ve kinda ran out of options here. Thank you! OngTianChangYonah *  Flight Mode Change Failed Error  *  Flight Mode Change Failed Error due to Missing Takeoff Cmd  *  Failsafe: Terrain Data Missing error  *  The sample flight plan that I’m using  *  Flight Plan received confirmation  *  Loiter Hover at 71 meters with no issue ","Tridge, this workaround works. We are seeing a lot of “Bad Accel” and “Bad Gyros” but auto now works. I am also able to fly in AUTO with AHRS_EKF_TYPE set to 10."
283,Simulated drone with pixhawk only,0,"Hello, I have to create a simulated drone based on the ardupilot architecture using as an hardware only the pixhawk : all the devices that are supposed to be connected on the pixhawk will be simulated, and the simulated drone created with the simulated elements will work with the arducopter code within the pixhawk. So it’s a work of hardware in the loop (HITL) as you can see. So in order to simulate the usual components of the pixhawk, I’m using mission planner (APM) software to arm my pixhawk and make it able to send PWM signals (for example) on the main outputs, usually sent to ESCs to control motors. In my case, I’m reading those PWM on an arduino MEGA, in order to write a code that will simulate the motors of the drone (I’m not gonna simulate it only with the arduino, I’m gonna use a Raspberry Pi for that, but first of all, I just need to read the PWM signals from the pixhawk, htat’s why I’m using an arduino here) Now the problem is that I can’t read anything on my arduino, the pixhawk is completely silent. It has been armed with mission planner even if there is no devices on it, so if I’m using a joystick to make the simulated drone fly and send PWM signals on the Main outputs of my pixhawk, I should be able to see something on the serial port of my arduino, but all I can get is a serie of zeros, making sure that I am not receiving what I want. I don’t know what I can do to make sure first of all that my pixhawk work correctly and give me the signals it is supposed to send. Can anyone help me please ?",
284,No way to get autotest.py running,1,"Hi everybody ¡, I’ve been looking for a solution for several days, but I’m not able to fix it. I’ve install all stuff related to ArduPilot, following, step-by-step this two guides from a clean installation of ubuntu 14.04: 1- * 2- * Today I’ve install again from scratch, so I should be up-to-date. The point is, when I try to run autotest.py whith arducopter: ./Tools/autotest/autotest.py build.ArduCopter fly.ArduCopter --map I’m getting this error:  Traceback (most recent call last): File “./Tools/autotest/autotest.py”, line 497, in run_tests if not run_step(step): File “./Tools/autotest/autotest.py”, line 304, in run_step return arducopter.fly_ArduCopter(binary, viewerip=opts.viewerip, use_map=opts.map, valgrind=opts.valgrind, gdb=opts.gdb) File “/home/diego/ardupilot/Tools/autotest/arducopter.py”, line 969, in fly_ArduCopter sitl = util.start_SITL(binary, wipe=True, model=frame, home=home, speedup=speedup_default) File “/home/diego/ardupilot/Tools/autotest/pysim/util.py”, line 219, in start_SITL child = pexpect.spawn(first, rest, logfile=sys.stdout, encoding=ENCODING, timeout=5) TypeError: init() got an unexpected keyword argument 'encoding’ check step:  fly.ArduCopter  I’d be really gratefull if anyone can help me.",I’ve fixed it installing pexpect via pip. Thanks.
285,Quad SITL load new ArduCopter build,1,"Hello, I am new here, so this might be a really dumb question. So, I am using the Beaglebone Black with the BBBmini cape. I have written a new mode inside of Ardupilot, and I have successfully loaded into that mode with Mission Planner. But, before I take off, I would like to test the new mode in the simulation. The problem is when I type ‘mode’ in SITL, the mode doesn’t show up. I am thinking that SITL is loading another build of ArduCopter instead of my build. Is there anyway to make SITL use my build of ArduCopter with the custom mode? The reason I think I wrote the mode correctly is that I was able to boot up the Beaglebone Black, run Ardupilot there, connect with Mission Planner, and switch into the mode. But I am new at this, so I could be completely wrong. Any help is greatly appreciated.","* I think this is the part where you are confused. I’m 99.9% certain that you are typing that into MAVProxy. Since you haven’t changed it to have your new mode, it won’t show up. You can still change to your mode if you give it the number (e.g. mode 25)."
286,Flightgear does not work with,1,"Hello everybody I want to simulate different control strategies using MavProxy, APM Planner 2 and Flightgear, based on the Arducopter controller. I followed basically the instructions presented here: * which are explained pretty well. Instead of using a virtual machine on windows, I used only ubuntu 14.04. I can simulate without problem, that is, APM Planner 2 and MacProxy connect and work well. However, when I try to finally use Flightgear with them both, following those instructions (executing firstly Flightgear, the so called “Manual way” in the manual), I got this in the terminal: Enabling ATI viewport hack Cannot find splash screen file 'Aircraft/arducopter/arducopter.jpg'. Using default. environment init Nasal runtime error: nil used in numeric context   at /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 25   called from: /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 32   called from: /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 39   called from: /usr/share/games/flightgear/Nasal/globals.nas, line 105 Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN I try then to open MavProxy and APM Planner, and they both work! However, Flightgear doesn’t do anything and its terminal keeps on throwing those errors. I tried also to execute Flightgear and MavProxy at the same time by adding to copter.sh: cd cd ardupilot/Tools/autotest ./fg_quad_view.sh & that is, the “Automatic way”, but with similar results. Does anybody have a clue what I am doing wrong? I googled it, but I did not get anyway to solve this. Thanks a lot in advance!",Have you had any luck with this?  I am having the same problem and have not been able to find a solution.
286,Flightgear does not work with,2,"Hello everybody I want to simulate different control strategies using MavProxy, APM Planner 2 and Flightgear, based on the Arducopter controller. I followed basically the instructions presented here: * which are explained pretty well. Instead of using a virtual machine on windows, I used only ubuntu 14.04. I can simulate without problem, that is, APM Planner 2 and MacProxy connect and work well. However, when I try to finally use Flightgear with them both, following those instructions (executing firstly Flightgear, the so called “Manual way” in the manual), I got this in the terminal: Enabling ATI viewport hack Cannot find splash screen file 'Aircraft/arducopter/arducopter.jpg'. Using default. environment init Nasal runtime error: nil used in numeric context   at /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 25   called from: /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 32   called from: /home/pablo/ardupilot/Tools/autotest/aircraft/arducopter/quad.nas, line 39   called from: /usr/share/games/flightgear/Nasal/globals.nas, line 105 Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN Error in ground network. Failed to find first waypoint: 0 at YBBN I try then to open MavProxy and APM Planner, and they both work! However, Flightgear doesn’t do anything and its terminal keeps on throwing those errors. I tried also to execute Flightgear and MavProxy at the same time by adding to copter.sh: cd cd ardupilot/Tools/autotest ./fg_quad_view.sh & that is, the “Automatic way”, but with similar results. Does anybody have a clue what I am doing wrong? I googled it, but I did not get anyway to solve this. Thanks a lot in advance!","yes，I have a same problem,this is my situation and my operation,have you done with this problem? "
287,Helicopter SITL simulation in Xplane,1,"Hello everybody. When I had spare I tried to make some simulation of default RC helicopter in Xplane. But he acts so unnatural. . When he tries to make a turn on the point he will somehow pass the point but he cant keep direction for yaw. Bell’s Helicopter looks nice with given parameter file from tridge site. So should I try to make pids better or it is some kind of problem with RC model? Best regards, Nikita.","It might be too late for an answer for you but maybe my insights will help someone in the future, It has been over a year since I’ve been doing SITL in Xplane but from what I remember the helicopter models were behaving very unnatural. Most of them felt like modified fixed wing models (especially at higher speeds). I never tried the parameters from Tridge site, if I was still working with xPlane I would definitely give them a go. The most realistic helicopter in terms of handling I managed to find was *. There are some drawbacks for using this model as an RC though:  It’s huge, so I bet it will react differently than RC model would It’s quite easy to put too mach torque on the engine and crash  Out of curiosity: did you find any suitable model yet?"
287,Helicopter SITL simulation in Xplane,2,"Hello everybody. When I had spare I tried to make some simulation of default RC helicopter in Xplane. But he acts so unnatural. . When he tries to make a turn on the point he will somehow pass the point but he cant keep direction for yaw. Bell’s Helicopter looks nice with given parameter file from tridge site. So should I try to make pids better or it is some kind of problem with RC model? Best regards, Nikita.","Hello, I tried to start with parameteres from Tridge site. After some modifications, it became more natural, but I need to work more."
288,Question about state of SITL/HITL,1,"Hi all! I read a bit docs on SITL *. Can anyone of you tell me if all the docs related to SITL/HITL up to date? Is it possible to use SITL with jmavsim? Is there anything in particular that you think could be improved in SITL? The reason I’m asking is that I think it would be a good starting point for me to start contributing to development of ArduPilot, especially given that I have quite some experience in developing HITL simulations. Cheers, Mateusz","Jmavsim is designed to be used with the PX4 flight software. I’ve not heard of anyone using it with APM - it might work. The SITL docs are up-to-date. HIL may be a bit out of date, as people don’t tend to use it (compared to SITL anyway)."
288,Question about state of SITL/HITL,2,"Hi all! I read a bit docs on SITL *. Can anyone of you tell me if all the docs related to SITL/HITL up to date? Is it possible to use SITL with jmavsim? Is there anything in particular that you think could be improved in SITL? The reason I’m asking is that I think it would be a good starting point for me to start contributing to development of ArduPilot, especially given that I have quite some experience in developing HITL simulations. Cheers, Mateusz","hummm … I would say that some docs are oudated (port mismatch, undocumented feature, etc)…and HITL is broken on every vehicle …"
289,"No GPS fix , nor no HDOP ,using SITL hint welcome",1,"I am using an old version of ardupilot 3.2.1 I am trying to use the SITL , I am able to get the console , the map , and also connect it to Mission Planner. but the hdop is at zero , no drone on screen , and no GPS FIX. any hint where I should look for ? is it a problem with the pysim? , the sitl code ? , or mavproxy ? best Itay",Does MAVProxy show a GPS lock and position? Is Mission Planner connecting to the correct IP and port?
289,"No GPS fix , nor no HDOP ,using SITL hint welcome",2,"I am using an old version of ardupilot 3.2.1 I am trying to use the SITL , I am able to get the console , the map , and also connect it to Mission Planner. but the hdop is at zero , no drone on screen , and no GPS FIX. any hint where I should look for ? is it a problem with the pysim? , the sitl code ? , or mavproxy ? best Itay","No it didn’t , the problem was that due to dos unix suffix , the sim_multicopter code didn’t work . problem solved , thanks !"
290,Sim_vehicle.py cannot pass through on Windows 7,1,"Hello, I followed the instruction of Setting up SITL on Windows. Everything looks good until I run it. When I run sim_vehicle.py, it says “The project was not configured: run “waf configure” first!” and stopped. The details of the messages are copied below. Could you advise how to solve the problem? Thanks very much. xql@ITW8026220 ~/ardupilot/ArduCopter $ sim_vehicle.py -j4 --map SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Setting top to                           : /home/xql/ardupilot Setting out to                           : /home/xql/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for need to link with librt     : SIM_VEHICLE: Building SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” “-j” ""4"" The project was not configured: run “waf configure” first! SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks xql@ITW8026220 ~/ardupilot/ArduCopter","Can you try to remove -j4 and see if it works? It should be waiting for waf configure to end, but apparently it isn’t."
290,Sim_vehicle.py cannot pass through on Windows 7,2,"Hello, I followed the instruction of Setting up SITL on Windows. Everything looks good until I run it. When I run sim_vehicle.py, it says “The project was not configured: run “waf configure” first!” and stopped. The details of the messages are copied below. Could you advise how to solve the problem? Thanks very much. xql@ITW8026220 ~/ardupilot/ArduCopter $ sim_vehicle.py -j4 --map SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Setting top to                           : /home/xql/ardupilot Setting out to                           : /home/xql/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for need to link with librt     : SIM_VEHICLE: Building SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” “-j” ""4"" The project was not configured: run “waf configure” first! SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks xql@ITW8026220 ~/ardupilot/ArduCopter","Thanks for the suggestion. I removed -j4, but the error is exactly the same."
290,Sim_vehicle.py cannot pass through on Windows 7,3,"Hello, I followed the instruction of Setting up SITL on Windows. Everything looks good until I run it. When I run sim_vehicle.py, it says “The project was not configured: run “waf configure” first!” and stopped. The details of the messages are copied below. Could you advise how to solve the problem? Thanks very much. xql@ITW8026220 ~/ardupilot/ArduCopter $ sim_vehicle.py -j4 --map SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Setting top to                           : /home/xql/ardupilot Setting out to                           : /home/xql/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for need to link with librt     : SIM_VEHICLE: Building SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” “-j” ""4"" The project was not configured: run “waf configure” first! SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks xql@ITW8026220 ~/ardupilot/ArduCopter","I can’t explain why the error is presenting itself like that, but (and I’m sorry I didn’t remember this earlier) right now you can’t build SITL in Windows with waf. I plan to correct that in the coming weeks. In the meantime you need to use make. So, you have to add the option --build-system=make to the sim_vehicle script. Are you using Cygwin?"
290,Sim_vehicle.py cannot pass through on Windows 7,4,"Hello, I followed the instruction of Setting up SITL on Windows. Everything looks good until I run it. When I run sim_vehicle.py, it says “The project was not configured: run “waf configure” first!” and stopped. The details of the messages are copied below. Could you advise how to solve the problem? Thanks very much. xql@ITW8026220 ~/ardupilot/ArduCopter $ sim_vehicle.py -j4 --map SIM_VEHICLE: Start SIM_VEHICLE: Killing tasks SIM_VEHICLE: Starting up at -35.363261,149.165230,584,353 (CMAC) SIM_VEHICLE: WAF build SIM_VEHICLE: Configure waf SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “configure” “–board” ""sitl"" Setting top to                           : /home/xql/ardupilot Setting out to                           : /home/xql/ardupilot/build Autoconfiguration                        : enabled Setting board to                         : sitl Checking for ‘g++’ (C++ compiler)        : /usr/bin/g++ Checking for ‘gcc’ (C compiler)          : /usr/bin/gcc Checking for need to link with librt     : SIM_VEHICLE: Building SIM_VEHICLE: “/home/xql/ardupilot/modules/waf/waf-light” “build” “–target” “bin/arducopter” “-j” ""4"" The project was not configured: run “waf configure” first! SIM_VEHICLE: Build failed SIM_VEHICLE: Killing tasks xql@ITW8026220 ~/ardupilot/ArduCopter","After adding the option “–build-system=make” to sim_vehicle.py script, the simulator works! Thank you very much."
291,Simulations steps if modifying code,1,"Hi I’m looking at a copter project with some friends. We are thinking of adding an external utility, with a uart communication. We would like to add some logic to control it from the pixhawk’s pilot. This means some modifications to the code. What we are not sure about is how we make sure the modifications to the pilot won’t crush it. I see that there are SITL and HITL options, but these test mainly the pilot navigation and control. We are more worried of OS problems’ like what would happen if we cause an overflow in the uart driver, and that would crash the entire pilot program. Is there a way to fully simulate a flight, that would make the entire pixhawk be simulated, including the OS, drivers, etc? PS what actually happens if the main STM controller simply restarts during flight?","Hey, I’m new here, but currently working on a capstone project using the ArduCopter software, so I may be off base here but if you’re looking for a simulator to go with the SITL setup, they have a tutorial for linking to FlightGear, an open source flight simulator. The SITL simulates the flight fully, including OS, drivers, etc if I understand it correctly and the simulator will give you a visual. You can find the tutorial here: * If you want to test the capabilites of the pixhawk hardware though, I would think you need to go the HITL route since your pc would probably be able to handle much more than the pixhawk hardware and so may not give an accurate result. Again, I’m new here so I may be off but this seemed similar to what I’m working on so hopefully this helps. Good Luck, Chris"
292,"""Disarming motors"" when in mission auto mode",0,"Hello, I am now developing based on Copter-3.5 and testing the auto mission function with APM Planner v2.0. In SITL mode, I can command take-off and fly to a GPS waypoint in guided mode in APM. However, I tried to add a few more waypoints and loaded in the MAVProxy with the following commands: wp load …/Tools/autotest/ArduPlane-Missions/mission.txt arm throttle mode AUTO The mission text file is as below: QGC WPL 110 0	1	0	16	0	0	0	0	-35.3632621765136719	149.165237426757812	584.09002685546875	1 1	0	3	16	0	0	0	0	-35.3636940785166303	149.164912104606628	20	1 2	0	3	16	0	0	0	0	-35.3636328333309535	149.165684580802917	20	1 3	0	3	20	0	0	0	0	-35.3636328333309535	149.165684580802917	20	1 Then the AMP came out the “Disarming motors” message. May I know what is the reason here? Thanks. Regards, Eric",
293,[Missino Planner] SITL with external waypoints,0,"Hi, I’ve set up an Arduino to calculate waypoints and send it over to my drone within a MAVLINK-command (TELEM2-port on Pixhawk, Arducopter V3.3). The drone now is controlled by the arduino if the flight mode is set as “GUIDED” via the RC. Now I want to simulate the correct positions. For this, I want to use the simulation that is implemented in Mission Planner as I can observe the drone’s position on a map. My question is: Can I simulate external waypoint commands with the Mission-Planner simulation tool? When I tried it the first time it just used the “Go here”-commands I made with mouse clicks, but no reaction on the Arduino-commands. If no: Is there another possibility to test this function (Simulate the drones movement on a map by reading the input commands from the arduino)? I don’t want to test it with running hardware as it should not crash into buildings etc. when something fails here… Thanks and kind regards, Armin",
294,Unable to build SITL (on Windows),1,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance",What compiler are you using to compile on Windows?
294,Unable to build SITL (on Windows),2,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance","Sorry for the long wait, holiday season and all. Unfortunately I will not have access to the machine I was using until January 1st. But I was trying to build using the latest version of the pixhawk toolchain, which came with a version of GCC. I cannot verify the exact version of GCC right now, but since it was supplied in the toolchain I assumed It should work as it is?"
294,Unable to build SITL (on Windows),3,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance","SITL isn’t compiled with the compiler of the toolchain, it needs a native compiler, not a cross-compilation one like the one in the toolchain is."
294,Unable to build SITL (on Windows),4,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance","Ah, that would explain why I could compile the Copter firmware without any problem but not the SITL. How would you suggest I proceed then?"
294,Unable to build SITL (on Windows),5,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance",You need to figure out what compiler you are using and probably you need to update it.
294,Unable to build SITL (on Windows),6,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance","Sorry for the long inactivity period, as I said I did not have access to the machine I was using until today. I have since updated the GCC version, so I am now using GCC 5.3.0. The error I mentioned above (not recognizing ‘-std=gnu++11’) is gone. However, I am still unable to build sitl, with new error regarding undeclared methods showing up. More specifically, it cannot find the strtok_r and the isnan methods. I have done some quick digging and found some answers, regarding this, but they simply suggest *. Apparently these methods are not defined in mingw. Although I can certainly do that, I’d prefer not to (might be some work, since I don’t know in how many files they are used, and I’d rather be sure I am using the correct method instead of copying some code from other source). Is there other fix around this issue?"
294,Unable to build SITL (on Windows),7,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance",Fixed: built using Cygwin instead of the mingw supplied with the toolchain
294,Unable to build SITL (on Windows),8,"I am using the Copter 3.4.3 source code. I am able to compile the copter firmware (for firmware) using the pixhawk toolchain, both with make and eclipse. However, I am unable to build sitl. The error is as follows cc1plus.exe: error: unrecognized command line option ‘-std=gnu++11’ Any ideas? Thanks in advance","Interesting that mingw doesn’t have those methods. The Pixhawk toolchain was made exactly for that, compiling for the Pixhawk, so I’m not surprised that it doesn’t work for SITL. I think everyone compiling SITL in Windows does it with Cygwin instead of trying natively."
295,Connecting through telem2 in SITL,1,"I am working on an application running on a companion computer. In the real thing, this application receives telemetry data from pixhawk (they are connected through a USB cable connected to the Telem2 port), and sends commands (eg: change flight mode) the same way. This is working as intended. What I can’t seem to figure out is how to do the same in SITL?","I am sorry for starting this thread: just found the answer in * For anyone else interested, adding the arguments -A ""–uartC=uart:/dev/ttyS7"" when running sim_vehicle.py did the job (in this case it’s connection telem2 to COM8)"
296,Fault in SITL using a real radio input (3DR),1,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","There’s a good reference on the Mavlink protocol here: * As far as I can see, Wireshark doesn’t support the 900/433 MHz telemetry radios. You could use Wireshark to look at the TCP/UDP connections - that would be possible."
296,Fault in SITL using a real radio input (3DR),2,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","If you use sitl with mavproxy (by default when using sim_vehicle.py) you can add --out=/dev/ttyUSB0,57600 to the command line to say to mavproxy to output drone mavlink to /dev/ttyUSB0 . Then plug your 3dr radio on your pc, find on which port and adapt /dev/ttyUSB0 to your port and 57600 to the baurate you have set on radio (default to 57600) . And done ! You can control sitl with 3dr radio !"
296,Fault in SITL using a real radio input (3DR),3,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",I will try it. This is my stage: Do you think that i can reproduce it?
296,Fault in SITL using a real radio input (3DR),4,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","My current status is as follows:   Launch STIL with the following command: sudo ~/ardupilot/Tools/autotest/sim_vehicle.py -j4 -L SEV --out=/dev/ttyUSB0 --map --console   I connect MAVlink to SITL, everything seems to go well   After a few minutes the connection is ronped and SITL stops working   Any idea what may be going on?"
296,Fault in SITL using a real radio input (3DR),5,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","You shouldn’t need to use sudo to launch SITL.  I suspect your doing this as your user doesn’t have access to the dialout group which is needed to accss ttyUSB0.  Better just to add your user to that group via sudo adduser  dialout Just to confirm the GCS on the left in your picture above is connecting to the SITL instance running on the right initially and working and then after a while the connection drops out? Which GCS are you running?  MAVProxy?  If so once its started type set moddebug 2 and when the link drops out you should get some more information that might help. Thanks, Grant."
296,Fault in SITL using a real radio input (3DR),6,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","Hi Grant, Thanks for your answer! The situation is the following: I can connect my GCS (MissionPlanner running in Windows) to SITL. 3DR led status: Green LED solid - link is established with another radio & Red LED flashing - transmitting data. The GCS downloads the parameters, but after a few seconds the radio connected to SITL stops responding. The red LED is off and although the gcs continues to send data SITL doesn’t respond. Now, I have discovered that the problem is in SITL or in Ubuntu. In the same scenario, I have turned off the gcs and have re-launched SITL. (Attached terminal capture) The problem is the same, I can use SITL vía MAVLink ok radio led red and green blinking, afer a few seconds red led off, green blinking and the SITL doesn´t work… if I type mode auto for example it does nothing. What can i do now?? thanks in advance! Sorry for my english, I know it’s not the best. Jose"
296,Fault in SITL using a real radio input (3DR),7,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",Can it be virtual machine problem? I’m using VM VirtualBox
296,Fault in SITL using a real radio input (3DR),8,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",It could be ! Did you have install Extension Pack and guest additionals ?
296,Fault in SITL using a real radio input (3DR),9,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",I have everything installed but virtual machine is an option… It is very strange that it works well for a time and suddenly stops transmitting Do you know who has developed SITL? Maybe he can help me
296,Fault in SITL using a real radio input (3DR),10,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",Could you help me? thanks in advance
296,Fault in SITL using a real radio input (3DR),11,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",Have you tried to test this outside of a virtual machine?
296,Fault in SITL using a real radio input (3DR),12,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance",Hi Francisco! I’m waiting for anoder laptop. I think I’ll have it this week. Have you ever worked with SITL using real radios? Just to know if it is possible the environment that I intend to build to my study. I’m from spain. I am doing my thesis on UAV communications. I am very grateful for your help Francisco. Thanks!
296,Fault in SITL using a real radio input (3DR),13,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","No, I haven’t used it but people from the dev team have, so I’m sure that it worked (there can be some recent bug that we aren’t aware of, but as far as I know nothing changed there recently). Once you get your new laptop test it without the virtual machine  so that we are sure the issue isn’t there (I use them a lot and I know sometimes it is a pain to get network issues fixed)."
296,Fault in SITL using a real radio input (3DR),14,"Hi, I want to study the mavlink protocol link via radio, using 3DR 433/900 MHz radio kit. I have thought about using the SITL simulator to capture frames and to study the link more easily without having to use a real drone. I know how to use the SITL via USP and TCP but I do not know if it is possible to use as a command input a serial port. Can I read MAVLink packages with wireshark? Do you know any similar study that I can use as a reference? I’ve been looking but I can not find anything. Could you help me? Thanks in advance","Thank you Francisco, I will write as soon as I have any progress. I appreciate your help"
297,Custom SITL Simulator,1,"Hi,  I am new to the forum and working with APM.  I am looking to build my very own simulation and integrate it in to the current system.  There is a function called “Update” in the SIM_Multicopter.cpp file under libraries/SITL that I am going to look to replace with my own version.  I am going to wrap up my simulation in a dll(which I already have done) and I would like to drop it into the system.  From some things I have read online I should be able to use a .dll with cygwin (yes, I am on windows).  I am having a hard time figuring out the makefile setup and where I need to add linkage to my dll.  Can anyone help point me in the right direction for this problem?? Thanks, -K",The arducopter sitl is a very simple built in simulation environment. I was looking to tackle the same problem you are having a few weeks ago so I have created my own sim which I then struggled to figure out how to connect to ardupilot sitl. It was a week worth of work but I have finally gotten it working. Screenshot: * My sim is using a 3d engine and bullet physics engine for copter body simulation. I had to modify the sitl code to get it out of the way. My sim backend is here: * One problem I had was that update delay when using udp socket was seriously messing up my simulation but i have solved it by using shared memory (on linux). Source code for the sim is here: * This will give you all the information you need to get it working on your end.
297,Custom SITL Simulator,2,"Hi,  I am new to the forum and working with APM.  I am looking to build my very own simulation and integrate it in to the current system.  There is a function called “Update” in the SIM_Multicopter.cpp file under libraries/SITL that I am going to look to replace with my own version.  I am going to wrap up my simulation in a dll(which I already have done) and I would like to drop it into the system.  From some things I have read online I should be able to use a .dll with cygwin (yes, I am on windows).  I am having a hard time figuring out the makefile setup and where I need to add linkage to my dll.  Can anyone help point me in the right direction for this problem?? Thanks, -K",Does anyone know where to find out what equations of motion were used in the standard SITL? Before building my own environment I would like to better understand how the team developed theirs.
298,Multirotor in SITL won't hold alt in loiter and other modes,1,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","Update: Still no luck, but here is what I’ve tried. I changed the parameters of the orbit from 20 deg/s to 5 deg/s and from a 10 meters (1000cm) radius to a 100 meter radius. When commanding circle mode with these variables I am able to see the copter start flying the circle as described, but it loses altitude the whole time. I tried changing the SITL frame type from “X” to “Plus” which had no effect."
298,Multirotor in SITL won't hold alt in loiter and other modes,2,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","I don’t have data flash logs, but I now have Telemetry Logs! Just prior to this I reset parameters to default, and turned off arm checks. If you playback the log you’ll see: [ul]Takeoff in guided mode Go into circle mode, lose altitude rapidly Go into guided mode, stop losing altitude Go into Alt Hold mode, lose altitude rapidly Go into guided mode, stop losing altitude Go into Loiter mode, lose altitude rapidly[/ul]"
298,Multirotor in SITL won't hold alt in loiter and other modes,3,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","Even if people don’t have a solution or helpful hints, if you know that the sim works on your own machine could you let me know?"
298,Multirotor in SITL won't hold alt in loiter and other modes,4,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","Hi there, I’m having exactly the same problem as the one you are describing. This guy here seems to have solved a similar problem: * However I’m pretty new to this so I’m not sure exactly what he means by the failsafe. Have you had any luck resolving it yet?"
298,Multirotor in SITL won't hold alt in loiter and other modes,5,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","Hey there, If you’re still having problems I have found that to resolve this you can first enter the command in MAVProxy ‘rc 3 1500’ to simulate input from the pilot because in these modes the pilot controls the altitude. After this, there shouldn’t be any problems when changing to loiter, circle etc."
298,Multirotor in SITL won't hold alt in loiter and other modes,6,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","Earendil, I have got the same problem. I found the reason is that RC3 set to 1100. It can be solved in this way, after takeoff in guided mode,  send ‘rc3 1500’ to set throttle to 1500, then change mode to loiter, the altitude will be hold."
298,Multirotor in SITL won't hold alt in loiter and other modes,7,"First post, sorry for any toes I step on in this learning process. First off, here is the base information. Please let me know if I can provide anything else. Versions: Mission Planner 1.3.31 build 1.1.5696.33420 APM: Copter V3.4-dev (bc26eaab) The symptoms: Take off and guided mode work great. As soon as I command a mode of “Loiter”, the vehicle starts losing altitude until it hits the ground. I have only been able to save it from crashing by putting it back into Guided mode. The same symptoms also occur in AltHold and Circle. I’m aware that all three of these modes are highly related, so I’m assuming the same problem is effecting all of them. The only thing I’ve found online that might fix this has to do with setting the Throttle Mid Position. The SITL defaults to 500, but the vehicle hovers at about 42% throttle. So, I set the mid point to 420, but that had no effect. In an attempt to test the limits, I then proceeded to set the mid throttle at it’s lowest value (300) in hopes that the vehicle would climb instead of drop. No luck, the vehicle continues to lose altitude. Clues: This same behavior appears when controlling with MavProxy. Can anyone provide me some clues or keywords here? I’ve exhausted my google search terms, and need a point in the right direction. Thank you so very much for any time you spend reading or replying to my post! Side comments: I attempted to record logs, but the tutorial * didn’t work, and the one linked to * comes up as 404. Everything else I’ve found is geared towards hardware. I’ll happily provide logs if someone can point me to a tutorial for the SITL.","I am having this same issue and wonder if there is a more complete resolution. I have sent the command “rc 3 1500” and that seems to take care of the loss of altitude problem. I can now enter loiter and circle mode. However, the CIRCLE_RADIUS parameter seems to be ignored. I have tried multiple values for this parameter and the best I have been able to achieve is for the craft to hold altitude and spin in place. Any additional info regarding how to implement a workable circle will be appreciated."
299,About ROS/Gazebo Simulator with SITL?,1,"After so many days i started understanding about the whole pipeline and after fixing bugs that came during set up, today i just find out that the page (*) has been removed and replaced with (*). Can someone please share the earlier page with me.","Hi, You can find the old page here : *"
299,About ROS/Gazebo Simulator with SITL?,2,"After so many days i started understanding about the whole pipeline and after fixing bugs that came during set up, today i just find out that the page (*) has been removed and replaced with (*). Can someone please share the earlier page with me.","Thanks, Also there is some issue with Mavros mavros/libmavconn/src/interface.cpp The definition of function mavlink_finalize_channel doesn’t match with its function calls in ros/indigo/Mavlink due to which it gives error /home/mandeep/catkin_ws/src/mavros/libmavconn/src/interface.cpp:89:28: error: too few arguments to function ‘uint16_t mavlink_finalize_message_chan(mavlink_message_t*, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t, uint8_t)’ mavlink_crcs[msg.msgid]); In file included from /opt/ros/indigo/include/mavlink/v1.0/ardupilotmega/…/protocol.h:85:0, from /opt/ros/indigo/include/mavlink/v1.0/ardupilotmega/ardupilotmega.h:30, from /opt/ros/indigo/include/mavlink/v1.0/ardupilotmega/mavlink.h:33, from /home/mandeep/catkin_ws/src/mavros/libmavconn/include/mavconn/mavlink_dialect.h:56, from /home/mandeep/catkin_ws/src/mavros/libmavconn/include/mavconn/interface.h:38, from /home/mandeep/catkin_ws/src/mavros/libmavconn/src/interface.cpp:22: /opt/ros/indigo/include/mavlink/v1.0/ardupilotmega/…/mavlink_helpers.h:68:25: note: declared here MAVLINK_HELPER uint16_t mavlink_finalize_message_chan(mavlink_message_t* msg, uint8_t system_id, uint8_t component_id, ^ make[2]: *** [mavros/libmavconn/CMakeFiles/mavconn.dir/src/interface.cpp.o] Error 1 make[1]: *** [mavros/libmavconn/CMakeFiles/mavconn.dir/all] Error 2 make[1]: *** Waiting for unfinished jobs… It has taken lot of my time"
300,Best solution to ROS/Gazebo Simulator with SITL?,1,"Hi, I’ve a working simulation in Gazebo using ros default hector_gazebo. I’d like to switch to mavros/arducopter/sitl to prepare real world execution. My goal is to add a kinect to allow 3D perception. But I’m quite confuse of which way to follow. I had give a try to FlytSim and it was easy but part it don’t work and they don’t update it. It’s not open source so we can’t correct it. I saw * that seems really good but since then people continue to refer to the old wiki * but it’s an old code I also saw this pull request : * in the main branch. Can someone tell me the best way to begin in the right direction who will be supported by the community ?","The PR you mention is the way to follow. Actually, gazebo sitl works on apm side (except for multiple instance but that is comming). The pluggin on gazebo side is in review, so we should get native gazebo support when the pluggin will be merge . But today ETA is unknown. I can assist you if you want to install gazebo from source to use it. It is not complicated but a little long."
300,Best solution to ROS/Gazebo Simulator with SITL?,2,"Hi, I’ve a working simulation in Gazebo using ros default hector_gazebo. I’d like to switch to mavros/arducopter/sitl to prepare real world execution. My goal is to add a kinect to allow 3D perception. But I’m quite confuse of which way to follow. I had give a try to FlytSim and it was easy but part it don’t work and they don’t update it. It’s not open source so we can’t correct it. I saw * that seems really good but since then people continue to refer to the old wiki * but it’s an old code I also saw this pull request : * in the main branch. Can someone tell me the best way to begin in the right direction who will be supported by the community ?","Thank you. Could you give me some guidelines ?  I’ve to clone the official Ardupilot repository https://github.com/ArduPilot/ardupilot  I’ve to clone the official Gazebo repository https://bitbucket.org/osrf/gazebo  Build Gazebo following http://gazebosim.org/tutorials?tut=install_from_source&cat=install  How to get the “plugin on gazebo side” ? What to put in my ros workspace, the same as in Using ROS/Gazebo Simulator with SITL   I will be glad to document it after success."
300,Best solution to ROS/Gazebo Simulator with SITL?,3,"Hi, I’ve a working simulation in Gazebo using ros default hector_gazebo. I’d like to switch to mavros/arducopter/sitl to prepare real world execution. My goal is to add a kinect to allow 3D perception. But I’m quite confuse of which way to follow. I had give a try to FlytSim and it was easy but part it don’t work and they don’t update it. It’s not open source so we can’t correct it. I saw * that seems really good but since then people continue to refer to the old wiki * but it’s an old code I also saw this pull request : * in the main branch. Can someone tell me the best way to begin in the right direction who will be supported by the community ?",The ardupilot plugin is under review here: * It’s in the ardupilot branch: *
300,Best solution to ROS/Gazebo Simulator with SITL?,4,"Hi, I’ve a working simulation in Gazebo using ros default hector_gazebo. I’d like to switch to mavros/arducopter/sitl to prepare real world execution. My goal is to add a kinect to allow 3D perception. But I’m quite confuse of which way to follow. I had give a try to FlytSim and it was easy but part it don’t work and they don’t update it. It’s not open source so we can’t correct it. I saw * that seems really good but since then people continue to refer to the old wiki * but it’s an old code I also saw this pull request : * in the main branch. Can someone tell me the best way to begin in the right direction who will be supported by the community ?","OK, thank you, I will use ardupilot gazebo branch."
301,Having Trouble running the sim on ArchLinux,1,"Greetings! This is my first post here and unfortunately it is because I am having trouble with the ArduCopter Simulator. I am running Arch Linux and I’ve been trying to get the SITL ArduCopter simulator working on this system. I have been following * from * which also links to * from *. Both of these guides are written for Debian based linux systems and hence only provide Debian package names when listing dependencies. I have done my best to hunt down each of the dependencies and install the Arch equivalent. I run into issues when i execute the simulator via sim_vehicle.sh. It appears that several modules are not loading properly when the script is run. What i find odd however is the doesn’t appear to be any “fatal” errors that kill the simulator, but rather the program arrives at the terminal input and simply does nothing. *  is a link to pastebin with my terminal output. In addition to this, there are two xTerm windows that are opened each time the simulator is launched. One is titled “Simulator”. It’s output is linked *. The other is titled “ardupilot”. It’s output is linked *. Thank you in advance for reading my post, I look forward to any help and advice you can offer.","Hello, I recently switched over to Arch and was wondering if you have had any luck with this? Mine seems to be an issue with python2 vs python3 I tried to use a virtualenv which seemed to work up until this point"
301,Having Trouble running the sim on ArchLinux,2,"Greetings! This is my first post here and unfortunately it is because I am having trouble with the ArduCopter Simulator. I am running Arch Linux and I’ve been trying to get the SITL ArduCopter simulator working on this system. I have been following * from * which also links to * from *. Both of these guides are written for Debian based linux systems and hence only provide Debian package names when listing dependencies. I have done my best to hunt down each of the dependencies and install the Arch equivalent. I run into issues when i execute the simulator via sim_vehicle.sh. It appears that several modules are not loading properly when the script is run. What i find odd however is the doesn’t appear to be any “fatal” errors that kill the simulator, but rather the program arrives at the terminal input and simply does nothing. *  is a link to pastebin with my terminal output. In addition to this, there are two xTerm windows that are opened each time the simulator is launched. One is titled “Simulator”. It’s output is linked *. The other is titled “ardupilot”. It’s output is linked *. Thank you in advance for reading my post, I look forward to any help and advice you can offer.","Nevermind I got it now, it did work with the virtual env I didn’t have pip2 so I was installing things to the python3 directories"
302,"SITL connection problem (MavProxy, Mission Planner)",1,"Hi, I successfully launch SITL, even managed to control it via Android tablet. However, I fail to connect to it via local app like MavProxy or MissionPlanner. In MavProxy I enter ""mavproxy.exe --master tcp:127.0.0.1:5760"" Error response: “Failed to connect to tcp:127.0.0.1:5760 : [Errno 10061]” which means that SITL rejected connection. In MissionPlanner via TCP I got same error, UDP hangs forever I also tried MissionPlanner 1.2.90 - same result. Win 7RC1 Vagrant 1.8 ArduCopter 3.4-dev  Mission Planner 1.3.39 MavProxy 1.5 Firewall disabled",try --connect tcp:127.0.0.1:5763
303,Unable to load Ardupilot in Eclipse IDE,0,"I was able to build the code using the ‘make’ command by following the website instructions. I can also run the simulation (SITL). Next, I’d like to load the code either in Eclipse (given that there are a couple of files in the code with the name eclipse). But I am not able to do so. When I try the option ‘Checkout project from Git’, I get a message (after a few steps) that ‘Some or all projects cannot be imported because they are already in the workspace’. I don’t understand what does that mean. Does anyone know which ones are the project files? Can the code be loaded into Eclipse? I am not a C/C++ expert, so any help will be appreciated. Thanks.",
304,Physics based copter simulator,0,"I have started development of a new sim frontend for the SITL backend. It is simulating the copter as a rigid body in the bullet physics engine. I have finally gotten a stable simulation with all sensors being sent correctly to the copter - including positioning data and compass. Tested autotune, poshold, alt_hold and stabilize modes - work great. This code can serve as an example for how to build a custom simulator for the sitl backend. Also, since it uses irrlicht engine for rendering, you can easily load a large number of mesh formats and even quake 3 maps to fly in (see screenshots). Also, since it is using a physics engine, it is possible to have environments that are physically interactive. Do not expect much from the code right now. It is a development experiment and not intended for novice users right now. It is a research project right now but you are free to clone it and improve on it. Screenshots: * * * * SITL module: * SITL cmdline: …/Tools/autotest/sim_vehicle.sh -S 1 -f physim --console --map Source code: *",
305,Install SITL on mac,1,I am trying to install SITL on a macbook but the instructions that are given are for linux or windows. I installed brew and pip and tried to install some of the required dependencies. I am stuck on wxPython which doesn’t seem to build (the dmg file also won’t install) on 64 bit system. Don’t know if there is any alternative. Can someone give complete set of instructions to install SITL on a mac system?,"Well, this link was working a couple of days ago, I got SITL running on my Mac with the help of these interactions… hopefully the links will work soon. *  The Author is Daniel McKinnon Dec 30, 2015."
305,Install SITL on mac,2,I am trying to install SITL on a macbook but the instructions that are given are for linux or windows. I installed brew and pip and tried to install some of the required dependencies. I am stuck on wxPython which doesn’t seem to build (the dmg file also won’t install) on 64 bit system. Don’t know if there is any alternative. Can someone give complete set of instructions to install SITL on a mac system?,I reached the point where the terminal writes “waiting to connect…” how I can proceed next? Thanks
306,"Control, Navigation, and Obstacle Avoidance Simulation",0,"Hello everyone, I have put together some fairly comprehensive tutorials and videos covering control system design, simulation, and implementation through 3d mapping, path planning, and navigation.   How to mathematically model your aircraft, design control systems, and write a custom flight controller *   Developing basic control systems and waypoint navigation systems using the Robot Operating System (ROS) and simulating FPV flight (I use this for demos where I can’t fly but can let guests fly a simulated quad using an Xbox controller on my computer) *   Using a simulated Kinect sensor to create a 2D map of the environment, then using that map for autonomous path planning and obstacle avoidance. *   Same as above but creating a 3D map and developing 3D trajectories for the quadrotor while avoiding obstacles. *   Here are the website tutorials which contain detailed text and images that accompany the videos detailed below. Sample code is also available and explained in detail on the website as well. Specifically, the “Simulation Environment” and “ROS Integration” sub-sections focus on simulation in depth. * Next step is to implement some of these mapping algorithms on a quadrotor and integrating ArduCopter into the simulation environment. Hope others find this useful, Wil Selby",
307,sim_vehicle.sh:Build failed,1,"Hey guys, i downloaded the arducopter firmware, went through the tutorial and added a new flightmode (explained in tutorial on *). Now i wanted to test the SITL (im using a 64 bit linux) but when i want to run the sim_vehicle.sh there are multiple errors of the kind: In file included from /home/matthias/ardupilot/libraries/AP_Math/AP_Math.h:16:0, from /home/matthias/ardupilot/libraries/AP_Common/Location.h:11, from Copter.h:33, from control_rtl.cpp:3: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h: In member function ‘bool Quaternion::is_nan() const’: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h:56:24: error: ‘isnan’ was not declared in this scope return isnan(q1) || isnan(q2) || isnan(q3) || isnan(q4); ^ compilation terminated due to -Wfatal-errors. Can sbdy explain to me why this happens?  Best regards","So change were made for newer toolchain and make command was discontinue in favor of waf build tool. Instead of using sim_vehicule.sh, use sim_vehicule.py . It should build and works!"
307,sim_vehicle.sh:Build failed,2,"Hey guys, i downloaded the arducopter firmware, went through the tutorial and added a new flightmode (explained in tutorial on *). Now i wanted to test the SITL (im using a 64 bit linux) but when i want to run the sim_vehicle.sh there are multiple errors of the kind: In file included from /home/matthias/ardupilot/libraries/AP_Math/AP_Math.h:16:0, from /home/matthias/ardupilot/libraries/AP_Common/Location.h:11, from Copter.h:33, from control_rtl.cpp:3: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h: In member function ‘bool Quaternion::is_nan() const’: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h:56:24: error: ‘isnan’ was not declared in this scope return isnan(q1) || isnan(q2) || isnan(q3) || isnan(q4); ^ compilation terminated due to -Wfatal-errors. Can sbdy explain to me why this happens?  Best regards",Yeah it works again! Thank you for your reply.
307,sim_vehicle.sh:Build failed,3,"Hey guys, i downloaded the arducopter firmware, went through the tutorial and added a new flightmode (explained in tutorial on *). Now i wanted to test the SITL (im using a 64 bit linux) but when i want to run the sim_vehicle.sh there are multiple errors of the kind: In file included from /home/matthias/ardupilot/libraries/AP_Math/AP_Math.h:16:0, from /home/matthias/ardupilot/libraries/AP_Common/Location.h:11, from Copter.h:33, from control_rtl.cpp:3: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h: In member function ‘bool Quaternion::is_nan() const’: /home/matthias/ardupilot/libraries/AP_Math/quaternion.h:56:24: error: ‘isnan’ was not declared in this scope return isnan(q1) || isnan(q2) || isnan(q3) || isnan(q4); ^ compilation terminated due to -Wfatal-errors. Can sbdy explain to me why this happens?  Best regards",Hello khancyr I was having same problem and solved it by adding: EXTRAFLAGS += -DHAVE_CMATH_ISFINITE -DNEED_CMATH_ISFINITE_STD_NAMESPACE -DHAVE_CMATH_ISINF -DNEED_CMATH_ISINF_STD_NAMESPACE -DHAVE_CMATH_ISNAN -DNEED_CMATH_ISNAN_STD_NAMESPACE to board_native.mk. I am now trying waf and I get the following error: Could not find a task generator for the name 'bin/arducopter-firefly’ Thanks in advance
308,Gazebo+SITL drone can't controlled,1,"Hi I was following the *. Gazebo, Mavproxy are started correctly. But I can’t control the drone over mavros. There are topics “mavros/set_point”. I sent message to them to arm throttle and takeoff, while there is no response. So, I tried to takeoff drone through mavproxy command: “mode guided- arm throttle- takeoff 10”. Then, it takes off but cannot balance itself and crashes soon after takeoff. It looks like there are errors with imu feedback so drone cannot balance itself. To summarize, my question is  why drone cannot self balance? how to control the drone via mavros? Any advice appreciated.  Glen","Did you resolve this issue? The exact same thing happens to me, and I have no idea as to why! I even send alt_hold command (while in air, before crash), but it still crashes and burns. I get no error messages. (using ubuntu 14.04, gazebo v 2 (!), ros indigo, vm ware player)"
308,Gazebo+SITL drone can't controlled,2,"Hi I was following the *. Gazebo, Mavproxy are started correctly. But I can’t control the drone over mavros. There are topics “mavros/set_point”. I sent message to them to arm throttle and takeoff, while there is no response. So, I tried to takeoff drone through mavproxy command: “mode guided- arm throttle- takeoff 10”. Then, it takes off but cannot balance itself and crashes soon after takeoff. It looks like there are errors with imu feedback so drone cannot balance itself. To summarize, my question is  why drone cannot self balance? how to control the drone via mavros? Any advice appreciated.  Glen","have u solved this problem? i am encountering the same problem, i don’t know why and how. any suggestions are appreciated!"
308,Gazebo+SITL drone can't controlled,3,"Hi I was following the *. Gazebo, Mavproxy are started correctly. But I can’t control the drone over mavros. There are topics “mavros/set_point”. I sent message to them to arm throttle and takeoff, while there is no response. So, I tried to takeoff drone through mavproxy command: “mode guided- arm throttle- takeoff 10”. Then, it takes off but cannot balance itself and crashes soon after takeoff. It looks like there are errors with imu feedback so drone cannot balance itself. To summarize, my question is  why drone cannot self balance? how to control the drone via mavros? Any advice appreciated.  Glen",I didn’t solve this problem. But I found a guy made it on youtube: * He gave me good advice in comments of this video. It might be helpful for us as well.
308,Gazebo+SITL drone can't controlled,4,"Hi I was following the *. Gazebo, Mavproxy are started correctly. But I can’t control the drone over mavros. There are topics “mavros/set_point”. I sent message to them to arm throttle and takeoff, while there is no response. So, I tried to takeoff drone through mavproxy command: “mode guided- arm throttle- takeoff 10”. Then, it takes off but cannot balance itself and crashes soon after takeoff. It looks like there are errors with imu feedback so drone cannot balance itself. To summarize, my question is  why drone cannot self balance? how to control the drone via mavros? Any advice appreciated.  Glen","Hi, Thanks for your reply. i happened to  seeking help from this nice guy too, from bitbucket,  where the tutorial guides me. He gave me similar advices too, that to move to PX4, instead of using ardupilot. have you worked well with the PX4 project? I think the ardupilot contains the  PX4 as a submodule?"
308,Gazebo+SITL drone can't controlled,5,"Hi I was following the *. Gazebo, Mavproxy are started correctly. But I can’t control the drone over mavros. There are topics “mavros/set_point”. I sent message to them to arm throttle and takeoff, while there is no response. So, I tried to takeoff drone through mavproxy command: “mode guided- arm throttle- takeoff 10”. Then, it takes off but cannot balance itself and crashes soon after takeoff. It looks like there are errors with imu feedback so drone cannot balance itself. To summarize, my question is  why drone cannot self balance? how to control the drone via mavros? Any advice appreciated.  Glen","I just started work with PX4 project. My understanding is PX4 is upgrade version of ardupilot. It’s easier to use. In ardupilot, I always meets mag uncalibrated problems, caused its EKF algorithm which make sensors too much sensitive to noise. In PX4, I never meet this probelm."
309,How to control drone in Gazebo ？,1,"As is suggested in the document, a joystick is required, however i currently do not have such a joystick? is there a way to arm and set fly_mode using keyboard on command line? Thank you for your response","hi, Yes you can with mavros * . Alex Buyval made sometime ago a keyboard teleop in python : *"
309,How to control drone in Gazebo ？,2,"As is suggested in the document, a joystick is required, however i currently do not have such a joystick? is there a way to arm and set fly_mode using keyboard on command line? Thank you for your response","thanks for your advises I think Alex’s kbteleop is a solution, as you mentioned."
310,Build issue when starting SITL,0,I am currently experiencing the following problem when trying to start SITL. Looks like make cannot find the right target to build. Could anyone help me with this ? sim_vehicle.sh -W ~/ardupilot/user ~ Building sitl make: *** No rule to make target ‘sitl’.  Stop. make: *** No rule to make target ‘clean’.  Stop. make: *** No rule to make target ‘sitl’.  Stop. /home/user/ardupilot/Tools/autotest/sim_vehicle.sh: Build failed,
311,"""dirname: missing operand"" issue when starting SITL",1,"I’m having a issues trying to get a setup SITL on ubuntu 15.10. I am following this wiki (*). However, when I got everything ready and try to start SITL, I got an error message “dirname: missing operand”. I attached the full terminal output below. Could anyone help me on this please ? ./sim_vehicle.sh -w dirname: missing operand Try ‘dirname --help’ for more information. ./sim_vehicle.sh: line 323: pushd: no other directory Failed to change to vehicle directory for Usage: sim_vehicle.sh [options] [mavproxy_options] Options: -v VEHICLE vehicle type (ArduPlane, ArduCopter or APMrover2) vehicle type defaults to working directory -I INSTANCE instance of simulator (default 0) -V enable valgrind for memory access checking (very slow!) -G use gdb for debugging ardupilot -g use gdb for debugging ardupilot, but don’t auto-start -D build with debugging -B add a breakpoint at given location in debugger -T start an antenna tracker instance -A pass arguments to SITL instance -t set antenna tracker start location -L select start location from Tools/autotest/locations.txt -l set the custom start location from -L -c do a make clean before building -N don’t rebuild before starting ardupilot -w wipe EEPROM and reload parameters -R reverse throttle in plane -M enable MAVLink gimbal -f FRAME set aircraft frame type for copters can choose +, X, quad or octa for planes can choose elevon or vtail -b BUILD_TARGET override SITL build target -j NUM_PROC number of processors to use during build (default 1) -H start HIL -S SPEEDUP set simulation speedup (1 for wall clock time) -d TIME delays the start of mavproxy by the number of seconds mavproxy_options: –map start with a map –console start with a status console –out DEST start MAVLink output to DEST Note: eeprom.bin in the starting directory contains the parameters for your simulated vehicle. Always start from the same directory. It is recommended that you start in the main vehicle directory for the vehicle you are simulating, for example, start in the ArduPlane directory to simulate ArduPlane","Fine. This problem is caused by the following lines of code. pushd $VEHICLEDIR || {     echo ""Failed to change to vehicle directory for $VEHICLEDIR""     usage     exit 1 } Somehow, it could be solved by manually creating a folder matching $VEHICLEDIR. Really weird issue."
312,"Sitl on windows: mavproxy say ""No link""",0,"I followed the guide to install the SITL on windows. When I wrote the command “sim_vehicle.sh -j4 --map”,  mavproxy started, but he can not communicate very well with SITL. Mavproxy  initialize itself very slowly and   writes  continuously “link 1 Ok” and ""link down 1"" One line every 2 seconds. Thank you",
313,Simulation: Cygwin Terminal do not open,0,Hi Like described at the following page (*) i’ve downloaded Cygwin Terminal. Cygwin do not open: a massage like “there is no link: search of mintty. Search manually…” How can i solve the problem and install correctly? Thnak’you.,
314,Asking how to set compass for plane on mission planner,0,"just now i set compass on mission planner. on quick configure parameter, i’ve choosen APM n external compass, then, i click live calibration but it doesn’t appear white dots. is there any mistake, coz i dont know the first face position to configure live calibration, i’ve succesed on setting accel calibration, n continue to compass, but really i got difficulty…",
315,"""sim_vehicle.sh -j4 --map"" not working",1,I’m using * to set up SITL on my computer. I have gotten to the section “Running SITL and MAVProxy.” I have followed all of the instructions up to this point. When I type in “sim_vehicle.sh -j4 --map” Cygwin tells me the command is not found. I don’t know what to do. Please advise.,"For anyone interested in the discussion, we’ve progressed this a bit here: *"
315,"""sim_vehicle.sh -j4 --map"" not working",2,I’m using * to set up SITL on my computer. I have gotten to the section “Running SITL and MAVProxy.” I have followed all of the instructions up to this point. When I type in “sim_vehicle.sh -j4 --map” Cygwin tells me the command is not found. I don’t know what to do. Please advise.,"In my case, this message appeared after apply command “sim_vehicle.sh -j4 --map”: C:/Users/Grazziani/home/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduPlane.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ failed make: *** [/tmp/ArduPlane.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (arquivo core criado) make: *** Deleting file '/tmp/ArduPlane.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ make: ** Esperando que outros processos terminem. /cygdrive/c/Users/Grazziani/home/ardupilot/Tools/autotest/sim_vehicle.sh: Build failed Somebody know what’s this problem? Hug."
316,Failure to make sitl on Winodws,1,"I’m trying to build the ArduCopter by following the instructions here: * On the make sitl -j4 step, errors occur… … Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/common Copying fixed headers C:/cygwin/home/derek/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopte                    r.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ fail                    ed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardu                    pilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mav                    link/v1.0/ardupilotmega/mavlink.h’ I’m stuck… any suggestion for how to get this to build or look for errors? I’ve rebuild the tool chain twice in different locations and get the same error ;( Thanks in advance for any help you can provide.",I am also having this issue as well.
316,Failure to make sitl on Winodws,2,"I’m trying to build the ArduCopter by following the instructions here: * On the make sitl -j4 step, errors occur… … Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/common Copying fixed headers C:/cygwin/home/derek/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopte                    r.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ fail                    ed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardu                    pilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mav                    link/v1.0/ardupilotmega/mavlink.h’ I’m stuck… any suggestion for how to get this to build or look for errors? I’ve rebuild the tool chain twice in different locations and get the same error ;( Thanks in advance for any help you can provide.",That makes at least 5 of us… What you describe looks to be the same symptoms that myself and two others are experiencing:
316,Failure to make sitl on Winodws,3,"I’m trying to build the ArduCopter by following the instructions here: * On the make sitl -j4 step, errors occur… … Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAV                    Link/include/mavlink/v1.0/common Copying fixed headers C:/cygwin/home/derek/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopte                    r.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ fail                    ed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardu                    pilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mav                    link/v1.0/ardupilotmega/mavlink.h’ I’m stuck… any suggestion for how to get this to build or look for errors? I’ve rebuild the tool chain twice in different locations and get the same error ;( Thanks in advance for any help you can provide.",NB: this was raised as * on the project’s github page. There is a workaround posted there that you can use to get SITL working again.
317,"Major problem when installing ""SITL"" on Windows",1,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]",Any help pls  ?
317,"Major problem when installing ""SITL"" on Windows",2,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]","I am  following the same instructions and getting the same error. I have previously had SITL working on my Windows 7 computer, usable with the MAVProxy Console, Mission Planner and Tower. Yesterday I fired it up for the first time in a month or two, and it no longer worked. So I updated MAVProxy (v1.4.38, successful), updated cygwin (successful), recreated the local ardupilot git repository (successful) and attempted to rebuild: To my untrained eye this looks like the make command tries to make modules that initially aren’t present, so it calls git to download them, tells the user to restart the build, and produces the “CHECK_MODULES” error. When I retry the build, I get the following, along the same lines as hfai2016: Besides the many warnings about various messages being longer than 64 bytes (is this a problem?), the main errors appear to be the third-to-last and second-to-last lines of the make command output. My PATH variable is correct; it includes the /ardupilot/Tools/autotest directory. Am also unsure how to proceed."
317,"Major problem when installing ""SITL"" on Windows",3,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]","I think I’m having the same problem when using sim_vehicle.sh in Windows. These are the steps I followed: $ sim_vehicle.sh -j4 --map ~/ardupilot/arducopter ~/ardupilot/arducopter Building sitl Checking modules echo ""Generating MAVLink headers…"" Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/casa/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/casa/ardupilot/modules/mavlink/ PYTHONPATH=/home/casa/ardupilot/modules/mavlink/ python /home/casa/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 --output=/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml // BUILDROOT=/tmp/arducopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""417176c0"" Validating /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Validating /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers C:/cygwin/home/casa/ardupilot/mk/mavgen.mk:9: fallo en las instrucciones para el objetivo '/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ make: *** [/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) [Núcleo vaciado a un archivo] make: *** Se borra el archivo '/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ make: *** Se espera a que terminen otras tareas… echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/casa/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/casa/ardupilot/modules/mavlink/ PYTHONPATH=/home/casa/ardupilot/modules/mavlink/ python /home/casa/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 --output=/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Validating /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml // BUILDROOT=/tmp/arducopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""417176c0"" Parsing /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Validating /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/casa/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers C:/cygwin/home/casa/ardupilot/mk/mavgen.mk:9: fallo en las instrucciones para el objetivo '/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ make: *** [/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) [Núcleo vaciado a un archivo] make: *** Se borra el archivo '/tmp/arducopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ make: *** Se espera a que terminen otras tareas… /home/casa/ardupilot/Tools/autotest/sim_vehicle.sh: Build failed"
317,"Major problem when installing ""SITL"" on Windows",4,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]",I think removing the “-j4” would be a good thing to try.  I always run SITL on an Ubuntu virtual machine on my Windows box.  There are instructions on how to do that on the developer wiki.  SITL is suppose to work on Windows but I haven’t personally tried it.
317,"Major problem when installing ""SITL"" on Windows",5,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]",I’ve tried removing -j4 but the result is still the same
317,"Major problem when installing ""SITL"" on Windows",6,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]","Thanks rmackay9. I tried rebuilding from scratch and omitting the “-j4” switch, with the exact same results. SITL did work on Windows previously… I don’t know why it isn’t working now. It’s such a useful tool and I want it back! I’ll consider using a Linux VM as a last resort, but would prefer the native Windows stuff to work."
317,"Major problem when installing ""SITL"" on Windows",7,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]","I retried again this evening, completely reinstalling cygwin and MAVProxy, which had updated to 1.4.40. I had the same errors. Has the code been refactored into modules recently? If so, my suspicion is that this is where the problem lies - at least on Windows. In the past, I don’t recall there being any mention of modules when building, and certainly no errors - module-related or otherwise. Do these errors point to the cause(s) of the problem? [ul] [li]C:/cygwin/home/user/ardupilot/mk/modules.mk:8: recipe for target ‘CHECK_MODULES’ failed[/li] [li]make: *** [CHECK_MODULES] Error 1[/li] [li]C:/cygwin/home/user/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ failed[/li] [li]make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped)[/li][/ul]"
317,"Major problem when installing ""SITL"" on Windows",8,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]",I have the same problem!  Has anyone found a solution?
317,"Major problem when installing ""SITL"" on Windows",9,"I got the following Error: Could anyone help please? [code]HFAI@PC ~/ardupilot/ArduCopter $ git clone git://github.com/diydrones/ardupilot.git Cloning into ‘ardupilot’… remote: Counting objects: 144648, done. remote: Compressing objects: 100% (59/59), done. remote: Total 144648 (delta 29), reused 0 (delta 0), pack-reused 144589 Receiving objects: 100% (144648/144648), 74.98 MiB | 99.00 KiB/s, done. Resolving deltas: 100% (103620/103620), done. Checking connectivity… done. Checking out files: 100% (2253/2253), done. HFAI@PC ~/ardupilot/ArduCopter $ make sitl -j4 echo ""Generating MAVLink headers…"" Checking modules Generating MAVLink headers… #goto mavlink module directory and run the most recent generator script echo “Generating C code using mavgen.py located at” /home/HFAI/ardupilot/modules/mavlink/ Generating C code using mavgen.py located at /home/HFAI/ardupilot/modules/mavlink/ PYTHONPATH=/home/HFAI/ardupilot/modules/mavlink/ python /home/HFAI/ardupilot/modules/mavlink//pymavlink/tools/mavgen.py --lang=C --wire-protocol=1.0 -                              -output=/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0 /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.                              xml // BUILDROOT=/tmp/ArduCopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""e78595                              bf"" Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/ardupilotmega.xml Note: message DATA64 is longer than 64 bytes long (74 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air transf                              er unit. Note: message DATA96 is longer than 64 bytes long (106 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air trans                              fer unit. Note: message REMOTE_LOG_DATA_BLOCK is longer than 64 bytes long (214 bytes), which can cause fragmentation since many radio modems use 64 bytes as ma                              ximum air transfer unit. Validating /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Parsing /home/HFAI/ardupilot/modules/mavlink//message_definitions/v1.0/common.xml Note: message GPS_STATUS is longer than 64 bytes long (109 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message ATTITUDE_QUATERNION_COV is longer than 64 bytes long (76 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message GLOBAL_POSITION_INT_COV is longer than 64 bytes long (193 bytes), which can cause fragmentation since many radio modems use 64 bytes as                               maximum air transfer unit. Note: message LOCAL_POSITION_NED_COV is longer than 64 bytes long (237 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIGHRES_IMU is longer than 64 bytes long (70 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air t                              ransfer unit. Note: message HIL_SENSOR is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tr                              ansfer unit. Note: message SIM_STATE is longer than 64 bytes long (92 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message FILE_TRANSFER_PROTOCOL is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as m                              aximum air transfer unit. Note: message HIL_STATE_QUATERNION is longer than 64 bytes long (72 bytes), which can cause fragmentation since many radio modems use 64 bytes as maxi                              mum air transfer unit. Note: message LOG_DATA is longer than 64 bytes long (105 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air tra                              nsfer unit. Note: message GPS_INJECT_DATA is longer than 64 bytes long (121 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message SERIAL_CONTROL is longer than 64 bytes long (87 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum ai                              r transfer unit. Note: message ENCAPSULATED_DATA is longer than 64 bytes long (263 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximu                              m air transfer unit. Note: message RESOURCE_REQUEST is longer than 64 bytes long (251 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message CONTROL_SYSTEM_STATE is longer than 64 bytes long (108 bytes), which can cause fragmentation since many radio modems use 64 bytes as max                              imum air transfer unit. Note: message AUTOPILOT_VERSION is longer than 64 bytes long (68 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum                               air transfer unit. Note: message V2_EXTENSION is longer than 64 bytes long (262 bytes), which can cause fragmentation since many radio modems use 64 bytes as maximum air                               transfer unit. Merged enum MAV_CMD Found 176 MAVLink message types in 2 XML files Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega Generating C implementation in directory /tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/common Copying fixed headers D:/SOS/ArduPilot/Cygwin/home/HFAI/ardupilot/mk/mavgen.mk:9: recipe for target ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupi                              lotmega/mavlink.h’ failed make: *** [/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h] Aborted (core dumped) make: *** Deleting file ‘/tmp/ArduCopter.build/libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/mavlink.h’ [/code]",This was raised as * on the project’s github page. There is a workaround posted there that you can use to get SITL working again.
318,Unread post Simulation,1,"I’m trying to use SITL in Windows to simulate arducopter. I’ve followed the instructions to install SITL and everything seems to be ok. However, when I activate SITL I can not see information in the console window such as altitude, airspeed and so on. I’ve tried to throttle the copter (mode guided;arm throttle; takeoff 40) but nothing happens. Next, you can see a screen shoot. Does anybody know what’s happening?",after it fails to start look at the log using: cat /tmp/ardupilot.log that may give you a hint
319,Run EKF using custom log data,1,"Hello, I have been exploring the code base and SITL but I haven’t found what I am looking for so that’s why I post here. What I want to do is feed my own data to the EKF implementation of ardupilot. It seems to be the best open source implementation around. My data is of the form of IMU measurements and GPS updates (with the IMU measurements having a higher frequency than the GPS updates). How would I run a simulation where the sensor data is taken from my custom log file? What I am interested in is to see how the EKF fuses the measurements of GPS and IMU. I don’t necessarily want to visualize it using the map provided by SITL, I would just want to have the adjusted positions and velocities as a text output. Apologies if this is the wrong place to post.","Hi I am trying to solve the same problem. I had some success using the code in * However, there was some drift between the output from this code and the original estimates on the dataflashlog. This happened perhaps because of data format mismatch between the flash logs from my latest firmware and the input format of this code (although I tried do the appropriate modifications). Hope this might be helpful to you. Wondering if you had any progress getting the custom log data run through the EKF in the main code base. Thanks"
319,Run EKF using custom log data,2,"Hello, I have been exploring the code base and SITL but I haven’t found what I am looking for so that’s why I post here. What I want to do is feed my own data to the EKF implementation of ardupilot. It seems to be the best open source implementation around. My data is of the form of IMU measurements and GPS updates (with the IMU measurements having a higher frequency than the GPS updates). How would I run a simulation where the sensor data is taken from my custom log file? What I am interested in is to see how the EKF fuses the measurements of GPS and IMU. I don’t necessarily want to visualize it using the map provided by SITL, I would just want to have the adjusted positions and velocities as a text output. Apologies if this is the wrong place to post.","I will be sure to update if I manage to resolve it. The main problem seems to be getting the filter to accept the GPS measurements. My moving objects are on land, so there’s less danger of strange GPS measurements crashing the system. I looked at the github you sent, it seems to require in addition to GPS, IMU and MAG (which I have) also NTUN and ATT messages which I don’t have. Can I do without them? The attitude is what I’m trying to compute with the EKF."
320,Got a problem with setting up SITL on Linux,1,I followed this tutorial step by step: * but when I run sim_vehicle.sh by doing so: $ sim_vehicle.sh --console --map --aircraft test And there goes the information: Biulding sitl fatal: ambiguous argument ‘HEAD’: unknown revision or path not in the working tree. Anyone can help me fix that ? Thanks.,"Just to give you a pointer (because I don’t know what the problem is), but this error seems to be coming from git."
320,Got a problem with setting up SITL on Linux,2,I followed this tutorial step by step: * but when I run sim_vehicle.sh by doing so: $ sim_vehicle.sh --console --map --aircraft test And there goes the information: Biulding sitl fatal: ambiguous argument ‘HEAD’: unknown revision or path not in the working tree. Anyone can help me fix that ? Thanks.,"I was having trouble getting the joystick to work with SITL and found this post =>  * JNJO01  has a guide , though a bit old, on RCgroups that is worth reading. Over the past year I’ve tried about half a dozen times to set up SITL+ JSBSim without success… Guess 7th time 's the charm.      Now to try and get FlightGear working with SITL…"
321,Install SITL problem,0,"I followed the instructions in * I am able to make px4-v2 The paths are set correctly in .bashrc export PATH=$PATH:$HOME/ardupilot/Tools/autotest However, make sitl -j4 generates the following error: $ make sitl -j4 %% libraries/AP_Common/c++.o %% libraries/AP_Common/AP_Common.o %% libraries/AP_Menu/AP_Menu.o In file included from /home/Me/ardupilot/libraries/AP_Common/c++.cpp:9:0: /home/Me/ardupilot/libraries/AP_HAL/AP_HAL.h:6:21: fatal error: stdbool.h: No such file or directory compilation terminated. C:/cygwin/home/Me/ardupilot/mk/build_rules.mk:27: recipe for target '/tmp/arducopter.build/libraries/AP_Common/c++.o' failed make: *** [/tmp/arducopter.build/libraries/AP_Common/c++.o] Error 1 make: *** Waiting for unfinished jobs.... In file included from /home/Me/ardupilot/libraries/AP_Common/AP_Common.cpp:21:0: /home/Me/ardupilot/libraries/AP_HAL/AP_HAL.h:6:21: fatal error: stdbool.h: No such file or directory compilation terminated. C:/cygwin/home/Me/ardupilot/mk/build_rules.mk:27: recipe for target '/tmp/arducopter.build/libraries/AP_Common/AP_Common.o' failed make: *** [/tmp/arducopter.build/libraries/AP_Common/AP_Common.o] Error 1 // BUILDROOT=/tmp/arducopter.build HAL_BOARD=HAL_BOARD_SITL HAL_BOARD_SUBTYPE=HAL_BOARD_SUBTYPE_NONE TOOLCHAIN=NATIVE EXTRAFLAGS=-DGIT_VERSION=""c52f16b8"" In file included from /home/Me/ardupilot/libraries/AP_Common/AP_Common.h:26:0,                  from /home/Me/ardupilot/libraries/AP_Menu/AP_Menu.cpp:7: /usr/include/stdlib.h:16:20: fatal error: stddef.h: No such file or directory compilation terminated. C:/cygwin/home/Me/ardupilot/mk/build_rules.mk:27: recipe for target '/tmp/arducopter.build/libraries/AP_Menu/AP_Menu.o' failed make: *** [/tmp/arducopter.build/libraries/AP_Menu/AP_Menu.o] Error 1",
322,SITL with Mission Planner,0,"I’ve been playing around with SITL in an Ubuntu computer, and I’d like to use it with Mission Planner on a Windows pc (SITL on linux, MP on Windows). Following the instructions here: * I’ve been able to connect properly, but mission planner just waits for heartbeats until it times out saying “Only 1 Heartbeat Received”. On the linux terminal I only see: * And nothing else happens. Has anyone successfully worked with SITL & Mission Planner? I’m using the latest code in branch Copter-3.3 Thanks Nitay",
323,Custom HIL Program with ROS/Gazebo and Ardupilot,0,"I apologize in advance for the novel, but I want to be as detailed as possible. As I mentioned in the other topic, I am trying to write my own hardware in the loop (HIL) code that makes use of the MAVLINK protocol and a 3DR Pixhawk autopilot (running the ardupilot code). The overall architecture of my system is described in my post on DIY Drones (link and text provided below): * I tried to make the diagram as self explanatory as possible, but I’m not sure its stand-alone so I’ll expand a bit. There are three main pieces: 1) The Pixhawk hardware (and onboard software); 2) A custom middleware that is written in C++ and uses the ROS publish and subscribe architecture; and 3) A Gazebo simulation environment. Overall, the middleware will subscribe to MAVLINK messages from the Pixhawk and will also publish messages to the Pixhawk using a ROS/MAVLINK wrapper. The middleware also handles publishing commands to a simulated quadrotor in the Gazebo environment as well as subscribing to ROS topics from the Gazebo environment that provide the sensor readings necessary for the Pixhawk to generate servo commands. In the above diagram, I have been able to do everything in green successfully—that is, the Gazebo simulation environment is completely functional and I can see HEARTBEAT and SERVO_OUTPUT_RAW messages from the autopilot. Everything in red is either not working or I don’t quite know how to do. Everything in orange is something that I think is correct, but I am not sure if it is working properly or not. I am pretty confident that everything on the right side of the diagram is good to go. Where I am having trouble is the communication between my middleware and the Pixhawk hardware. I outlined the MAVLINK messages that I think are going back and forth between the middleware and the Pixhawk and the rough order of when they occur. Note that the MAVLINK protocol I am referencing is found here: *. To walkthrough what I want to do:   Once connected to the Pixhawk (via a Python script), I listen for a HEARTBEAT messages.   Once a HEARTBEAT message is heard, I want to set the Pixhawk into HIL mode. *   After the message to set the Pixhawk into HIL mode is sent/received, I should be listening for some sort of acknowledgement message, but I just don’t know what that is.   Once in HIL mode, I want to send a waypoint (just one at this point). This is outlined in the “Waypoint Handling” block on the diagram. *   Once the waypoint is written and everything seems good to go, I can start the mission. Again, I am not sure what this would be, but I assume it would be another MISSION_ITEM message just like the message to set into HIL mode in step (2) above.   Now that the mission is started, I will send the HIL_STATE message to the Pixhawk (since we are in HIL mode), which then results in servo commands in the SERVO_OUTPUT_RAW message. This loop continues until I either stop or I guess the waypoint is reached (which I will need to handle as well…)   My thoughts right now are that I need to essentially do the Waypoint Handling block to also set the Pixhawk into HIL mode and to start the mission, but with the different MISSION_ITEM parameters. So to sum up, the problems I am having mostly stem from talking to the Pixhawk. The two main questions I have are:   How do you set the Pixhawk into HIL mode via MAVLINK messages? In other words, I won’t be using a GCS (i.e. Mission Planner or QgroundControl) to set the autopilot into HIL mode, and I am not sure how to do that.   Am I performing the Waypoint handling operations correctly? I can’t seem to get this to work properly…   Any help would be appreciated, and I would be happy to clarify anything written here (I know its a lot to digest). Thanks in advance!",
324,SITL MavProxy over network,0,"Hi, I’m trying to setup SITL using network connection between mavproxy.py and ArduCopter.elf. Is this possible? When i look at the diagram on * then i would say YES, because it’s a normal TCP connection. I have arducopter running in cygwin on my windows 7 system, and want to run mavproxy on raspberry pi which is connected with a direct lan cable (ip setup is configured and working fine). What i find strange is that the –master option of mavproxy states that in case of IP it must be the local computer’s IP address. So you can never connect it to a remote system (to control it) ?? I thought that was the basic idea of a GCS ? Thanks for any insight. Ruud",
325,ArduCopter HIL,0,"Hey guys, Can anyone give me a hand with HIL for ArduCopter? I’ve read on the wiki (*) where HIL worked for ArduCopter 3.2.1. I’ve tried different versions of ArduCopter but I’ve had no luck. I’m trying to work out how to get and test ArduCopter 2.8 as well. I need to get ArduCopter 3.2.1 working because the group that I am working with cannot use a different version. The problem is that the GPS keeps flickering on and off. This can be seen in Mission Planner and ArduCopter goes into a failsafe mode after taking off. I’ve documented what I tried and hopefully this can help someone else. * I am a software developer so if the fix requires looking at code, please let me know where to start looking. Thanks!",
326,Gazebo + SITL setup EPIC FAIL,1,"I went through the whole setup process and fail. I did a bunch of steps more than wiki has. First, don’t try to setup Gazebo in a VirtualBox, make your life easy and do it in a native Ubuntu 14.04 installation. VM adds a lot of GPU virtualization issues, Gazebo needs OpenGL instructions not supported in VirtualBox 5.0.2 with Guest Addition 5.0.2. The only way to run, pretty slow but it runs, Gazebo + Ubuntu 14.04 on VirtualBox is installing mesa utils and adding: apt-get install mesa-utils export LIBGL_ALWAYS_SOFTWARE=1 And then OpenGL error are gone. Trade off is that Gazebo don’t run with GPU acceleration.  After that I follow the Wiki in order to setup catkin workspace for ArduCopter SITL. The issue here was a lot of missing dependencies. Actually every time I did run catkin_make a new unresolved dependency shows up. At catkin_ws/src I did install bunch more packages and dependencies: git clone * git clone * git clone * git clone * git clone * And then others ROS packages: sudo apt-get install ros-indigo-octomap sudo apt-get install ros-indigo-octomap-msgs sudo apt-get install ros-indigo-octomap-ros After that If your are lucky catkin_make will work… or not Other Issue I did found was that alexbuyval/rotors_simulator repo fork adds missing planning_msgs at catkin_make compilation time. In the other hand PX4/rotors_simulator original repo compiles just fine. But there is no quadX450_empty_world.launch in PX4 fork. Well I did try PX4 repo just check out if it compiles. Of course it wont work at run time because of missing adX450_empty_world. Anyway before I could run simulator… There are a couple of missing steps: Install pip and then MAVProxy sudo apt-get install python-pip python-dev build-essential sudo pip install --upgrade pip sudo pip install --upgrade pymavlink MAVProxy Then the wiki says run: sim_vehicle.sh -f arducopter_sitl_ros --console But it wont work because on alexbuyval/ardupilot fork there is no auto vehicle detection based on directory in sim_vehicle.sh so you need to run instead: sim_vehicle.sh -v ArduCopter -f arducopter_sitl_ros --console So I’m still fighting to get this setup done. By the way there is a VM image Ubuntu 14.04+ROS Indigo/Gazebo on internet  it would be a good starting point for many of you. * Been a while trying… long long time, and then I did fix missing planning_msgs removing both refrences from rotors_simulator/rotors_gazebo_plugins/CMakeLists.txt seems those reference were not needed. Now catkin_male runs up to 73% then compilation FAILS, error message: /home/viki/catkin_ws/src/rotors_simulator/rotors_gazebo/src/waypoint_publisher.cpp:24:40: fatal error: mav_msgs/CommandTrajectory.h: No such file or directory #include <mav_msgs/CommandTrajectory.h> Seems like alexbuyval’s mav_comm version is different from * Mar 19 they renamed CommandTrajectory to CommandTrajectoryPositionYaw at pull #14 * I did try downgrade ethz-asl/mav_comm to v1.0.0 where CommandTrajectory wasn’t changed yet… but it triggers a new set of compilation fails. So I give up… I need alexbuyval’s mav_comm in order to continue So many hours trying… ","Well, I did clean catkin_ws, fresh start from 0 After some git cloning, got this content at catkin_src drwxrwxr-x  5 viki viki 4096 Aug 30 10:31 arducopter_sitl_ros drwxrwxr-x 11 viki viki 4096 Aug 30 10:32 ar_track_alvar drwxrwxr-x  4 viki viki 4096 Aug 30 10:39 ar_track_alvar_msgs drwxrwxr-x  5 viki viki 4096 Aug 30 10:38 catkin_simple lrwxrwxrwx  1 viki viki   49 Aug 30 10:26 CMakeLists.txt -> /opt/ros/indigo/share/catkin/cmake/toplevel.cmake drwxrwxr-x  5 viki viki 4096 Aug 30 10:37 glog_catkin drwxrwxr-x  5 viki viki 4096 Aug 30 10:37 mav_comm drwxrwxr-x  7 viki viki 4096 Aug 30 10:32 mavros drwxrwxr-x 10 viki viki 4096 Aug 30 10:31 rotors_simulator Running catkin_camke I got: viki@c3po:~/catkin_ws$ catkin_make Base path: /home/viki/catkin_ws Source space: /home/viki/catkin_ws/src Build space: /home/viki/catkin_ws/build Devel space: /home/viki/catkin_ws/devel Install space: /home/viki/catkin_ws/install Running command: “make cmake_check_build_system” in “/home/viki/catkin_ws/build” – Using CATKIN_DEVEL_PREFIX: /home/viki/catkin_ws/devel – Using CMAKE_PREFIX_PATH: /opt/ros/indigo – This workspace overlays: /opt/ros/indigo – Using PYTHON_EXECUTABLE: /usr/bin/python – Using Debian Python package layout – Using empy: /usr/bin/empy – Using CATKIN_ENABLE_TESTING: ON – Call enable_testing() – Using CATKIN_TEST_RESULTS_DIR: /home/viki/catkin_ws/build/test_results – Found gtest sources under ‘/usr/src/gtest’: gtests will be built – Using Python nosetests: /usr/bin/nosetests-2.7 – catkin 0.6.9 – BUILD_SHARED_LIBS is on – ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ – ~~  traversing 18 packages in topological order: – ~~  - catkin_simple – ~~  - glog_catkin – ~~  - mav_comm (metapackage) – ~~  - libmavconn – ~~  - rotors_description – ~~  - rotors_model – ~~  - rotors_simulator (metapackage) – ~~  - ar_track_alvar_msgs – ~~  - mav_msgs – ~~  - arducopter_sitl_ros – ~~  - rotors_control – ~~  - rotors_joy_interface – ~~  - mavros – ~~  - mavros_extras – ~~  - ar_track_alvar – ~~  - rotors_gazebo_plugins – ~~  - test_mavros – ~~  - rotors_gazebo – ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ – +++ processing catkin package: ‘catkin_simple’ – ==> add_subdirectory(catkin_simple) – +++ processing catkin package: ‘glog_catkin’ – ==> add_subdirectory(glog_catkin) – Marking SHARED_LIBRARY “glog_catkin” of package “glog_catkin” for installation – +++ processing catkin metapackage: ‘mav_comm’ – ==> add_subdirectory(mav_comm/mav_comm) – +++ processing catkin package: ‘libmavconn’ – ==> add_subdirectory(mavros/libmavconn) – Boost version: 1.54.0 – Found the following Boost libraries: –   system – Selected MAVLink dialect: ardupilotmega – +++ processing catkin package: ‘rotors_description’ – ==> add_subdirectory(rotors_simulator/rotors_description) – +++ processing catkin package: ‘rotors_model’ – ==> add_subdirectory(rotors_simulator/rotors_model) – Eigen found (include: /usr/include/eigen3) – +++ processing catkin metapackage: ‘rotors_simulator’ – ==> add_subdirectory(rotors_simulator/rotors_simulator) – +++ processing catkin package: ‘ar_track_alvar_msgs’ – ==> add_subdirectory(ar_track_alvar_msgs) – Using these message generators: gencpp;genlisp;genpy – ar_track_alvar_msgs: 2 messages, 0 services – +++ processing catkin package: ‘mav_msgs’ – ==> add_subdirectory(mav_comm/mav_msgs) – Using these message generators: gencpp;genlisp;genpy – Eigen found (include: /usr/include/eigen3) – mav_msgs: 6 messages, 0 services – +++ processing catkin package: ‘arducopter_sitl_ros’ – ==> add_subdirectory(arducopter_sitl_ros) – +++ processing catkin package: ‘rotors_control’ – ==> add_subdirectory(rotors_simulator/rotors_control) – Eigen found (include: /usr/include/eigen3) – +++ processing catkin package: ‘rotors_joy_interface’ – ==> add_subdirectory(rotors_simulator/rotors_joy_interface) – +++ processing catkin package: ‘mavros’ – ==> add_subdirectory(mavros/mavros) – Using these message generators: gencpp;genlisp;genpy – Boost version: 1.54.0 – Found the following Boost libraries: –   system – Selected MAVLink dialect: ardupilotmega – mavros: 12 messages, 27 services – +++ processing catkin package: ‘mavros_extras’ – ==> add_subdirectory(mavros/mavros_extras) – Using these message generators: gencpp;genlisp;genpy – Selected MAVLink dialect: ardupilotmega – mavros_extras: 2 messages, 0 services – +++ processing catkin package: ‘ar_track_alvar’ – ==> add_subdirectory(ar_track_alvar) – Using these message generators: gencpp;genlisp;genpy – Eigen found (include: /usr/include/eigen3) – +++ processing catkin package: ‘rotors_gazebo_plugins’ – ==> add_subdirectory(rotors_simulator/rotors_gazebo_plugins) – Using these message generators: gencpp;genlisp;genpy CMake Error at /opt/ros/indigo/share/catkin/cmake/catkinConfig.cmake:75 (find_package): Could not find a package configuration file provided by ""planning_msgs"" with any of the following names: Add the installation prefix of “planning_msgs” to CMAKE_PREFIX_PATH or set ""planning_msgs_DIR"" to a directory containing one of the above files.  If ""planning_msgs"" provides a separate development package or SDK, be sure it has been installed. Call Stack (most recent call first): rotors_simulator/rotors_gazebo_plugins/CMakeLists.txt:6 (find_package) – Configuring incomplete, errors occurred! See also “/home/viki/catkin_ws/build/CMakeFiles/CMakeOutput.log”. See also “/home/viki/catkin_ws/build/CMakeFiles/CMakeError.log”. make: *** [cmake_check_build_system] Error 1 Invoking “make cmake_check_build_system” failed"
326,Gazebo + SITL setup EPIC FAIL,2,"I went through the whole setup process and fail. I did a bunch of steps more than wiki has. First, don’t try to setup Gazebo in a VirtualBox, make your life easy and do it in a native Ubuntu 14.04 installation. VM adds a lot of GPU virtualization issues, Gazebo needs OpenGL instructions not supported in VirtualBox 5.0.2 with Guest Addition 5.0.2. The only way to run, pretty slow but it runs, Gazebo + Ubuntu 14.04 on VirtualBox is installing mesa utils and adding: apt-get install mesa-utils export LIBGL_ALWAYS_SOFTWARE=1 And then OpenGL error are gone. Trade off is that Gazebo don’t run with GPU acceleration.  After that I follow the Wiki in order to setup catkin workspace for ArduCopter SITL. The issue here was a lot of missing dependencies. Actually every time I did run catkin_make a new unresolved dependency shows up. At catkin_ws/src I did install bunch more packages and dependencies: git clone * git clone * git clone * git clone * git clone * And then others ROS packages: sudo apt-get install ros-indigo-octomap sudo apt-get install ros-indigo-octomap-msgs sudo apt-get install ros-indigo-octomap-ros After that If your are lucky catkin_make will work… or not Other Issue I did found was that alexbuyval/rotors_simulator repo fork adds missing planning_msgs at catkin_make compilation time. In the other hand PX4/rotors_simulator original repo compiles just fine. But there is no quadX450_empty_world.launch in PX4 fork. Well I did try PX4 repo just check out if it compiles. Of course it wont work at run time because of missing adX450_empty_world. Anyway before I could run simulator… There are a couple of missing steps: Install pip and then MAVProxy sudo apt-get install python-pip python-dev build-essential sudo pip install --upgrade pip sudo pip install --upgrade pymavlink MAVProxy Then the wiki says run: sim_vehicle.sh -f arducopter_sitl_ros --console But it wont work because on alexbuyval/ardupilot fork there is no auto vehicle detection based on directory in sim_vehicle.sh so you need to run instead: sim_vehicle.sh -v ArduCopter -f arducopter_sitl_ros --console So I’m still fighting to get this setup done. By the way there is a VM image Ubuntu 14.04+ROS Indigo/Gazebo on internet  it would be a good starting point for many of you. * Been a while trying… long long time, and then I did fix missing planning_msgs removing both refrences from rotors_simulator/rotors_gazebo_plugins/CMakeLists.txt seems those reference were not needed. Now catkin_male runs up to 73% then compilation FAILS, error message: /home/viki/catkin_ws/src/rotors_simulator/rotors_gazebo/src/waypoint_publisher.cpp:24:40: fatal error: mav_msgs/CommandTrajectory.h: No such file or directory #include <mav_msgs/CommandTrajectory.h> Seems like alexbuyval’s mav_comm version is different from * Mar 19 they renamed CommandTrajectory to CommandTrajectoryPositionYaw at pull #14 * I did try downgrade ethz-asl/mav_comm to v1.0.0 where CommandTrajectory wasn’t changed yet… but it triggers a new set of compilation fails. So I give up… I need alexbuyval’s mav_comm in order to continue So many hours trying… ","FIXED! Fix 1 - missing package planning_msgs just remove any reference to planning_msgs from CMakeLists.txt and package.xml at rotors_simulator/rotors_gazebo_plugins/ Fix 2 Downgrade mav_comm to commit #13, just before #14 where they renamed CommandTrajectory to CommandTrajectoryPositionYaw cd ~/catkin_ws/src/mav_comm git reset --hard bf0bd59cad52ce31a3c1c48e37c0d350fe41c0bf Then catkin_make runs without errors. NEW ISSUE When I run sim_vehicle.sh -v ArduCopter -f arducopter_sitl_ros --console X term shows up an error. See image."
327,Install SITL on Windows,1,"Hi, I’ve got a problem when I install SITL on windows. I’m following the tutorial : [color=#0000FF]* Just after step “Download and make ArduPilot”, I try to run sim_vehicule.sh, but this file doesn’t exist, so I don’t where this file is and how to execute it? Can someone help me to fix this issues? Best regards Boris","Sorry guys, I just discover my mistake. When you install Cygwin, yo have to clone the code of ardupilot from Git directly in the directory “Cygwin/home/PC_name/”"
328,SITL Questions,0,"Hello! I have a couple of questions about the Ardupilot SITL feature:  Does it support hexacopter modeling? I’ve been able to run it as a quad and octacopter, but when I try to use a hexacopter frame it builds for a quad. I have ArduCopter 3.2.1 downloaded for my actual hexacopter, and I would like to test modified firmware. When I run the sim_vehicle.sh script, it builds ver 3.4, which is a developer version. How do I get it to  build 3.2.1 (which is the directory I’m running it from) Where is there a list of the data available to graph in flight? Thanks in advance for the help. ",
329,Can't Run SITL on Ubuntu 12.04,1,"I am trying to set up the SITL simulation on an Ubuntu machine. When I run sim_vehicle.sh from the ArduCopter directory, I get the error “unrecognized command line option ‘-std=gnu++11’”, and the build fails. When I run it from the ardupilot directory, it fails to  change to the vehicle directory. Any suggestions? Nathanial",Have you added the following lines to the end of your .bashrc file? export PATH=$PATH:$HOME/jsbsim/src export PATH=$PATH:$HOME/ardupilot/Tools/autotest export PATH=/usr/lib/ccache:$PATH
329,Can't Run SITL on Ubuntu 12.04,2,"I am trying to set up the SITL simulation on an Ubuntu machine. When I run sim_vehicle.sh from the ArduCopter directory, I get the error “unrecognized command line option ‘-std=gnu++11’”, and the build fails. When I run it from the ardupilot directory, it fails to  change to the vehicle directory. Any suggestions? Nathanial","I was able to solve the issue! My C compiler was too old and didn’t recognize some parts of the new C standards. Once I updated it and set the new version  to be the default, the simulation runs. Thanks for the reply!"
330,SITL autopilot doesn't pilot,1,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","hey I don’t know if it can help help anyone but since i’ve solved the issue a while ago i’m gonna post it. so first of all to arm properly the throttle the command is pretty straight forward : “arm throttle”, then for some reason i can’t manage to make the arducopter take-off using waypoint. So I had to use a function I defined in mavproxy.py. You could also use this command to simulate a rc signal : “rc 3 1700” The function I used is something I took from the autotest.py file. [code]def cmd_takeoff(args): alt_min = 20 if mpstate.vehicle_type == ‘copter’: if not mpstate.master().motors_armed(): mpstate.master().arducopter_arm() mpstate.master().motors_armed_wait() return False def wait_alt(alt_min, alt_max, timeout=30): climb_rate = 0 previous_alt = 0 tstart = time.time() print(“Waiting for altitude between %u and %u” % (alt_min, alt_max)) while time.time() < tstart + timeout: print(“Failed to attain altitude range”) return False[/code] then i added the cmd takeoff in the command list : command_map = {     'script'  : (cmd_script,   'run a script of MAVProxy commands'),     'setup'   : (cmd_setup,    'go into setup mode'),     'reset'   : (cmd_reset,    'reopen the connection to the MAVLink master'),     'status'  : (cmd_status,   'show status'),     'set'     : (cmd_set,      'mavproxy settings'),     'bat'     : (cmd_bat,      'show battery levels'),     'alt'     : (cmd_alt,      'show relative altitude'),     'link'    : (cmd_link,     'show link status'),     'reboot'  : (cmd_reboot,   'reboot the autopilot'),     'up'      : (cmd_up,       'adjust TRIM_PITCH_CD up by 5 degrees'),     'watch'   : (cmd_watch,    'watch a MAVLink pattern'),     'module'  : (cmd_module,   'module commands'),     'alias'   : (cmd_alias,    'command aliases'),     'time'    : (cmd_time,     'Show autopilot time'),     'takeoff' : (cmd_takeoff,   'Drone Takes off'), #added     } well that’s it  I hope it could help someone."
330,SITL autopilot doesn't pilot,2,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","Hi Sam, i’m new in this forum. I have the same problem, so i add the code you posted here. But i don’t understand where i have to call the takeoff function that i created. I can’t call it from the MAV terminal (the page where i put the arm and the wp command). Which command should i write there to call the takeoff command? Thank you, Enrico"
330,SITL autopilot doesn't pilot,3,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","Hi Sam, i didn’t rebuild and reinstall MAVProxy. From terminal i went to the MAVProxy folder and i ran this commands: Now it is working, Enrico"
330,SITL autopilot doesn't pilot,4,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","Hi, Yes I forgot to say that after that you have to rebuild MAVProxy. I’m glad you solved your issue "
330,SITL autopilot doesn't pilot,5,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","I am using the sitl simulator, now it starts correctly and thanks to your function it takes off well, but it still have some trouble during the flight. It often hit the ground, and i don’t understand if it is a simulator’s problem or one my problem (i pass the wrong parameters or whatever else). I would like to solve this problem before i use the true quadcopter. Does your simulator have the same problem? Have you any ideas of what could it be?"
330,SITL autopilot doesn't pilot,6,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.",Well to be honnest i don’t have those problems… but I know that the message displayed by the simulation : “Hit ground at X m/s” is written by the multicopter.py which is part of the component simulation. I don’t know if it can helps you :s
330,SITL autopilot doesn't pilot,7,"Hi, I’m trying to make the SITL work and I have some issue. I followed * tutorials (and the *), it worked fine. I run the following command : * in the ardupilot/Tools/autotest folder (since the sim_vehicle.sh is there now), I then have the alert message :  “APM: PreArm: RC not calibrated” which I “solve” by running; * in the terminal. Then I load some waypoint by calling the toff-loop file ( wp load ArduPlane-Missions/CMAC-toff-loop.txt ), it does work. Finally I would like my simulated ArduCopter to go through all the check point so i turn it in auto mode ( which works cause i have the AUTO> prompt ) but then nothing happend. the Alt value stay at 0 so is the rest of value displayed by the GUI. During the whole time I have the same message displayed ( in my terminal ) over and over : [code]Traceback (most recent call last): File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 967, in on_mouse File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_slipmap.py”, line 825, in update_position File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/mp_elevation.py”, line 44, in GetElevation File “build/bdist.linux-x86_64/egg/MAVProxy/modules/mavproxy_map/srtm.py”, line 179, in getTile IOError: [Errno 2] No such file or directory: ‘/home/samuel/.tilecache/SRTM/filelist_python’[/code] So i searched a bit and found out that it’s a file generated (downloaded ?) by the srtm.py but it seems it does create (or download) the file properly (at least for me). (By the way the map doesn’t load aswell but the two thing are related). Thanks in advance, Sam PS : if anyone has a better fix for the ARMIN_CHECK thing i’m taking it, i tryied to change it directly in the AP_Arming.cpp file by setting require at 0 : * I also set armed to true in the constructor ( armed(true) ) but i doesn’t seems to work.","I checked my MAVProxy folder and it didn’t have setup.py file but I had setup.py file in pvmavlink folder. Is it the same folder for running the commands ? python setup.py build python setup.py install The error I am getting is: MAV> STABILIZE> Received 511 parameters Process Process-1: Traceback (most recent call last): File “/usr/lib/python2.7/multiprocessing/process.py”, line 258, in _bootstrap self.run() File “/usr/lib/python2.7/multiprocessing/process.py”, line 114, in run self._target(*self._args, **self._kwargs) File “/usr/local/lib/python2.7/dist-packages/MAVProxy/modules/mavproxy_map/srtm.py”, line 128, in createFileListHTTP conn.request(“GET”,self.directory) File “/usr/lib/python2.7/httplib.py”, line 973, in request self._send_request(method, url, body, headers) File “/usr/lib/python2.7/httplib.py”, line 1007, in _send_request self.endheaders(body) File “/usr/lib/python2.7/httplib.py”, line 969, in endheaders self._send_output(message_body) File “/usr/lib/python2.7/httplib.py”, line 829, in _send_output self.send(msg) File “/usr/lib/python2.7/httplib.py”, line 791, in send self.connect() File “/usr/lib/python2.7/httplib.py”, line 772, in connect self.timeout, self.source_address) File “/usr/lib/python2.7/socket.py”, line 571, in create_connection raise err error: [Errno 110] Connection timed out [Errno 2] No such file or directory: ‘/home/shiv/.tilecache/SRTM/filelist_python’ [Errno 2] No such file or directory: ‘/home/shiv/.tilecache/SRTM/filelist_python’ STABILIZE> [Errno 2] No such file or directory: ‘/home/shiv/.tilecache/SRTM/filelist_python’ [Errno 2] No such file or directory: ‘/home/shiv/.tilecache/SRTM/filelist_python’ Exception in thread Thread-1: Traceback (most recent call last): File “/usr/lib/python2.7/threading.py”, line 810, in __bootstrap_inner self.run() File “/usr/lib/python2.7/threading.py”, line 763, in run self.__target(*self.__args, **self.__kwargs) File “/usr/local/lib/python2.7/dist-packages/MAVProxy/modules/lib/wxconsole.py”, line 62, in watch_thread msg = self.parent_pipe_recv.recv() EOFError shiv@shiv-VirtualBox:~/ardupilot/ArduCopter$ Please help me as I am new to ardupilot."
331,Freefall in SITL,1,"Hay, my first post! I’m trying to simulate a freefall scenario in SITL (using just mavproxy). What I do is basically climb to some altitude and then disarm the throttle. I pick up the raw acceleration values from RAW_IMU.zacc. I pick up the servos values from SERVO_OUTPUT_RAW. The thing is, while initially the z acceleration basically goes to zero (as it should, since all servos are set to 1000), zacc immediately starts dropping back to baseline value of -1000. Which is weird, considering that all the engines are cut. What am I missing here?","I just would like to add: I get that it reaches terminal velocity at some point, but it’s only something like 14 m/s, which seems a bit too low to be honest. How fast do these things actually fall, anyway? The real vehicle is an 8 kilo hexacopter."
331,Freefall in SITL,2,"Hay, my first post! I’m trying to simulate a freefall scenario in SITL (using just mavproxy). What I do is basically climb to some altitude and then disarm the throttle. I pick up the raw acceleration values from RAW_IMU.zacc. I pick up the servos values from SERVO_OUTPUT_RAW. The thing is, while initially the z acceleration basically goes to zero (as it should, since all servos are set to 1000), zacc immediately starts dropping back to baseline value of -1000. Which is weird, considering that all the engines are cut. What am I missing here?","I think you would expect to see something like what you have shown. In the hover the motors exactly counter the force of gravity, so the accelerometer experiences -1G (the difference between the vehicle acceleration and gravity). The instant the motors stop providing a force counter to gravity, the accelerometer will experience an acceleration of zero, as the vehicle will initially accelerate at 1G (1G + -1G = 0). The wind resistance will begin to build immediately, which will slow the vehicle acceleration progressively more the faster it goes. This will result in the accelerometer measured value decreasing from 0, back to -1G again when the vehicle reaches terminal velocity (acceleration=0). Exactly how long this takes will depend on the terminal velocity of the vehicle, which could be lower than you expect, if the effect of windmilling propellers taken into account. I don’t know how accurate SITL models the aerodynamic drag on the vehicle; I imagine it will get complicated very quickly, depending on orientation and prop behaviour. It would be interesting to attempt to stabilise a (falling) multi-rotor by using windmilling props to generate enough power for the flight controller, and ESC regenerative braking to control the attitude (it would probably be academic when it hit the ground)."
332,SITL for Traditional Helicopters,1,"Hi everyone! Is there any way to run SITL for trad helicopters? I already have custom simulator with trad-heli physical model and some code for socket data exchange between sim and desktop APM. But i don’t understand how to change SITL frame type from quad to trad heli. Is this possible at all? P.S. I swear i read a posting about trad-heli-testing possibility from developer some time ago, but i cannot find it  ",SOLVED: just build arducopter for heli frame: * remember that sim_vehicle.sh rebuild arducopter by default so you need to run it with -N parameter.
332,SITL for Traditional Helicopters,2,"Hi everyone! Is there any way to run SITL for trad helicopters? I already have custom simulator with trad-heli physical model and some code for socket data exchange between sim and desktop APM. But i don’t understand how to change SITL frame type from quad to trad heli. Is this possible at all? P.S. I swear i read a posting about trad-heli-testing possibility from developer some time ago, but i cannot find it  ","When do we have to write this code? I mean, after runing the SITL? Because when we are running it, we have only the options of runing the copter, the plane and the rover. Thanks"
333,From simulink to APM,0,"Hello everyone. I am student, i did a model in simulink to control the drone. i did my simulation with x-plane. i generate he code in matlab, now i want to upload  my code into apm have you an idea for that ??!! thanks",
334,SITL + Java can't change flight mode,0,"Hi all, I’m writing some Java code to control a quadcopter. It is based on the code from the DroidPlanner project on GitHub ( * ), using the Desktop example from the DroneKit-Android project. It uses also the Java MavLink library. My code is able to connect the drone (via the serial port) or SITL via a TCP connection and I’m able to receive and parse all the MavLink messages. I would like to test my code with a SITL, but it seems the SITL doesn’t react well to the messages I send and I cannot change flight mode. Here is my setup: Linux box running my java code in Eclipse and SITL started and working. When I test it on the simulator, it seems I cannot change the flight mode: every time I switch i.e. to loiter, then it returns back to stabilize. I use the following command in Java:  drone.getState().setMode(ApmModes.ROTOR_LOITER);  (following the droidplanner code). If I start the python mavproxy module (with the --console option) and connect it to the same SITL session via another TCP port, the console window doesn’t show the mode switch (i.e from stabilize to loiter), but only the mode the SITL was set on. If I change the mode from the mavproxy command line with: * both the mavproxy console & my code react to the change and switch to the right flight mode. Moreover, it seems that if I run the same code directly on the quadcopter, the PixHawk reacts correctly. However, I’d like to test my full program on the SITL before running it on the copter… Anyone can help?",
335,"SITL map stuck at ""Map downloading 2"" (Probably doesn't run)",1,"Hello, I’m new to APM so sorry if this has been asked a million times. I tried to search for a solution, but didn’t find one. I’m trying to run ArudCopter under SITL, but I ran into some problems. After trying the instructions in the wiki (which I think are outdated) I tried the installer script from this page: * And that seem to work - The installation seem to work okay, and after running the ArduCopter (pressing 2 on the menu) it looks like it’s running. I’m seeing a map window, and a console window (which says “Ready to FLY ublox”). BUT the map has a message saying “Map download 35”, which counts down to 2 and stays there (It takes like 20 minutes to get from 35 to 2, and I waited like an hour more, but it didn’t continue its count). Other than that, I think its working. I’m not sure - ‘arm’ and ‘takeoff’ did stuff. But I can’t really see anything on the unloaded map. So, where can I get more info on the running simulation? And how can I debug the map thing? Thanks Nitay",Nice that the script worked for you.  Regarding you map problem; Have a look at this discussion: -> * Long story short: Maximize your map-window and select another map provider from the “View -> Service” meny.
335,"SITL map stuck at ""Map downloading 2"" (Probably doesn't run)",2,"Hello, I’m new to APM so sorry if this has been asked a million times. I tried to search for a solution, but didn’t find one. I’m trying to run ArudCopter under SITL, but I ran into some problems. After trying the instructions in the wiki (which I think are outdated) I tried the installer script from this page: * And that seem to work - The installation seem to work okay, and after running the ArduCopter (pressing 2 on the menu) it looks like it’s running. I’m seeing a map window, and a console window (which says “Ready to FLY ublox”). BUT the map has a message saying “Map download 35”, which counts down to 2 and stays there (It takes like 20 minutes to get from 35 to 2, and I waited like an hour more, but it didn’t continue its count). Other than that, I think its working. I’m not sure - ‘arm’ and ‘takeoff’ did stuff. But I can’t really see anything on the unloaded map. So, where can I get more info on the running simulation? And how can I debug the map thing? Thanks Nitay",Ah! That did it. I’m using MicrosoftSat now and it’s working well. Any tips on how to connect the simulated quad to a mission planner and why doesn’t it take off will be very welcome. I’ll dig in the docs later tonight. Thanks for you help Nitay
335,"SITL map stuck at ""Map downloading 2"" (Probably doesn't run)",3,"Hello, I’m new to APM so sorry if this has been asked a million times. I tried to search for a solution, but didn’t find one. I’m trying to run ArudCopter under SITL, but I ran into some problems. After trying the instructions in the wiki (which I think are outdated) I tried the installer script from this page: * And that seem to work - The installation seem to work okay, and after running the ArduCopter (pressing 2 on the menu) it looks like it’s running. I’m seeing a map window, and a console window (which says “Ready to FLY ublox”). BUT the map has a message saying “Map download 35”, which counts down to 2 and stays there (It takes like 20 minutes to get from 35 to 2, and I waited like an hour more, but it didn’t continue its count). Other than that, I think its working. I’m not sure - ‘arm’ and ‘takeoff’ did stuff. But I can’t really see anything on the unloaded map. So, where can I get more info on the running simulation? And how can I debug the map thing? Thanks Nitay","Cool.  You’ll find the answers to your questions in the guides on the RCG-thread. Basically, you need to specify an IP-adress in your startup command, and connect MP using UDP. The copter needs to be armed and RC_3 set to >1500 to take off. Also, don’t forget to check out the MavProxy documentation, to get the most out of it. *"
336,SITL Does not Fly,1,"Hi everyone ! I have an issue to make sitl works. I have the same issue as describe in this post by samuel: * The only difference is that the map works for me  I have followed the: * I have downloaded the code of ardupilot, setup the latest MAVProxy, run the sim_vehicle script etc… but my copter does not move at all. I did the exact same thing that the post related above… I add the code he wrote to mavproxy, I make python setup.py build/install… I try other tutorial (older), I always get the same… Is there anything I missed ?",Same issue here.  followed all the instructions but no results.  Is there still no fix on this?
336,SITL Does not Fly,2,"Hi everyone ! I have an issue to make sitl works. I have the same issue as describe in this post by samuel: * The only difference is that the map works for me  I have followed the: * I have downloaded the code of ardupilot, setup the latest MAVProxy, run the sim_vehicle script etc… but my copter does not move at all. I did the exact same thing that the post related above… I add the code he wrote to mavproxy, I make python setup.py build/install… I try other tutorial (older), I always get the same… Is there anything I missed ?","*, This way works for me: *"
337,Problem with location in SITL,1,"Hey, I just got SITL with arducopter set up but I am having a problem. I am unable to load a location with FlightGear or with the “–map” option for MavProxy. The map for MavProxy loads but is unable to get images of the location and FlightGear just sits at “Loading scenery” and prints out this code: Error in ground network. Failed to find first waypoint: 0 at YSCB Error in ground network. Failed to find first waypoint: 0 at YSSY Error in ground network. Failed to find first waypoint: 0 at YSSY Error in ground network. Failed to find first waypoint: 0 at YSCB Error in ground network. Failed to find first waypoint: 0 at YSSY Anyone have any insight? Thanks!","For me, I need to start FlightGear with: cd ardupilot/Tools/autotest [enter] ./fg_quad_view [enter] and let it start up completely before starting SITL. I also had to edit out ""–disable-intro-music "" and ""–disable-skyblend "" from fg_quad_view The first load of MavProxy maps takes around a minute for me. Subsequent starts at the same location are faster. Sorry for stating the obvious, but maps require an internet connection."
337,Problem with location in SITL,2,"Hey, I just got SITL with arducopter set up but I am having a problem. I am unable to load a location with FlightGear or with the “–map” option for MavProxy. The map for MavProxy loads but is unable to get images of the location and FlightGear just sits at “Loading scenery” and prints out this code: Error in ground network. Failed to find first waypoint: 0 at YSCB Error in ground network. Failed to find first waypoint: 0 at YSSY Error in ground network. Failed to find first waypoint: 0 at YSSY Error in ground network. Failed to find first waypoint: 0 at YSCB Error in ground network. Failed to find first waypoint: 0 at YSSY Anyone have any insight? Thanks!",* * I have been doing what you have suggested so far. Also I have tried changing the service the imagery comes from and that does not work either. The interesting thing is that I run exactly the same setup on my personal computer with the same OS(Xubuntu 14.04) on the same network and everything works and runs great.
338,How to setup SITL on Win7,1,"Dear board members, a couple of friends an me bought a DIY-drone (hexacopter) and the ardupilot. We are very impressed of the performance of the whole system. So, at first, thank you very much for the development work and a big bow to your great work! We want to use the hexacopter for special flight maneuvers. For that reason we have to adapt and modify the control strategy. Modifying the control strategy is easy - but getting a stable and robust system is not   For that reason we want to use SITL to test it. I found this page * on how to setup SITL, but unfortunately it’s only about Linux. However it says that SITL is working on Win 7, which is our preferred development system. I’d like to know: a) Is there some kind of documentation how to run SITL for ardupilot? b) If not, do you have some short explanations (which compiler, how to start, parameters, etc.) Any hint will be appreciated. If you can’t help us, that’s OK, than we’ll have to figure it out ourselve. Thanks, Alex P.S.: This is a ardupilot-related question. As there is no Ardupilot-section, I put it into the helicopter-section.","Hi Alex, I think that SITL is supported on windows by using a virtual machine… to run linux. Here are two recent references for setting up the environment: * * -Andrew"
339,Error with setting up SITL in Linux,1,"[color=#004040][color=#000040]I just started ardupilot development and have been trying to setup SITL for Windows. I am at the Step 7(wiki) of setting up SITL using Linux. I keep getting an error "" wp:command not found"" whenever i use “wp load …/Tools/autotest/ArduPlane-Missions/CMAC-toff-loop.txt”. I started with trying to setup SITL on Windows * which basically guides you to setting up a Virtual Machine with Ubuntu and installing the necessary files for SITL on Linux. * I am new to the whole UAV- Linux development environment and would appreciate any thoughts or help with regards to this. Thanks.[/color] PS: I have already checked for the paths in .bashrc and changed them accordingly as some of the mavproxy stuff didn’t get installed in the Home directory. I also ran the line endings fixes by doing the dos2unix.[/color]","I’m guessing something is missing or wrong in your setup. The wp load command works fine for me. I and some guys at RCG wrote a script and guides for SITL installation, which, at least for me, works fine. I’d appreciate if you could try it out, to see if I missed something."
339,Error with setting up SITL in Linux,2,"[color=#004040][color=#000040]I just started ardupilot development and have been trying to setup SITL for Windows. I am at the Step 7(wiki) of setting up SITL using Linux. I keep getting an error "" wp:command not found"" whenever i use “wp load …/Tools/autotest/ArduPlane-Missions/CMAC-toff-loop.txt”. I started with trying to setup SITL on Windows * which basically guides you to setting up a Virtual Machine with Ubuntu and installing the necessary files for SITL on Linux. * I am new to the whole UAV- Linux development environment and would appreciate any thoughts or help with regards to this. Thanks.[/color] PS: I have already checked for the paths in .bashrc and changed them accordingly as some of the mavproxy stuff didn’t get installed in the Home directory. I also ran the line endings fixes by doing the dos2unix.[/color]",Thanks a lot! Your guide is perfect. I actually found it before you commented here. I tried the SITL installer and it works now. I just have to figure out the MavProxy commands. I was able to load the waypoints but unable to make the quad follow them. Can you help me with any of that ?
339,Error with setting up SITL in Linux,3,"[color=#004040][color=#000040]I just started ardupilot development and have been trying to setup SITL for Windows. I am at the Step 7(wiki) of setting up SITL using Linux. I keep getting an error "" wp:command not found"" whenever i use “wp load …/Tools/autotest/ArduPlane-Missions/CMAC-toff-loop.txt”. I started with trying to setup SITL on Windows * which basically guides you to setting up a Virtual Machine with Ubuntu and installing the necessary files for SITL on Linux. * I am new to the whole UAV- Linux development environment and would appreciate any thoughts or help with regards to this. Thanks.[/color] PS: I have already checked for the paths in .bashrc and changed them accordingly as some of the mavproxy stuff didn’t get installed in the Home directory. I also ran the line endings fixes by doing the dos2unix.[/color]","Thanks.   I had help. (A lot…) Just guessing here: You need to disable arming check ( param set ARMING_CHECK 0 ) Arm the throttle ( arm throttle ) Throttle up to take off ( rc 3 1700 ) Set mode auto ( mode auto ) Easier to do if you connect to MissionPlanner, and have a joystick connected. The MavProxy docs and user guides are here: *"
339,Error with setting up SITL in Linux,4,"[color=#004040][color=#000040]I just started ardupilot development and have been trying to setup SITL for Windows. I am at the Step 7(wiki) of setting up SITL using Linux. I keep getting an error "" wp:command not found"" whenever i use “wp load …/Tools/autotest/ArduPlane-Missions/CMAC-toff-loop.txt”. I started with trying to setup SITL on Windows * which basically guides you to setting up a Virtual Machine with Ubuntu and installing the necessary files for SITL on Linux. * I am new to the whole UAV- Linux development environment and would appreciate any thoughts or help with regards to this. Thanks.[/color] PS: I have already checked for the paths in .bashrc and changed them accordingly as some of the mavproxy stuff didn’t get installed in the Home directory. I also ran the line endings fixes by doing the dos2unix.[/color]","I have been doing that. But for some reason, when I put it in ‘auto’, it just stays there instead of following the waypoints. I will try to figure it out. Yes, I have started using the Mission Planner. I need to understand that as well. I don’t have a a joystick at the moment. I also wanted to ask you if you are into APM development. I have been trying to setup Eclipse(*) to build the code and have been running into issues with the setup. Thanks in advance."
339,Error with setting up SITL in Linux,5,"[color=#004040][color=#000040]I just started ardupilot development and have been trying to setup SITL for Windows. I am at the Step 7(wiki) of setting up SITL using Linux. I keep getting an error "" wp:command not found"" whenever i use “wp load …/Tools/autotest/ArduPlane-Missions/CMAC-toff-loop.txt”. I started with trying to setup SITL on Windows * which basically guides you to setting up a Virtual Machine with Ubuntu and installing the necessary files for SITL on Linux. * I am new to the whole UAV- Linux development environment and would appreciate any thoughts or help with regards to this. Thanks.[/color] PS: I have already checked for the paths in .bashrc and changed them accordingly as some of the mavproxy stuff didn’t get installed in the Home directory. I also ran the line endings fixes by doing the dos2unix.[/color]","I’m sure you’ll figure it out. Using MissionPlanner is a bit more intuitive. Try guided mode, or setup your own mission. No, I’m not a developer, just a regular user."
340,Why is there no geofence support for ArduCopter?,1,It seems that geofencing in mission planner is only supported on ArduPlane. Is it possible to activate it for ArduCopter as well? Does anyone know why it’s not possible?,"Hi rasen, Simple Geofence is certainly available for ArduCopter in a variety of switchable and failsafe modes: * If you are having a problem implementing it, you will need to be more specific.   Best Regards, Gary"
340,Why is there no geofence support for ArduCopter?,2,It seems that geofencing in mission planner is only supported on ArduPlane. Is it possible to activate it for ArduCopter as well? Does anyone know why it’s not possible?,I believe some of the reason for simplicity in the ArduCopter fence is to make it a low overhead. Polygon fence is sure to come in future releases.
340,Why is there no geofence support for ArduCopter?,3,It seems that geofencing in mission planner is only supported on ArduPlane. Is it possible to activate it for ArduCopter as well? Does anyone know why it’s not possible?,"Oh sorry. I knew that there was simple geofence, but I need complex because I need to specify rectangles in which the copter needs to fly in."
341,APM: AeroSimRC: Simulator Setup in Ver3,1,"I am very interested in interfacing the APM2.5 and the flight simulator for auto-flight. My problem is the new version 3 of mission planer has the option for AeroSimRC simulator program selection. I have used the XPlane ver 10 for fixed wing RC planes without problems. I can’t get the Quad Copter to work with the Xplane simulator because it doesn’t have a Quad RC in it’s selection of RC aircraft. Does anyone here know how to interface the AeroSimRC simulator with the APM Ground Station simulated mission. I want to setup a Quad Demo system with a simulator multitasking on the PC for flight training with HIL. Utilizing the ARDUPilot APM 2.5 and the 3DRobitics telemetry ground station I have full control from the ground. With the Ground control setup I can fly a Tactical surveillance mission from takeoff, completing a mission, to landing all under the AutoPilot control. This is a complete Autonomous system. With the X-Plane version 10 Simulator, I can fly from the comfort of my home and have all my hardware in the system to simulate flight. * Thanks: YumaMike",I was sure someone had this problem and could help me!!!
341,APM: AeroSimRC: Simulator Setup in Ver3,2,"I am very interested in interfacing the APM2.5 and the flight simulator for auto-flight. My problem is the new version 3 of mission planer has the option for AeroSimRC simulator program selection. I have used the XPlane ver 10 for fixed wing RC planes without problems. I can’t get the Quad Copter to work with the Xplane simulator because it doesn’t have a Quad RC in it’s selection of RC aircraft. Does anyone here know how to interface the AeroSimRC simulator with the APM Ground Station simulated mission. I want to setup a Quad Demo system with a simulator multitasking on the PC for flight training with HIL. Utilizing the ARDUPilot APM 2.5 and the 3DRobitics telemetry ground station I have full control from the ground. With the Ground control setup I can fly a Tactical surveillance mission from takeoff, completing a mission, to landing all under the AutoPilot control. This is a complete Autonomous system. With the X-Plane version 10 Simulator, I can fly from the comfort of my home and have all my hardware in the system to simulate flight. * Thanks: YumaMike",Just another posting to see if anyone is using the Simulator and Mission Planner for Training.
341,APM: AeroSimRC: Simulator Setup in Ver3,3,"I am very interested in interfacing the APM2.5 and the flight simulator for auto-flight. My problem is the new version 3 of mission planer has the option for AeroSimRC simulator program selection. I have used the XPlane ver 10 for fixed wing RC planes without problems. I can’t get the Quad Copter to work with the Xplane simulator because it doesn’t have a Quad RC in it’s selection of RC aircraft. Does anyone here know how to interface the AeroSimRC simulator with the APM Ground Station simulated mission. I want to setup a Quad Demo system with a simulator multitasking on the PC for flight training with HIL. Utilizing the ARDUPilot APM 2.5 and the 3DRobitics telemetry ground station I have full control from the ground. With the Ground control setup I can fly a Tactical surveillance mission from takeoff, completing a mission, to landing all under the AutoPilot control. This is a complete Autonomous system. With the X-Plane version 10 Simulator, I can fly from the comfort of my home and have all my hardware in the system to simulate flight. * Thanks: YumaMike",I’m looking for how to do this also. Here’s the closest I’ve come to finding instructions. I know it’s doable because this guy has a video of AeroSIM RC 4.1 connected to APM MP 1.2.85 * I’ve posted a comment asking him how he did it.
341,APM: AeroSimRC: Simulator Setup in Ver3,4,"I am very interested in interfacing the APM2.5 and the flight simulator for auto-flight. My problem is the new version 3 of mission planer has the option for AeroSimRC simulator program selection. I have used the XPlane ver 10 for fixed wing RC planes without problems. I can’t get the Quad Copter to work with the Xplane simulator because it doesn’t have a Quad RC in it’s selection of RC aircraft. Does anyone here know how to interface the AeroSimRC simulator with the APM Ground Station simulated mission. I want to setup a Quad Demo system with a simulator multitasking on the PC for flight training with HIL. Utilizing the ARDUPilot APM 2.5 and the 3DRobitics telemetry ground station I have full control from the ground. With the Ground control setup I can fly a Tactical surveillance mission from takeoff, completing a mission, to landing all under the AutoPilot control. This is a complete Autonomous system. With the X-Plane version 10 Simulator, I can fly from the comfort of my home and have all my hardware in the system to simulate flight. * Thanks: YumaMike",Thanks a bunch: I will check into this and get back with you on the results. YumaMike *
342,Quad APM2.5 with Flightgear Simulator problem?,1,I’m using APM 2.5 with HIL simulation on the Fixed wing without problems. My issue is the Quad copter and the new Version 3 hil firmware not working and I have followed The wiki/hil=quad to the letter for install and it will not operate the Simulator/Quad HIL.  I need some help on how to setup Quad HIL in the mission planner.,Just a followup to see if anyone is using the Simulator with Mission Planner for training.
